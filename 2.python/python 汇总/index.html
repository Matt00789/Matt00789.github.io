<!DOCTYPE html>
<html lang="zh-CN">
  <head hexo-theme='https://github.com/volantis-x/hexo-theme-volantis/tree/4.2.0'>
  <meta charset="utf-8">
  <!-- SEO相关 -->
  
    
  
  <!-- 渲染优化 -->
  <meta http-equiv='x-dns-prefetch-control' content='on' />
  <link rel='dns-prefetch' href='https://cdn.jsdelivr.net'>
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
  <meta name="renderer" content="webkit">
  <meta name="force-rendering" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="HandheldFriendly" content="True" >
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <link rel="preload" href="/css/first.css" as="style">
  

  <!-- 页面元数据 -->
  
  <title>python_汇总 - ☕憩息屋</title>
  
    <meta name="keywords" content="reading">
  

  

  <!-- feed -->
  

  <!-- import meta -->
  

  <!-- link -->
  
    <link rel="shortcut icon" type='image/x-icon' href="/sir.ico">
  

  <!-- import link -->
  

  
    
<link rel="stylesheet" href="/css/first.css">

  

  
  <link rel="stylesheet" href="/css/style.css" media="print" onload="this.media='all';this.onload=null">
  <noscript><link rel="stylesheet" href="/css/style.css"></noscript>
  

  <script id="loadcss"></script>

  
<script>
if (/*@cc_on!@*/false || (!!window.MSInputMethodContext && !!document.documentMode))
    document.write(
	'<style>'+
		'html{'+
			'overflow-x: hidden !important;'+
			'overflow-y: hidden !important;'+
		'}'+
		'.kill-ie{'+
			'text-align:center;'+
			'height: 100%;'+
			'margin-top: 15%;'+
			'margin-bottom: 5500%;'+
		'}'+
	'</style>'+
    '<div class="kill-ie">'+
        '<h1><b>抱歉，您的浏览器无法访问本站</b></h1>'+
        '<h3>微软已经于2016年终止了对 Internet Explorer (IE) 10 及更早版本的支持，<br/>'+
        '继续使用存在极大的安全隐患，请使用当代主流的浏览器进行访问。</h3><br/>'+
        '<a target="_blank" rel="noopener" href="https://www.microsoft.com/zh-cn/WindowsForBusiness/End-of-IE-support"><strong>了解详情 ></strong></a>'+
    '</div>');
</script>


<noscript>
	<style>
		html{
			overflow-x: hidden !important;
			overflow-y: hidden !important;
		}
		.kill-noscript{
			text-align:center;
			height: 100%;
			margin-top: 15%;
			margin-bottom: 5500%;
		}
	</style>
    <div class="kill-noscript">
        <h1><b>抱歉，您的浏览器无法访问本站</b></h1>
        <h3>本页面需要浏览器支持（启用）JavaScript</h3><br/>
        <a target="_blank" rel="noopener" href="https://www.baidu.com/s?wd=启用JavaScript"><strong>了解详情 ></strong></a>
    </div>
</noscript>

</head>

  <body>
    

<header id="l_header" class="l_header auto shadow blur auto show" style='opacity: 0' >
  <div class='container'>
  <div id='wrapper'>
    <div class='nav-sub'>
      <p class="title"></p>
      <ul class='switcher nav-list-h m-phone' id="pjax-header-nav-list">
        <li><a id="s-comment" class="fas fa-comments fa-fw" target="_self" href='javascript:void(0)'></a></li>
        
          <li><a id="s-toc" class="s-toc fas fa-list fa-fw" target="_self" href='javascript:void(0)'></a></li>
        
      </ul>
    </div>
		<div class="nav-main">
      
        
        <a class="title flat-box" target="_self" href='/'>
          
          
          
            ☕憩息屋
          
        </a>
      

			<div class='menu navigation'>
				<ul class='nav-list-h m-pc'>
          
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=http://www.demo443.com:4567/
                  
                  
                  
                    id="http:wwwdemo443com:4567"
                  >
                  <i class='fas fa-fan fa-spin fa-fw'></i>技术博客
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/apidocs/
                  
                  
                  
                    id="apidocs"
                  >
                  💀开发资料
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/study/
                  
                  
                  
                    id="study"
                  >
                  📚学习资料
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/friends/
                  
                  
                  
                    id="friends"
                  >
                  🔖网址收藏
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" 
                  
                  
                  >
                  🔨工具箱
                </a>
                
                  <ul class="list-v">
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/tools/
                  
                  
                  
                    id="tools"
                  >
                  📐环境&工具
                </a>
                
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/bat/
                  
                  
                  
                    id="bat"
                  >
                  🐍bat &脚本
                </a>
                
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/sucai/
                  
                  
                  
                    id="sucai"
                  >
                  🎲模板&素材
                </a>
                
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/music&amp;videos/
                  
                  
                  
                    id="music&amp;videos"
                  >
                  🔇影视&音乐
                </a>
                
              </li>
            
          
                    
                  </ul>
                
              </li>
            
          
          
            
            
              <li>
                <a class="menuitem flat-box header toggle-mode-btn">
                  <i class=' fa-fw'></i>🌗开灯/关灯
                </a>
              <li>
            
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/about/
                  
                  
                  
                    id="about"
                  >
                  💬关于我
                </a>
                
              </li>
            
          
          
				</ul>
			</div>

      <div class="m_search">
        <form name="searchform" class="form u-search-form">
          <i class="icon fas fa-search fa-fw"></i>
          <input type="text" class="input u-search-input" placeholder="站内搜索" />
        </form>
      </div>

			<ul class='switcher nav-list-h m-phone'>
				
					<li><a class="s-search fas fa-search fa-fw" target="_self" href='javascript:void(0)'></a></li>
				
				<li>
          <a class="s-menu fas fa-bars fa-fw" target="_self" href='javascript:void(0)'></a>
          <ul class="menu-phone list-v navigation white-box">
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=http://www.demo443.com:4567/
                  
                  
                  
                    id="http:wwwdemo443com:4567"
                  >
                  <i class='fas fa-fan fa-spin fa-fw'></i>技术博客
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/apidocs/
                  
                  
                  
                    id="apidocs"
                  >
                  💀开发资料
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/study/
                  
                  
                  
                    id="study"
                  >
                  📚学习资料
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/friends/
                  
                  
                  
                    id="friends"
                  >
                  🔖网址收藏
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" 
                  
                  
                  >
                  🔨工具箱
                </a>
                
                  <ul class="list-v">
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/tools/
                  
                  
                  
                    id="tools"
                  >
                  📐环境&工具
                </a>
                
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/bat/
                  
                  
                  
                    id="bat"
                  >
                  🐍bat &脚本
                </a>
                
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/sucai/
                  
                  
                  
                    id="sucai"
                  >
                  🎲模板&素材
                </a>
                
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/music&amp;videos/
                  
                  
                  
                    id="music&amp;videos"
                  >
                  🔇影视&音乐
                </a>
                
              </li>
            
          
                    
                  </ul>
                
              </li>
            
          
            
              
            
              <li>
                <a class="menuitem flat-box header toggle-mode-btn">
                  <i class=' fa-fw'></i>🌗开灯/关灯
                </a>
              <li>
            
          
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/about/
                  
                  
                  
                    id="about"
                  >
                  💬关于我
                </a>
                
              </li>
            
          
            
          </ul>
        </li>
			</ul>
		</div>
	</div>
  </div>
</header>

    <div id="l_body">
      <div id="l_cover">
  
    
        <div id="full" class='cover-wrapper post search' style="display: none;">
          
            <div class='cover-bg lazyload placeholder' data-bg="http://photos.demo443.com/blog/6/imgs/bg.jpg"></div>
          
          <div class='cover-body'>
  <div class='top'>
    
    
      <p class="title">☕憩息屋</p>
    
    
  </div>
  <div class='bottom'>
    
      <div class="m_search">
        <form name="searchform" class="form u-search-form">
          <input type="text" class="input u-search-input" placeholder="search" />
          <i class="icon fas fa-search fa-fw"></i>
        </form>
      </div>
    
    <div class='menu navigation'>
      <div class='list-h'>
        
          
            <a href="http://www.demo443.com:4567/"
              
              
              id="http:wwwdemo443com:4567">
              <p>🏀技术博客</p>
            </a>
          
            <a href="/friends/"
              
              
              id="friends">
              <p>🍎网址收藏</p>
            </a>
          
            <a href="/study/"
              
              
              id="study">
              <p>🍨学习资料</p>
            </a>
          
            <a href="/apidocs/"
              
              
              id="apidocs">
              <p>🍺开发资料</p>
            </a>
          
            <a href="http://www.demo443.com"
              
              
              id="http:wwwdemo443com">
              <p>😈工具箱</p>
            </a>
          
            <a href="/about/"
              
              
              id="about">
              <p>😃关于我</p>
            </a>
          
        
      </div>
    </div>
  </div>
</div>

          <div id="scroll-down" style="display: none;"><i class="fa fa-chevron-down scroll-down-effects"></i></div>
        </div>
    
  
  </div>

      <div id="safearea">
        <div class="body-wrapper" id="pjax-container">
          

<div class='l_main'>
  <article class="article post white-box reveal md shadow blur floatable article-type-post" id="post" itemscope itemprop="blogPost">
  


  
  <div class="article-meta" id="top">
    
    
    
      <h1 class="title">
        python_汇总
      </h1>
      <div class='new-meta-box'>
        
          
            
<div class='new-meta-item author'>
  <a class='author' href="/about/" rel="nofollow">
    <img no-lazy src="/img/avatar.jpg">
    <p>杨晓东</p>
  </a>
</div>

          
        
          
            
  <div class='new-meta-item category'>
    <a class='notlink'>
      <i class="fas fa-folder-open fa-fw" aria-hidden="true"></i>
      <a class="category-link" href="/categories/python/">python</a>
    </a>
  </div>


          
        
          
            <div class="new-meta-item date">
  <a class='notlink'>
    <i class="fas fa-calendar-alt fa-fw" aria-hidden="true"></i>
    <p>发布于：2021年10月17日</p>
  </a>
</div>

          
        
          
            
  <div class="new-meta-item browse busuanzi">
    <a class='notlink'>
      <i class="fas fa-eye fa-fw" aria-hidden="true"></i>
      <p>
        <span id="busuanzi_value_page_pv">
          <i class="fas fa-circle-notch fa-spin fa-fw" aria-hidden="true"></i>
        </span>
        次浏览
      </p>
    </a>
  </div>


          
        
      </div>
    
  </div>


  
  
  <h1 id="Python基础"><a href="#Python基础" class="headerlink" title="Python基础"></a>Python基础</h1><p>注释</p>
<p>输出语句</p>
<p>变量</p>
<p>标识符</p>
<p>数据类型</p>
<p>用户输入</p>
<p>类型转换</p>
<p>运算符</p>
<h3 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h3><p>使用自己语言描述代码的功能 不属于程序  只是给使用者解读使用</p>
<p>注释有两种：  </p>
<p>单行注释  # 注释内容</p>
<p>多行注释 ‘’’注释的内容‘’‘</p>
<h3 id="输出语句"><a href="#输出语句" class="headerlink" title="输出语句"></a>输出语句</h3><p>print – 输出语句 将内容输出给用户查看的 封装的是打印功能</p>
<p>函数 print()</p>
<p>print函数的格式</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">*args <span class="comment"># 表示的是输出的内容，输出内容可以是一个也可以是多个 每个内容之间使用逗号隔开</span></span><br><span class="line">sep=<span class="string">&#x27; &#x27;</span> <span class="comment"># 多个内容之间的分隔符 默认是空格</span></span><br><span class="line">end=<span class="string">&#x27;\n&#x27;</span> <span class="comment"># 输出语句的结束语  \n 换行 \t 制表符 </span></span><br><span class="line">file=<span class="literal">None</span> <span class="comment"># 将输出的内容指定的文件中</span></span><br><span class="line"><span class="comment"># 扩展知识：文件写入</span></span><br><span class="line"><span class="comment"># 指定打开文件 open(&#x27;文件路径&#x27;,&#x27;打开的模式&#x27;)</span></span><br><span class="line"><span class="comment"># 打开的模式  r 读取内容 w 写入内容</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><p>变量的官方概念：变量是用来存储数据的，以便后期的使用和修改</p>
<p>name = “张三”   变量还提供一个为数据标记描述性的名字【变量名】，我们可以在程序中根据这个名字能更好得阅读和理解该变量的作用，要注意取名称时要“见名知意”</p>
<p>简单理解：变量就是一个存储数据的容器</p>
<p>声明变量的方式：</p>
<p>变量名 = 数据  例如;a = 11</p>
<p>一次声明多个：变量名1,变量名2 = 数据1，数据2 例如：a,b=1,2</p>
<p>注意：变量在使用之前一定要先声明，并且进行初始化赋值</p>
<p>没有加双引号或者单引号 代表数值   加了的叫字符串</p>
<h3 id="标识符"><a href="#标识符" class="headerlink" title="标识符"></a>标识符</h3><p>用于程序中自定义名字的规范</p>
<p>标识符的组成：英文字母、数字、下划线</p>
<p>自定义名称的时候要注意：</p>
<p>1.不能以数字开头  2.不能使用Python的关键字【变了颜色的不要用】</p>
<h3 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h3><p>变量是用来存储数据  数据的格式是多样化</p>
<p>变量对应的数据类型是根据赋予的值来确定的</p>
<h3 id="数值类型："><a href="#数值类型：" class="headerlink" title="数值类型："></a>数值类型：</h3><h4 id="整型-：-int"><a href="#整型-：-int" class="headerlink" title="整型 ： int"></a>整型 ： int</h4><p>python2.x中整型有两种 int 和 long</p>
<p>int 内存大小 4位  4bit   long  8B</p>
<p>python3.x以后只有int 具有long的性质</p>
<h4 id="浮点型-float"><a href="#浮点型-float" class="headerlink" title="浮点型 : float"></a>浮点型 : float</h4><p>用来存储小数的类型</p>
<h4 id="复数型-complex"><a href="#复数型-complex" class="headerlink" title="复数型 : complex"></a>复数型 : complex</h4><p>具有实部+虚部：3+4j</p>
<h4 id="布尔类型-bool"><a href="#布尔类型-bool" class="headerlink" title="布尔类型 : bool"></a>布尔类型 : bool</h4><p>描述状态的类型  值只有True和False 也可以使用1和0</p>
<h4 id="字符类型：str"><a href="#字符类型：str" class="headerlink" title="字符类型：str"></a>字符类型：str</h4><p>字符串类型的标识：使用单引号或者双引号包含单个字符或多个字符</p>
<h4 id="列表类型-：-list"><a href="#列表类型-：-list" class="headerlink" title="列表类型 ： list"></a>列表类型 ： list</h4><p>标识：[]</p>
<p>存放的是多个变量的容器</p>
<h4 id="元组类型-tuple"><a href="#元组类型-tuple" class="headerlink" title="元组类型 : tuple"></a>元组类型 : tuple</h4><p>标识：()</p>
<p>存放的是多个变量的容器</p>
<p>注意：和list的区别 list中的元素的值是可以变的   元组中的元素的值不可变的</p>
<p>共同点：添加在容器中的元素都有自己的编号，这个编号是从0开始  这个编号也称之为索引 或者 下标 、脚标</p>
<h4 id="字典类型-dict"><a href="#字典类型-dict" class="headerlink" title="字典类型 : dict"></a>字典类型 : dict</h4><p>标识：{}</p>
<p>存放的数据是用键值对的格式表示   键和值是一一对应的  根据键来查找值</p>
<p>要求：键是不允许重复的  必须唯一的</p>
<p>键的类型对应的数据是不可变的</p>
<p>字典的格式;{key:value,key1:value1…}</p>
<h4 id="集合类型-set"><a href="#集合类型-set" class="headerlink" title="集合类型 : set"></a>集合类型 : set</h4><p>把集合理解是存放字典key的容器</p>
<p>集合中的数据是不允许重复的  —- 用于排重    还排序</p>
<h4 id="空值类型-：None"><a href="#空值类型-：None" class="headerlink" title="空值类型 ：None"></a>空值类型 ：None</h4><p>只有一个值 None –代表状态是空</p>
<h3 id="用户输入"><a href="#用户输入" class="headerlink" title="用户输入"></a>用户输入</h3><p>input  封装用户输入的功能</p>
<p>格式： value = input(“提示用户输入语”)</p>
<p>在程序中使用input接受用户输入时 获得数据类型是字符串类型 str</p>
<p>python2.x 用户输入的是什么类型 在程序中接受的就是什么了类型</p>
<p>python3.x 用户不管你输入的是什么格式的数据 接受到的都是字符串类型</p>
<h3 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h3><p>1.将对应的数据转换为整型    </p>
<p>格式：int(x)   — 将x这个数据转为整型</p>
<p>注意： 如果x的类型为字符串类型 需要保证x的数据值必须纯数字的 否则转换失败</p>
<p>2.将对应的数据转换为浮点类型</p>
<p>格式：float(x)  — 将x这个数据转为浮点类型</p>
<p>注意：如果x的类型为字符串类型 需要保证x的数据值除了点之外没有其他非数字符号 否则转换失败</p>
<p>3..将对应的数据转换为布尔类型</p>
<p>格式：bool(x) - – 将x这个数据转为布尔类型</p>
<p>注意;只有两个值 True False   1 和 0</p>
<p>4.将对应的数据转换为字符串</p>
<p>格式：str(x)  - – 将x这个数据转为字符类型</p>
<p>….</p>
<p>5.将字符(单个)转换为十进制</p>
<p>格式：ord(x)  - – 将字符换转为十进制</p>
<p>6.将对应的十进制转化为字符</p>
<p>格式：chr(x)  – - – 将x数据转换为字符串</p>
<p>7.将数据转换为二进制</p>
<p>bin(x)   – b </p>
<p>8.将数据转换为八进制</p>
<p>oct(x)   –o   0b00 0011</p>
<p>9.将数据转换为十六进制</p>
<p>hex(x)</p>
<p>10.将数据转换为列表</p>
<p>list(x)</p>
<p>11.将数据转换为元组</p>
<p>tuple(x)</p>
<p>12.将数据转换为字典</p>
<p>dict(x)</p>
<p>13.将数据转换为集合</p>
<p>set(x)</p>
<p>14.解析代码</p>
<p>eval(code)</p>
<p>代码是包含在字符串中的</p>
<h2 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h2><p>算术运算符 </p>
<p>关系运算符</p>
<p>逻辑运算符</p>
<p>成员运算符</p>
<p>身份运算符</p>
<p>位运算符</p>
<h2 id="注意：-提高优先级"><a href="#注意：-提高优先级" class="headerlink" title="注意：() 提高优先级"></a><strong>注意：() 提高优先级</strong></h2><h3 id="算术运算符"><a href="#算术运算符" class="headerlink" title="算术运算符"></a>算术运算符</h3><p>+</p>
<p>-</p>
<p>*</p>
<p>/   </p>
<p>//  ：9 // 4   等于2</p>
<p>% ：取余数  </p>
<p>**  ：幂次方  str ** 2</p>
<h3 id="复合运算符"><a href="#复合运算符" class="headerlink" title="复合运算符"></a>复合运算符</h3><p>=  赋值运算符 </p>
<p>a = b   </p>
<p>a+=b  :   a=a+b </p>
<p>a/=b  : a= a/b</p>
<p>a*=b  : a=a*b</p>
<p>…..</p>
<h3 id="关系运算符"><a href="#关系运算符" class="headerlink" title="关系运算符"></a>关系运算符</h3><p>关系运算符运算之后的结果是bool类型</p>
<p>‘ &gt;       &lt;      &gt;=      &lt;=    =    != ’</p>
<h3 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h3><p>逻辑运算符两边的表达式都是bool类型， 运算的结果也是bool类型</p>
<p>逻辑与（and）:并且的关系   两边同时成立才位真    注：一假则全假</p>
<p>逻辑或（or）：或者的关系    一个结果成立 则结果成立  注：一真则全真</p>
<p>逻辑非（not）：假变真  真变假</p>
<p>注意：  not &gt; and &gt; or</p>
<h3 id="成员运算符"><a href="#成员运算符" class="headerlink" title="成员运算符"></a>成员运算符</h3><p>针对序列【字符串  列表  字典 集合..】而言的  </p>
<p>包含和不包含的关系</p>
<p>in</p>
<p>x in 序列  – 判断x是否包含在序列中</p>
<p>not in</p>
<p>x not in 序列 – 判断是否不包含在序列中</p>
<h3 id="身份运算符"><a href="#身份运算符" class="headerlink" title="身份运算符"></a>身份运算符</h3><p>两个变量的身份地址是否一致</p>
<p>id(x) – 获取变量的内存地址</p>
<p>is – 判断地址是否相同</p>
<p>id(x) == id(y)</p>
<p>is not – 判断地址是否不相同</p>
<p>id(x) ！= id(y)</p>
<h3 id="位运算符"><a href="#位运算符" class="headerlink" title="位运算符"></a>位运算符</h3><p>使用的不多 — 针对二进制数的运算符</p>
<h2 id="流程控制"><a href="#流程控制" class="headerlink" title="流程控制"></a>流程控制</h2><h4 id="流程语句"><a href="#流程语句" class="headerlink" title="流程语句"></a>流程语句</h4><p>1.顺序语句：代码的执行流程 从上往下执行的</p>
<p>2.分支语句: 根据不同的情况出现不同的分支</p>
<p>3.循环语句：重复操作某一个事件 使用循环语句</p>
<h4 id="判断分支"><a href="#判断分支" class="headerlink" title="判断分支"></a>判断分支</h4><p>语文： 如果… 就…     映射到程序中</p>
<p>if  条件表达式：</p>
<p>缩进[通过tab键完成]  满足执行的条件的语句</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#  if   如果.. 就...</span></span><br><span class="line">age = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;请输入您年龄:&quot;</span>))</span><br><span class="line"><span class="comment"># 判断</span></span><br><span class="line"><span class="keyword">if</span> age &gt;= <span class="number">18</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;小伙子 可以谈恋爱了&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>语文：如果…就… 否则…</p>
<p>if 条件表达式:</p>
<p>​      满足条件执行的操作</p>
<p>else:</p>
<p>​     不满足条件执行的操作</p>
<p>注：else后面不能添加条件表达式判断</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">age = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;请输入您年龄:&quot;</span>))</span><br><span class="line"><span class="comment"># 判断</span></span><br><span class="line"><span class="keyword">if</span> age &gt;= <span class="number">18</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;小伙子 可以谈恋爱了&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>: <span class="comment">#  如果.. 就... 否则....</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;小朋友 你还小 回家做作业去&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>语文：排比句</p>
<p>如果…就..</p>
<p>否则如果…  就…</p>
<p>否则如果…  就…</p>
<p>否则如果…  就…</p>
<p>否则如果…  就…</p>
<p>否则…</p>
<p>格式：</p>
<p>if 条件表达式:</p>
<p>​      执行语句1</p>
<p>elif 条件表达式:</p>
<p>​     执行语句2</p>
<p>elif 条件表达式:</p>
<p>​     执行语句3</p>
<p>elif 条件表达式:</p>
<p>​     执行语句4</p>
<p>….</p>
<p>else:</p>
<p>​     执行语句</p>
<p>案例：</p>
<p>在控制台录入一个成绩，进行评定：</p>
<p>评定标准： &gt;=90  A         90&gt;x&gt;=80  B        &gt;=70 C        &gt;=60  D       其他 E</p>
<p>练习：</p>
<p>键盘录入年和月</p>
<p>要求输出对应月份的天数</p>
<p>月份：1 3 5 7 8 10 12 —————— 31</p>
<p>4 6 9 11 ———— 30</p>
<p>2 ———— 闰年 29    平年 28</p>
<h4 id="循环结构"><a href="#循环结构" class="headerlink" title="循环结构"></a>循环结构</h4><p>1.range方法 这个方法的作用 生成一个顺序序列</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># range 方法</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">range  生成一个顺序的序列</span></span><br><span class="line"><span class="string">[stop] 接受结束值  从0开始到多少结束  [0,stop)</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line">res = <span class="built_in">range</span>(<span class="number">100</span>)</span><br><span class="line"><span class="built_in">print</span>(res) <span class="comment"># (0, 100)  序列</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 把结果转换list 列表</span></span><br><span class="line">list0 = <span class="built_in">list</span>(res)</span><br><span class="line"><span class="built_in">print</span>(list0)</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">range()</span></span><br><span class="line"><span class="string">start 起始值</span></span><br><span class="line"><span class="string">stop  结束值</span></span><br><span class="line"><span class="string">[, step]  步长 默认1</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line">res = <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">10</span>,<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(res)) <span class="comment">#  [1, 3, 5, 7, 9]</span></span><br><span class="line"></span><br><span class="line">res = <span class="built_in">range</span>(<span class="number">10</span>,<span class="number">1</span>,-<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(res)) (<span class="number">10.</span>。。。<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 提供用户输入一个字符 输出十进制的值  # 97 a  65 A</span></span><br><span class="line">s =  <span class="built_in">input</span>(<span class="string">&quot;请输入一个字符:&quot;</span>)</span><br><span class="line"><span class="comment"># 转换为 ASCII</span></span><br><span class="line">value = <span class="built_in">ord</span>(s)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 97 + 26 = 123</span></span><br><span class="line"><span class="keyword">if</span> value <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">97</span>,<span class="number">124</span>):  <span class="comment"># 只判断a-z  范围 a-z</span></span><br><span class="line">    <span class="built_in">print</span>(s)</span><br></pre></td></tr></table></figure>

<h4 id="循环结构语句"><a href="#循环结构语句" class="headerlink" title="循环结构语句"></a>循环结构语句</h4><p>循环：重复执行某个操作</p>
<p>Python中提供的循环机制：while 和 for in</p>
<p>在循环条件明确的时候 使用while循环</p>
<p>当遍历一个序列内容的时候  使用for in</p>
<p>while循环：</p>
<p>while 条件表达式：</p>
<p>​      重复的操作</p>
<p>当循环条件表达式成立的时候  才会执行重复的操作语句</p>
<p>循环的大致思路：</p>
<p>1.确定循环条件</p>
<p>2.确定重复的操作</p>
<p>案例：</p>
<p>输出1-10的数？</p>
<p>声明一个变量  记录数据  num = 1</p>
<p>确定循环的条件  变量最大10  num&lt;=10</p>
<p>确定要重复的操作：</p>
<p>输出操作</p>
<p>练习;</p>
<p>求1-10累计的和？</p>
<p>while的另外一种格式：</p>
<p>while 循环条件表达式：</p>
<p>​        循环操作</p>
<p>else:</p>
<p>​      循环条件不成立的时候执行</p>
<p>练习：求1-10偶数的和？  注：使用while循环</p>
<p>for in 循环：</p>
<p>for  变量  in  序列:</p>
<p>​      重复操作</p>
<h4 id="针对循环作用有两个关键字"><a href="#针对循环作用有两个关键字" class="headerlink" title="针对循环作用有两个关键字"></a>针对循环作用有两个关键字</h4><p>break     continue</p>
<p>break: 作用是 结束当前循环结构</p>
<p>遇见break 当前循环语句立即结束</p>
<p>continue</p>
<p>作用： 结束当前循环 继续下一次循环</p>
<p>遇见continue 结束当前次循环 回归到判定循环条件 继续下一次循环</p>
<p>在break和continue后不要直接跟平级的语句 因为这些语句永远不会被执行</p>
<h2 id="常用数据的类型的使用"><a href="#常用数据的类型的使用" class="headerlink" title="常用数据的类型的使用"></a>常用数据的类型的使用</h2><p>1.数值类型</p>
<p>2.字符串类型</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">str</span> = <span class="string">&quot;if123456789&quot;</span></span><br><span class="line"><span class="comment">#把字符串的第一个字符大写</span></span><br><span class="line"><span class="built_in">str</span>.capitalize()</span><br><span class="line"></span><br><span class="line"><span class="comment">#返回一个原字符串居中,并使用空格填充至长度 width 的新字符串 (填充的字符)</span></span><br><span class="line"><span class="built_in">str</span>.center()</span><br><span class="line"></span><br><span class="line"><span class="comment">#返回 str 在 string 里面出现的次数，如果 beg或者 end 指定则返回指定范围内 str 出现的次数</span></span><br><span class="line"><span class="built_in">str</span>.count(<span class="string">&quot;f&quot;</span>, beg=<span class="number">0</span>, end=<span class="built_in">len</span>(<span class="built_in">str</span>)) <span class="comment"># 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#检查字符串是否以 obj 结束，如果beg 或者 end 指定则检查指定的范围内是否以 obj 结束，如果是，返回 True,否则返回 False.</span></span><br><span class="line"><span class="built_in">str</span>.endswith(obj, beg=<span class="number">0</span>, end=<span class="built_in">len</span>(<span class="built_in">str</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">#把字符串 string 中的 tab 符号转为空格，tab 符号默认的空格数是 8</span></span><br><span class="line"><span class="built_in">str</span>.expandtabs(tabsize=<span class="number">8</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#检测 str 是否包含在 string 中，如果 beg 和 end 指定范围，则检查是否包含在指定范围内，如果是返回开始的索引值，否则返回-1</span></span><br><span class="line">string.find(<span class="built_in">str</span>, beg=<span class="number">0</span>, end=<span class="built_in">len</span>(string))</span><br><span class="line"></span><br><span class="line"><span class="comment">#格式化字符串</span></span><br><span class="line">string.<span class="built_in">format</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">#跟find()方法一样，只不过如果str不在 str中会报一个异常.</span></span><br><span class="line">string.index(<span class="built_in">str</span>, beg=<span class="number">0</span>, end=<span class="built_in">len</span>(string))</span><br><span class="line"></span><br><span class="line"><span class="comment">#如果 string 至少有一个字符并且所有字符都是字母或数字则返回 True,否则返回 False</span></span><br><span class="line">string.isalnum()</span><br><span class="line"></span><br><span class="line"><span class="comment">#如果 string 至少有一个字符并且所有字符都是字母则返回 True,否则返回 False</span></span><br><span class="line">string.isalpha()</span><br><span class="line"></span><br><span class="line"><span class="comment">#如果 string 只包含数字则返回 True 否则返回 False.</span></span><br><span class="line">string.isdigit()</span><br><span class="line"></span><br><span class="line"><span class="comment">#如果 string 中只包含数字字符，则返回 True，否则返回 False</span></span><br><span class="line">string.isnumeric()</span><br><span class="line"></span><br><span class="line"><span class="comment">#如果 string 是标题化的(见 title())则返回 True，否则返回 False</span></span><br><span class="line">string.istitle()</span><br><span class="line"></span><br><span class="line"><span class="comment">#以 string 作为分隔符，将 seq 中所有的元素(的字符串表示)合并为一个新的字符串</span></span><br><span class="line">string.join(seq)   </span><br><span class="line"></span><br><span class="line"><span class="comment">#以空格拼接字符串</span></span><br><span class="line"><span class="string">&quot; &quot;</span>.join(string)</span><br><span class="line"></span><br><span class="line"><span class="comment">#返回一个原字符串左对齐,并使用空格填充至长度width 的新字符串</span></span><br><span class="line"> string.ljust(width)</span><br><span class="line">    </span><br><span class="line"><span class="comment">#转换 string 中所有大写字符为小写.  </span></span><br><span class="line">string.lower()</span><br><span class="line"></span><br><span class="line"><span class="comment">#返回字符串 str 中最大的字母。</span></span><br><span class="line"><span class="built_in">max</span>(<span class="built_in">str</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#返回字符串 str 中最小的字母。</span></span><br><span class="line"><span class="built_in">min</span>(<span class="built_in">str</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#把 string 中的 str1 替换成 str2,如果 num 指定，则替换不超过 num 次.</span></span><br><span class="line">string.replace(str1, str2,  num=string.count(str1))</span><br><span class="line"></span><br><span class="line"><span class="comment">#类似于 index()，不过是从右边开始.</span></span><br><span class="line">string.rindex( <span class="built_in">str</span>, beg=<span class="number">0</span>,end=<span class="built_in">len</span>(string))</span><br><span class="line"></span><br><span class="line"><span class="comment">#以 str 为分隔符切片 string，如果 num 有指定值，则仅分隔 num+1 个子字符串</span></span><br><span class="line">string.split(<span class="built_in">str</span>=<span class="string">&quot; &quot;</span>, num=string.count(<span class="built_in">str</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">#按照行(&#x27;\r&#x27;, &#x27;\r\n&#x27;, \n&#x27;)分隔，返回一个包含各行作为元素的列表，如果参数 keepends 为 </span></span><br><span class="line"><span class="comment">#False，不包含换行符，如果为 True，则保留换行符。</span></span><br><span class="line">string.splitlines([keepends])</span><br><span class="line"></span><br><span class="line"><span class="comment">#检查字符串是否是以 obj 开头，是则返回 True，否则返回 False。如果beg 和 end 指定值，</span></span><br><span class="line"><span class="comment">#则在指定范围内检查.</span></span><br><span class="line">string.startswith(obj, beg=<span class="number">0</span>,end=<span class="built_in">len</span>(string))</span><br><span class="line"></span><br><span class="line"><span class="comment">#删除字符串最后的字符</span></span><br><span class="line">string.strip([obj])</span><br><span class="line"></span><br><span class="line"><span class="comment">#转换 string 中的小写字母为大写</span></span><br><span class="line">string.upper()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="3-列表类型"><a href="#3-列表类型" class="headerlink" title="3.列表类型"></a>3.列表类型</h3><p>列表是python内置一种数据类型：list</p>
<p>list是一种有序的集合【插入顺序和显示的顺序是一致】</p>
<p>列表里的数据是可以随时增加以及删除和修改，添加的元素会自动添加编号，这个编号从0开始的</p>
<p>这个编号又称为下标（脚标 索引）</p>
<p>列表类型类似容器 可以存放多个变量</p>
<p>二维列表：在列表中的元素是列表  [[19,28],[22,33]]</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 列表类型</span></span><br><span class="line">list0 = [<span class="string">&quot;开群&quot;</span>,<span class="string">&quot;老谢&quot;</span>,<span class="string">&quot;嘉豪&quot;</span>,<span class="number">10</span>,<span class="literal">True</span>,[<span class="number">12</span>,<span class="number">34</span>],(<span class="number">56</span>,<span class="number">78</span>)]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 列表中元素的个数  len</span></span><br><span class="line">res = <span class="built_in">len</span>(list0)</span><br><span class="line"><span class="built_in">print</span>(res) <span class="comment"># 7</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 访问列表中元素</span></span><br><span class="line"><span class="comment"># [0,len(list0)-1]    [-len(list0),-1]</span></span><br><span class="line">res = list0[<span class="number">1</span>] <span class="comment"># 7IndexError: list index out of range</span></span><br><span class="line"><span class="built_in">print</span>(res)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改元素</span></span><br><span class="line">list0[<span class="number">0</span>] = <span class="string">&quot;老杨&quot;</span></span><br><span class="line"><span class="built_in">print</span>(list0)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 向列表中添加元素</span></span><br><span class="line">list0.append(<span class="string">&quot;思思&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(list0)</span><br><span class="line"></span><br><span class="line">list0.append(<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(list0)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在指定位置插入元素  下标0</span></span><br><span class="line">list0.insert(<span class="number">0</span>,<span class="string">&quot;head&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(list0)</span><br><span class="line"></span><br><span class="line">list0.insert(<span class="number">1</span>,<span class="string">&quot;body&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(list0)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将一个列表合并到当前列表中</span></span><br><span class="line">list1 = [<span class="number">99</span>,<span class="number">88</span>,<span class="number">77</span>,<span class="number">55</span>,<span class="number">66</span>,<span class="number">10</span>,<span class="number">20</span>,<span class="number">10</span>,<span class="number">22</span>,<span class="number">10</span>]</span><br><span class="line">list0.extend(list1)</span><br><span class="line"><span class="built_in">print</span>(list0)</span><br><span class="line"><span class="comment"># list0.append(list1) # 追加 和 合并是有区别的</span></span><br><span class="line"><span class="comment"># print(list0)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除元素</span></span><br><span class="line"><span class="comment"># 直接删除最后一个元素</span></span><br><span class="line">list0.pop()</span><br><span class="line"><span class="built_in">print</span>(list0)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除指定索引位置的元素</span></span><br><span class="line">list0.pop(<span class="number">0</span>)</span><br><span class="line"><span class="built_in">print</span>(list0)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除指定的元素</span></span><br><span class="line">list0.remove(<span class="number">10</span>) <span class="comment"># 如果有重复元素 只会删除第一个次出现的元素</span></span><br><span class="line"><span class="built_in">print</span>(list0)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 统计某个元素出现的次数  传入一元素</span></span><br><span class="line">res = list0.count(<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(res)</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">list0 = [10,22,44,66,22,10,99,66]</span></span><br><span class="line"><span class="string">要求;列表中元素顺序不变  使每个一个元素只有一个</span></span><br><span class="line"><span class="string">最后的结果：[10,22,44,66,99]</span></span><br><span class="line"><span class="string">提示思路： </span></span><br><span class="line"><span class="string">1.可以借助其他列表辅助完成存储</span></span><br><span class="line"><span class="string">2.使用到成员运算符  in 或 not in</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="comment"># list0 = [10,22,44,66,22,10,99,66]</span></span><br><span class="line"><span class="comment"># list1 = []</span></span><br><span class="line"><span class="comment"># for item in list0:</span></span><br><span class="line"><span class="comment">#     if item not in list1:</span></span><br><span class="line"><span class="comment">#         list1.append(item)</span></span><br><span class="line"><span class="comment"># print(list1)</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">set 用于排重的  是一个无序的集合【插入顺序和显示顺序不一致】</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="comment"># res = set(list0)</span></span><br><span class="line"><span class="comment"># print(list(res))  # [66, 99, 10, 44, 22]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 列表 可以切片吗？  [start:stop:step]</span></span><br><span class="line"><span class="built_in">print</span>(list0)</span><br><span class="line"><span class="comment"># 从头到尾提取数据</span></span><br><span class="line">sub_list = list0[::]</span><br><span class="line"><span class="built_in">print</span>(sub_list)</span><br><span class="line"></span><br><span class="line">sub_list = list0[<span class="number">1</span>::]</span><br><span class="line"><span class="built_in">print</span>(sub_list)</span><br><span class="line"><span class="comment"># 倒序</span></span><br><span class="line">sub_list = list0[::-<span class="number">1</span>]</span><br><span class="line"><span class="built_in">print</span>(sub_list)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 方法 倒序</span></span><br><span class="line">list0.reverse()</span><br><span class="line"><span class="built_in">print</span>(list0)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 排序:同类型的数据 才会有排序的情况出现</span></span><br><span class="line">list0 = [<span class="number">12</span>,<span class="number">22</span>,<span class="number">55</span>,<span class="number">35</span>,<span class="number">19</span>,<span class="number">66</span>,<span class="number">48</span>,<span class="number">88</span>]</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">sort(key=None, reverse=False)</span></span><br><span class="line"><span class="string">key: 接受的一个函数</span></span><br><span class="line"><span class="string">     函数可以当做值进行传递</span></span><br><span class="line"><span class="string">     key的作用：将列表中的元素依次作用于对应的函数 返回排序的元素状态 默认数据大小进行排序的</span></span><br><span class="line"><span class="string">reverse： 接受的是布尔值</span></span><br><span class="line"><span class="string">        控制排序完之后是升序还是降序</span></span><br><span class="line"><span class="string">        默认升序 值False</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line">list0.sort(reverse=<span class="literal">True</span>)</span><br><span class="line"><span class="built_in">print</span>(list0)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取列表中最大值</span></span><br><span class="line">list0 = [<span class="number">12</span>,<span class="number">22</span>,<span class="number">55</span>,<span class="number">35</span>,<span class="number">19</span>,<span class="number">66</span>,<span class="number">48</span>,<span class="number">88</span>]</span><br><span class="line">max_value = <span class="built_in">max</span>(list0)</span><br><span class="line"><span class="built_in">print</span>(max_value)</span><br><span class="line"></span><br><span class="line">list0 = [<span class="number">12</span>,<span class="number">22</span>,<span class="number">55</span>,<span class="number">35</span>,<span class="number">19</span>,<span class="number">66</span>,<span class="number">48</span>,<span class="number">88</span>]</span><br><span class="line">min_value = <span class="built_in">min</span>(list0)</span><br><span class="line"><span class="built_in">print</span>(min_value)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 自己去写方法</span></span><br><span class="line">max_value = list0[<span class="number">0</span>]</span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> list0:</span><br><span class="line">    <span class="keyword">if</span> item &gt; max_value:</span><br><span class="line">        max_value = item</span><br><span class="line"><span class="built_in">print</span>(max_value)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 另外的方式去找最大值</span></span><br><span class="line">max_index = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="built_in">len</span>(list0)):</span><br><span class="line">    <span class="keyword">if</span> list0[i] &gt; list0[max_index]:</span><br><span class="line">        max_index = i</span><br><span class="line"><span class="built_in">print</span>(list0[max_index])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 二维列表</span></span><br><span class="line">list_two = [[<span class="number">89</span>,<span class="number">77</span>,<span class="number">62</span>],[<span class="number">44</span>,<span class="number">23</span>],[<span class="number">55</span>,<span class="number">66</span>,<span class="number">88</span>,<span class="number">22</span>]]</span><br><span class="line">res = list_two[<span class="number">0</span>]</span><br><span class="line"><span class="built_in">print</span>(res[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">res = list_two[<span class="number">2</span>][<span class="number">1</span>]</span><br><span class="line"><span class="built_in">print</span>(res)</span><br><span class="line"><span class="comment"># 获取所有一维列表</span></span><br><span class="line"><span class="keyword">for</span> list1 <span class="keyword">in</span> list_two:</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> list1:</span><br><span class="line">        <span class="built_in">print</span>(item)</span><br><span class="line"><span class="comment"># 返回值与下标</span></span><br><span class="line">list_two = [<span class="number">89</span>,<span class="number">77</span>,<span class="number">62</span>,<span class="number">44</span>,<span class="number">23</span>,<span class="number">55</span>,<span class="number">66</span>,<span class="number">88</span>,<span class="number">22</span>]</span><br><span class="line"><span class="keyword">for</span> k,v <span class="keyword">in</span>  <span class="built_in">enumerate</span>(list_two):</span><br><span class="line">    <span class="built_in">print</span>(k,v) </span><br><span class="line">      <span class="number">0</span> <span class="number">89</span></span><br><span class="line">      <span class="number">1</span> <span class="number">77</span> </span><br><span class="line">   	。。。。</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="4-元组类型"><a href="#4-元组类型" class="headerlink" title="4.元组类型"></a>4.元组类型</h3><p>类似于列表的 与列表的区别：</p>
<p>列表对应的元素的值是可以发生修改的</p>
<p>元组的元素值是不可以发生修改的</p>
<p>简单的说;元组一旦确定 内容不能发生改变</p>
<p>没有对应的增加 删除 和 修改</p>
<p>遍历的操作</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 元组类型 ()  tuple</span></span><br><span class="line">tuple0 = (<span class="number">23</span>,<span class="number">56</span>,<span class="number">99</span>,<span class="literal">True</span>,<span class="string">&quot;abc&quot;</span>)</span><br><span class="line"><span class="comment"># 获取元组中的数据 通过索引获取</span></span><br><span class="line">value = tuple0[-<span class="number">1</span>]</span><br><span class="line"><span class="built_in">print</span>(value)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取元组的元素个数</span></span><br><span class="line">num =  <span class="built_in">len</span>(tuple0)</span><br><span class="line"><span class="built_in">print</span>(num)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改元组元素  TypeError: &#x27;tuple&#x27; object does not support item assignment 不可以修改</span></span><br><span class="line"><span class="comment"># tuple0[0] = 32</span></span><br><span class="line"><span class="comment"># print(tuple0)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取的操作</span></span><br><span class="line">tuple1 = ([<span class="number">12</span>,<span class="number">56</span>],<span class="string">&quot;abc&quot;</span>,<span class="number">88</span>)</span><br><span class="line"><span class="comment"># 获取12</span></span><br><span class="line"><span class="built_in">print</span>(tuple1[<span class="number">0</span>][<span class="number">0</span>])</span><br><span class="line">tuple1[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">22</span></span><br><span class="line"><span class="built_in">print</span>(tuple1)</span><br><span class="line"><span class="comment"># 元组中的列表 列表是可以修改的</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(tuple1[<span class="number">0</span>]))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(tuple1[<span class="number">1</span>]))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(tuple1[<span class="number">2</span>]))</span><br><span class="line"></span><br><span class="line">tuple1[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">22</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(tuple1[<span class="number">0</span>]))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(tuple1[<span class="number">1</span>]))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(tuple1[<span class="number">2</span>]))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 遍历</span></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> tuple1:</span><br><span class="line">    <span class="built_in">print</span>(item)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(tuple1)):</span><br><span class="line">    <span class="built_in">print</span>(tuple1[i])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 小括号 还有另外一层意思 就是提高运算的优先级</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>((<span class="number">10</span>,)))</span><br></pre></td></tr></table></figure>

<h3 id="5-字典-dict"><a href="#5-字典-dict" class="headerlink" title="5.字典 dict"></a>5.字典 dict</h3><p>{}  使用键值对的形式来存储数据的</p>
<p>存放键值对的集合 元素也是无序的</p>
<p>存放的顺序 可能和显示顺序是不一致的 但是一旦确定位置一直在对应位置显示</p>
<p>键和值是一一对应的</p>
<p>在字典中是根据键来查找值的</p>
<p>注：对于键的要求</p>
<p>1.不能重复 必须是唯一的</p>
<p>2.键的类型对应的数据是不可以改变的【值是元素内容】</p>
<p>一旦键发生变化 — 找不到原的内容</p>
<p>一般采用 字符串（常用） 或 整型</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 字典操作</span></span><br><span class="line">dict0 = &#123;<span class="string">&quot;语文&quot;</span>:<span class="number">100</span>,<span class="string">&quot;数学&quot;</span>:<span class="number">150</span>,<span class="string">&quot;英语&quot;</span>:<span class="number">60</span>&#125;</span><br><span class="line">res = <span class="string">&quot;语文&quot;</span> <span class="keyword">in</span> dict0</span><br><span class="line"><span class="built_in">print</span>(res)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 1.在字典中添加键值对</span></span><br><span class="line">dict0[<span class="string">&quot;政治&quot;</span>] = <span class="number">77</span></span><br><span class="line"><span class="built_in">print</span>(dict0)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取值   根据键获取值</span></span><br><span class="line">value = dict0[<span class="string">&quot;语文&quot;</span>]</span><br><span class="line"><span class="built_in">print</span>(value)</span><br><span class="line"></span><br><span class="line"><span class="comment"># KeyError: &#x27;历史&#x27;  报错  不建议</span></span><br><span class="line"><span class="comment"># value = dict0[&quot;历史&quot;]</span></span><br><span class="line"><span class="comment"># print(value)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 建议使用 get方式去获取值</span></span><br><span class="line">value  = dict0.get(<span class="string">&quot;历史&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(value) <span class="comment"># None</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. 修改 值</span></span><br><span class="line">dict0[<span class="string">&quot;语文&quot;</span>] = <span class="number">88</span></span><br><span class="line"><span class="built_in">print</span>(dict0)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4. 删除</span></span><br><span class="line">dict0.pop(<span class="string">&quot;政治&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(dict0)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 5.对于字典进行遍历</span></span><br><span class="line"><span class="comment"># 5.1 只遍历key 键</span></span><br><span class="line"><span class="keyword">for</span> key <span class="keyword">in</span> dict0:</span><br><span class="line">    <span class="built_in">print</span>(key)</span><br><span class="line"><span class="comment"># 5.2 只遍历value 值</span></span><br><span class="line"><span class="keyword">for</span> value <span class="keyword">in</span> dict0.values():</span><br><span class="line">    <span class="built_in">print</span>(value)</span><br><span class="line"><span class="comment"># 5.3 获取所有的键值对元素</span></span><br><span class="line"><span class="comment"># items = dict0.items()</span></span><br><span class="line"><span class="comment"># print(items) # [(&#x27;语文&#x27;, 88), (&#x27;数学&#x27;, 150), (&#x27;英语&#x27;, 60)]</span></span><br><span class="line"><span class="comment"># for item in items:</span></span><br><span class="line"><span class="comment">#     print(&quot;key=&quot;,item[0],&quot;value=&quot;,item[1])</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># a,b = (11,12)</span></span><br><span class="line"><span class="comment"># print(a,b)</span></span><br><span class="line"><span class="comment"># 同时获取键和值</span></span><br><span class="line"><span class="keyword">for</span> k,v <span class="keyword">in</span> dict0.items():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;key=&quot;</span>,k,<span class="string">&quot;value=&quot;</span>,v)</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">练习1：</span></span><br><span class="line"><span class="string">统计一个英文字符串中 每个字母出现的次数</span></span><br><span class="line"><span class="string">要求使用字典存储：</span></span><br><span class="line"><span class="string">key:value</span></span><br><span class="line"><span class="string">字母:个数</span></span><br><span class="line"><span class="string">例子：aaabbbccca</span></span><br><span class="line"><span class="string">&#123;&#x27;a&#x27;:4,&#x27;b&#x27;:3,&#x27;c&#x27;:3&#125;</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="comment"># # 提示用户输入字符串</span></span><br><span class="line"><span class="comment"># src_str = input(&quot;请输入一个英文字符串:&quot;)</span></span><br><span class="line"><span class="comment"># # 定义容器存储数据 字典</span></span><br><span class="line"><span class="comment"># dict_str = &#123;&#125;</span></span><br><span class="line"><span class="comment"># # 遍历所有输入的字符串</span></span><br><span class="line"><span class="comment"># for s in src_str:</span></span><br><span class="line"><span class="comment">#     if s not in dict_str:</span></span><br><span class="line"><span class="comment">#         dict_str[s] = 1</span></span><br><span class="line"><span class="comment">#     else:</span></span><br><span class="line"><span class="comment">#         # 获取value</span></span><br><span class="line"><span class="comment">#         value = dict_str[s]</span></span><br><span class="line"><span class="comment">#         value += 1</span></span><br><span class="line"><span class="comment">#         dict_str[s] = value</span></span><br><span class="line"><span class="comment"># print(dict_str)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">练习2：</span></span><br><span class="line"><span class="string">键盘录入一句英文语句 单词和单词之间用空格隔开 统计每个单词出现的次数</span></span><br><span class="line"><span class="string">要求使用字典存储：</span></span><br><span class="line"><span class="string">key:value</span></span><br><span class="line"><span class="string">字母:个数</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">abc abc ddd hello hello</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 提示用户输入英文语句</span></span><br><span class="line">words = <span class="built_in">input</span>(<span class="string">&quot;请录入一句英文语句，单词和单词之间用空格隔开:&quot;</span>)</span><br><span class="line">w_dict = &#123;&#125;</span><br><span class="line"><span class="comment"># 根据空格切割字符串</span></span><br><span class="line">w_list = words.split(<span class="string">&quot; &quot;</span>)</span><br><span class="line"><span class="comment"># 遍历列表</span></span><br><span class="line"><span class="keyword">for</span> word <span class="keyword">in</span> w_list:</span><br><span class="line">    <span class="keyword">if</span> word <span class="keyword">not</span> <span class="keyword">in</span> w_dict:</span><br><span class="line">        w_dict[word] = <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        w_dict[word] += <span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(w_dict)</span><br></pre></td></tr></table></figure>

<h3 id="6-集合"><a href="#6-集合" class="headerlink" title="6.集合"></a>6.集合</h3><p>不允许存放重复的数据 会有自动排重的效果</p>
<p>简单说:用于排重的操作</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 集合 setdict0 = &#123;&quot;语文&quot;:100,&quot;数学&quot;:150,&quot;英语&quot;:60,&quot;英语&quot;:60&#125;set0 = set([1,2,3,1,2,3])print(set0)# 交集 &amp; 和 并集 |set1 = &#123;1,2,3&#125;set2 = &#123;2,3,4&#125;print(set1&amp;set2) # 2 3print(set1|set2) # 1 2 3 4</span></span><br></pre></td></tr></table></figure>

<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><h3 id="1-函数的概述"><a href="#1-函数的概述" class="headerlink" title="1.函数的概述"></a>1.函数的概述</h3><p>为什么要使用函数？？？</p>
<p>函数就是对功能的封装</p>
<p>例子：求圆的面积？</p>
<h5 id="S-π-r-2"><a href="#S-π-r-2" class="headerlink" title="S =  π*r**2"></a>S =  π*r**2</h5><p>求半径为10的圆的面积</p>
<p>3.14*10**2</p>
<p>求半径为9的圆的面积</p>
<p>3.14*9**2</p>
<p>…..</p>
<p>工程效率比较低</p>
<p>函数作用：对功能进行封装 增强代码的复用性 提高程序效率</p>
<h3 id="2-函数的分类"><a href="#2-函数的分类" class="headerlink" title="2.函数的分类"></a>2.函数的分类</h3><p>内置函数  和 自定义函数</p>
<p>内置函数： 系统提供的现成的函数  直接可以使用</p>
<p>例如：print()  int() type() input()….</p>
<p>自定义函数：</p>
<p>函数的定义格式：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> 函数名(<span class="params">变量<span class="number">1</span>,变量<span class="number">2.</span>..变量n</span>):</span>	函数功能的实现	<span class="keyword">return</span> 功能的结果<span class="function"><span class="keyword">def</span> --- 声明函数的关键字函数名 --- 功能名字  方便之后通过名字进行调用		  命名规范：符合标识符规范 函数名英文字母都是小写 每个单词之间使用下划线隔开  <span class="title">circle_area</span> (<span class="params">起名 最好做到见名知意</span>)小括号 --- 形参列表		  形参： 作用于存储函数功能中未知项的值            实参： 为形参赋值的数据  <span class="title">return</span> --- 作用：结束函数 并将功能的结果返回给调用者  		   如果该功能的实现不必须要返回结果 <span class="title">return</span>可以省略 或者写成 <span class="title">return</span> <span class="title">None</span>    </span></span><br></pre></td></tr></table></figure>

<h3 id="3-函数实战"><a href="#3-函数实战" class="headerlink" title="3.函数实战"></a>3.函数实战</h3><p>1.封装功能</p>
<p>根据两个明确来完成函数的声明：</p>
<p>a：明确是否有未知项参与函数功能的运算   — 形参的列表  有几个未知项就声明几个变量</p>
<p>b：明确调用者是否需要接受结果  – 决定是return</p>
<p>封装计算圆的面积功能？</p>
<p>S =  π*r**2</p>
<p>未知项 ： 1个   r</p>
<p>返回结果： 需要return</p>
<h3 id="4-作用域的问题"><a href="#4-作用域的问题" class="headerlink" title="4.作用域的问题"></a>4.作用域的问题</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 封装一个修改名字的功能name = &quot;开群&quot; # 全局变量def change_name():    &quot;&quot;&quot;    在函数内部可以直接获取外部变量的数据    如果要进行修改    变量名 = 值    变量作用域的问题：如果直接在函数内部内容写为  变量名 = 值 解释器会默认为函数内部的变量 与外部变量无关    如果想修改外部变量的值 在函数内部标注该变量的作用域范围 global 使用全局变量    &quot;&quot;&quot;    global name    name = &quot;小杨&quot; # 局部变量    print(&quot;函数内部&quot;,name)change_name()print(&quot;外部&quot;,name)</span></span><br></pre></td></tr></table></figure>

<h3 id="5-默认参数"><a href="#5-默认参数" class="headerlink" title="5.默认参数"></a>5.默认参数</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(self, *args, sep=<span class="string">&#x27; &#x27;</span>, end=<span class="string">&#x27;\n&#x27;</span>, file=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>

<p>声明了一个形参  并给他赋予初始值</p>
<p>调用函数的时候 如果没有给这个形参赋值 这个参数有默认值 使用默认值参与函数功能的运算</p>
<p>例子:求x的y次方？</p>
<h2 id="模块和包"><a href="#模块和包" class="headerlink" title="模块和包"></a>模块和包</h2><p>后面要预习的内容：</p>
<p>高阶函数（内置函数）</p>
<p>map 、reduce、filter</p>
<p>常用的模块</p>
<p>time、datetime、calender、os</p>
<h3 id="一-模块和包"><a href="#一-模块和包" class="headerlink" title="一.模块和包"></a>一.模块和包</h3><p>模块就是一个工具包  一个py文件称之为一个模块</p>
<p>有三种模块类型</p>
<p>1.python系统提供的模块</p>
<p>如:random  time  math…</p>
<p>2.第三方模块</p>
<p>别人写好的  自己拿来使用</p>
<p>需要安装模块工具   pip</p>
<p>控制台命令 输入：pip install 模块名  </p>
<p>conda install 模块名</p>
<p> 注：必须要有网络</p>
<p>3.自定义模块</p>
<p>如果要使用其他模块 – 导入模块   import</p>
<p>导入模块的方式：</p>
<p>a) import 模块的名字  </p>
<p>这种形式使用模块内容是 格式是 模块名.内容名</p>
<p>b） from 模块名  import 内容名称</p>
<p>c)  from 模块名  import  *</p>
<p><code>*</code>  通配符  泛指当前模块下所有的内容</p>
<p>使用之前要注意：调用的内容必须是在模块的<code>“__all__”</code> 字段中指明的内容</p>
<p>注：当导入的模块不容易记住 可以取个别名 as</p>
<p>格式：import 模块名 as 别名</p>
<p>在使用的时候只能通过别名来调用内容</p>
<p><code>__main__</code> 程序入口</p>
<p>启动程序是 从那个文件先进入 对应的那个文件称之为程序的入口文件 <code>这个文件中__name__</code> 对应的字段值就是 <code>__main__</code></p>
<h3 id="第三方模块的使用-–-安装-pip-install-模块名"><a href="#第三方模块的使用-–-安装-pip-install-模块名" class="headerlink" title="第三方模块的使用  – 安装  pip install 模块名"></a>第三方模块的使用  – 安装  pip install 模块名</h3><p>pymysql  </p>
<p>redis</p>
<p>pygame</p>
<h3 id="包"><a href="#包" class="headerlink" title="包"></a>包</h3><p>包的作用:为模块提供多层命名空间 并对其进行分配管理</p>
<p>常识问题：</p>
<p>在一个文件夹下 不允许同时存在两个名字相同的文件</p>
<p>a：</p>
<p>test.txt</p>
<p>b:</p>
<p>test.txt</p>
<p>在项目中不同的功能</p>
<p>起模块名的时候 – 很可能模块名重名就重名了</p>
<p>包就是程序中文件夹</p>
<p>包是必须在项目中才能存在的</p>
<p>包创建出来之后 会自带一个<code>&#39;__init__.py&#39;</code>文件  这个文件的作用就是标注该目录是一个包 而非普通文件夹</p>
<p>想使用包里面的模块的导入模式：</p>
<p>包名.模块名</p>
<p>有几层包 包名都用点分割 标注</p>
<h3 id="随机数模块"><a href="#随机数模块" class="headerlink" title="随机数模块"></a>随机数模块</h3><p>random</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> randomprint(random.random())  <span class="comment"># (0,1) float  大于0且小于1之间的小数print(random.randint(1,3)) #[1,3]  大于等于1小于等于3之间的整数print(random.randrange(1,3)) # [1,3) 大于等于1 小于3之间的整数print(random.choice([1,&quot;23&quot;,[4,5]])) # 在序列中随机产生一个内容print(random.sample([1,&quot;23&quot;,[4,5]],2)) # 列表中任意组合两个print(random.uniform(1,3)) # 大于1 小于3的小数item = [1,3,5,7,9]random.shuffle(item) # 打乱item的顺序 相当于 洗牌print(item)</span></span><br></pre></td></tr></table></figure>

<h3 id="常用模块"><a href="#常用模块" class="headerlink" title="常用模块"></a>常用模块</h3><p>时间模块: time datetime calender</p>
<p>时间戳：表示的是从1970年1月1日开始按秒计算的偏移量</p>
<p>a）.time</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time<span class="comment"># 获取当前的时间   -- 时间元组res = time.localtime()print(res)# 可以通过字段的方式获取 (推荐)year = res.tm_yearprint(year)# 通过索引获取# year = res[5]# print(year)# 2.获取当前时间对应时间戳seconeds =  time.time()print(seconeds)# 将时间戳转换时间元组time1 = time.localtime(seconeds)print(time1)# 休眠time.sleep(2)print(&quot;睡醒了&quot;)# 时间格式 2021年4月1日 9:54:22&#x27;&#x27;&#x27;表示年的占位符   %Y  2021  %y 21表示月的占位符   %m    日           %d  -- 表示是1-31号的日期                 %H  -- 24小时制                 %I  -- 12小时制                 %p  -- am/pm 的标识    分           %M    秒           %S    一年中的第几天     %j&#x27;&#x27;&#x27;t1 = time.localtime()# 将其进行格式化res = time.strftime(&quot;%Y/%m/%d %H:%M:%S %j %A&quot;,t1)print(res)# 将格式化的时间转换为时间元组 2021/04/01 10:00:01time_str = &quot;2021-04-01 10:00:01&quot;res = time.strptime(time_str,&quot;%Y-%m-%d %H:%M:%S&quot;)print(res)# 获取指定时间的秒数seconds = time.mktime(res)print(seconeds)&#x27;&#x27;&#x27;要求：获取指定时间的三天后的时间思路：指定一个时间  2020-01-01  --- 2020-01-04转成程序认识的时间 获取秒数+3天的秒数 ---时间戳&#x27;&#x27;&#x27;# 获取指定时间 的n天后/前的时间戳def get_time(time_str,days,format_str):    # 1.将时间转换为程序认识的时间元组    time_tuple = time.strptime(time_str,format_str)    # 2.获取指定时间的秒数    seconds = time.mktime(time_tuple)    # 3.获取days前/后时间戳    times = seconds + (days) * 24 * 3600    tiems_tuple = time.localtime(times)    res_times = time.strftime(format_str,tiems_tuple)    return res_timesres = get_time(&quot;2020-1-1&quot;,-3,&quot;%Y-%m-%d&quot;)print(res)</span></span><br></pre></td></tr></table></figure>

<p>b) datetime</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> datetime<span class="comment"># 获取当前时间res = datetime.datetime.now()print(res)# 获取当前日期day = datetime.date.today()print(day)print(day.weekday()) # 星期# 获取指定时间 的n天后/前的时间res = datetime.date.today() - datetime.timedelta(days=-2) # 正数代表 过去  负数代表 未来   天数print(res)# 时间格式res = datetime.datetime.now().strftime(&quot;%Y-%m-%d %j&quot;)print(res)# 在转回去res = datetime.datetime.strptime(res,&quot;%Y-%m-%d %j&quot;)print(res)# 将时间转化为时间元组time_tuple = datetime.datetime.now().timetuple()print(time_tuple)</span></span><br></pre></td></tr></table></figure>

<p>c) calendar</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> calendar<span class="comment"># 显示指定年的日期res = calendar.calendar(2021)#print(res)res = calendar.month(2021,4)print(res)# 判断闰年和平年res = calendar.isleap(2021)print(res)res = calendar.monthcalendar(2021,1)print(res)day = res[2][2]print(day)res = calendar.weekday(2021,4,1)print(res) #[0,6] [星期1 星期天]# hashlib  加密模块</span></span><br></pre></td></tr></table></figure>

<p>d) hashlib  加密模块</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> hashlibhash = hashlib.md5() <span class="comment"># md5  不可逆的 不可反解 但是加密是固定的 关系是一一对应 缺陷 可以被撞出来hash.update(bytes(&#x27;admin&#x27;,encoding=&quot;utf-8&quot;)) # 要对那个字符串进行加密# 输出加密的字符串print(hash.hexdigest()) # 拿到加密的字符串  21232f297a57a5a743894a0e4a801fc3hash2 =  hashlib.sha3_384() # 不同算法  hashlib很多加密的算法hash2.update(bytes(&#x27;admin&#x27;,encoding=&quot;utf-8&quot;))print(hash2.hexdigest())hash3 = hashlib.md5(bytes(&#x27;abd&#x27;,encoding=&quot;utf-8&quot;))&quot;&quot;&quot;如果没有参数 md5遵循一个规则 生成同一个对应关系 如果加了参数 就是在原来的基础上在一层加密  这样的话参数只有自己知道 防止被撞库因为别人永远那不不到这个参数&quot;&quot;&quot;hash3.update(bytes(&#x27;admin&#x27;,encoding=&#x27;utf-8&#x27;))print(hash3.hexdigest())&quot;&quot;&quot;模拟登陆和注册 要求：利用md5进行用户登陆网站进行注册之后密码加密的基本事例扩展：数据放入文本中  open(&#x27;文件路径&#x27;,&#x27;打开模式&#x27;)******* 模拟网站界面*****1.登录2.注册&quot;&quot;&quot;# 封装加密功能def md5_jiami(arg):    hash = hashlib.md5(bytes(&#x27;abcd&#x27;,encoding=&#x27;utf-8&#x27;)) # 如果加了参数 就是在原来的基础上在一层加密  这样的话参数只有自己知道 防止被撞库    hash.update(bytes(arg,encoding=&#x27;utf-8&#x27;)) # 要对那个字符串进行加密    return hash.hexdigest()# 封装注册功能def register(user,pwd):    with open(&quot;db.txt&quot;,&quot;a&quot;,encoding=&quot;utf-8&quot;) as f:        #数据 用户名+密码（加密？）        temp = user + &quot;|&quot; + md5_jiami(pwd) + &quot;\n&quot;        f.write(temp)# 封装登录功能def log(user,pwd):    with open(&#x27;db.txt&#x27;,&#x27;r&#x27;,encoding=&quot;utf-8&quot;) as f:        for line in f:           u,p = line.strip().split(&quot;|&quot;) # admin  da3177cbd9f064004b6a0d59a3a484bb           if u == user and p == md5_jiami(pwd):               return Trueprint(&quot;******* 模拟网站界面*****&quot;)print(&quot;1.表示登录 \n2.表示注册&quot;)i = input(&quot;请选择操作功能：&quot;)if i == &quot;2&quot;:    user = input(&quot;用户名:&quot;)    pwd = input(&quot;密码:&quot;)    register(user,pwd)elif i == &quot;1&quot;:    user = input(&quot;用户名:&quot;)    pwd = input(&quot;密码:&quot;)    res = log(user,pwd)    if res:        print(&quot;登录成功&quot;)    else:        print(&quot;登录失败&quot;)</span></span><br></pre></td></tr></table></figure>



<h2 id="迭代对象"><a href="#迭代对象" class="headerlink" title="迭代对象"></a>迭代对象</h2><h3 id="判断是否可是迭代对象"><a href="#判断是否可是迭代对象" class="headerlink" title="判断是否可是迭代对象"></a>判断是否可是迭代对象</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># from collections import Iterable # 判断是否是迭代对象  -- 是迭代对象# # isinstance()判断是否是迭代对象的方法# print(isinstance(&quot;abc&quot;,Iterable)) # True# print(isinstance([1,2,3],Iterable)) # True# print(isinstance(123,Iterable))list1 = list(&quot;一二三四五六七八九十&quot;)# 获取索引 和  值for i,v in enumerate(list1):    print(&quot;index:&quot;,i,&quot;values&quot;,v)</span></span><br></pre></td></tr></table></figure>

<h3 id="生成式"><a href="#生成式" class="headerlink" title="生成式"></a>生成式</h3><p>快速生成列表或者字典的方式</p>
<p>格式：</p>
<p>列表生成式</p>
<p>[列表中存放的元素 元素的来源 元素的筛选]</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">list0 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>]<span class="comment"># 从上面数据中快速生成[2,4,6,8,10]# 不使用列表生成式# list1 = []# for item in list0:#     if item % 2 == 0:#         list1.append(item)# print(list1)# 列表生成式list2 = [item for item in list0 if item%2==0]print(list2)# 在上面的基础上 利用列表生成式 生成[4,16,36,64,100]list3 = [item**2 for item in list2]print(list3)# 判断某个数据是否指定的类型res = isinstance(123,str)print(res)list4 = [&quot;good&quot;,&quot;nice&quot;,12,&quot;day&quot;,&quot;up&quot;,88]# 只要字符串 不要数字res = [item for item in list4 if isinstance(item,str)]print(res)## 只要字符串 不要数字 字符串的字母变大写形态res = [item.upper() for item in list4 if isinstance(item,str)]print(res)</span></span><br></pre></td></tr></table></figure>

<p>字典生成式</p>
<p>{存放的元素k:v  元素的来源 元素的筛选}</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 字典生成式dict0= &#123;&quot;语文&quot;:88,&quot;政治&quot;:76,&quot;历史&quot;:57,&quot;英语&quot;:55&#125;# 大于60分的科目dict1 = &#123;k:v for k,v in dict0.items() if v&gt;=60&#125;print(dict1)# 将原字典的键和值颠倒dict1 = &#123;v:k for k,v in dict0.items() if v&gt;=60&#125;print(dict1)</span></span><br></pre></td></tr></table></figure>

<h3 id="生成器-generator"><a href="#生成器-generator" class="headerlink" title="生成器  generator"></a>生成器  generator</h3><p>生成式  可以快速生成一批数据  — 这些数据是全部在内存中</p>
<p>python提供了生成器 – 需要去时候才会在内存中产生  不是一次性全部在内存中</p>
<p>定义生成器：</p>
<p>1.列表生成式设置小括号</p>
<p>2.结合函数和yield关键字 形成生成器</p>
<p>在生成器中怎么去获取数据？</p>
<h3 id="迭代器（另外的遍历方式）-Iterable"><a href="#迭代器（另外的遍历方式）-Iterable" class="headerlink" title="迭代器（另外的遍历方式） Iterable"></a>迭代器（另外的遍历方式） Iterable</h3><p>可以迭代对象 Iterable</p>
<p>凡是可以通过for循环遍历的统称称为可迭代对象</p>
<p>可以迭代的对象： 字符串 str  元组tuple 字典dict 集合set 列表list…</p>
<p>验证指定的类型：isinstance(数据,类型)</p>
<h2 id="高级函数"><a href="#高级函数" class="headerlink" title="高级函数"></a>高级函数</h2><h3 id="map-函数"><a href="#map-函数" class="headerlink" title="map()  函数"></a>map()  函数</h3><p>map(func, *iterables)</p>
<p>将序列中的元素依次作用于函数 将函数运行的结果存放在一个新的迭代器中</p>
<h3 id="reduce"><a href="#reduce" class="headerlink" title="reduce"></a>reduce</h3><p>将一个函数作用于序列 这个函数必须接受两个参数  reduce 把元素累计结果与下一个元素继续累计的过程</p>
<h3 id="filter"><a href="#filter" class="headerlink" title="filter"></a>filter</h3><p>过滤 筛选</p>
<p>filter(function or None, iterable)</p>
<h3 id="sorted"><a href="#sorted" class="headerlink" title="sorted"></a>sorted</h3><p>排序</p>
<p>sorted(列表,key,reverse)</p>
<h2 id="函数补充"><a href="#函数补充" class="headerlink" title="函数补充"></a>函数补充</h2><p>函数的声明</p>
<p>函数的调用</p>
<p>递归</p>
<p>位置参数：传递的实参的顺序和声明的形参的顺序一致</p>
<p>默认参数：声明函数的时候可以给形参设置默认值 调用的时候如果不传值就是默认值 传值的话就是用传递的值</p>
<h3 id="可变参数"><a href="#可变参数" class="headerlink" title="可变参数"></a>可变参数</h3><p>例子：封装一个功能 求n个数的叠加和？</p>
<p>形参设置成可变参数</p>
<p>def 函数名(形参,*形参):</p>
<p>​        语句块</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 可变参数# 求n个数累计的和def add(*nums):    #print(type(nums)) # 元组    # 在函数中nums是一个元组；用于接受传递过来的所有实参的值    sum = 0    for item in nums:        sum+=item    return sum# res = add(1,2,33,55,10)# print(res)# 直接传递一个元组tuple0 = (34,56,88)# 调用函数res = add(*tuple0) # 在其赋值给函数的可变参数nums 不加* 报错print(res) # TypeError: unsupported operand type(s) for +=: &#x27;int&#x27; and &#x27;tuple&#x27;list0 = [1,2,3]res = add(*list0)print(res)</span></span><br></pre></td></tr></table></figure>

<p>关键字参数</p>
<p>关键字参数允许调用函数时 传入0个或者多个带有形参名的参数 这些数据会存放在函数内部自动形成一个字段</p>
<p>什么时候使用关键字参数？？？</p>
<p>例子：</p>
<p>注册信息</p>
<p>必填项 — 固定的形参</p>
<p>选填项 — 关键字参数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 关键字参数# 选填项就要用关键字参数  字段名=数据def accept_data(username,password,**argus):    print(username,password,argus)# 调用函数accept_data(&quot;开群&quot;,&quot;5201314&quot;,email=&quot;860152299@qq.com&quot;,sex=&quot;女&quot;)dict0 = &#123;&#x27;email&#x27;: &#x27;860152299@qq.com&#x27;, &#x27;sex&#x27;: &#x27;女&#x27;&#125;# 通过字典传值accept_data(&quot;小群群&quot;,&quot;1314520&quot;,**dict0)</span></span><br></pre></td></tr></table></figure>

<p>闭包  –  nonlocal 关键字（闭包）</p>
<p>在函数A声明函数B 并且函数A的返回值是函数B — 这种形式称之为闭包（closure）</p>
<p>global 关键字</p>
<p>如果在函数内部使用全局变量 需要先对其进行global标记</p>
<p>外部函数的局部变量在内部函数使用时 需要将其nonlocal标记</p>
<p>注意：如果不进行标记 会默认认为那个变量是在内部函数里面声明的 与 外部函数的变量只是同名而已</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 闭包# def func_a():#     def func_b():#         print(&quot;内部函数B&quot;)#     def func_c():#         print(&quot;内部函数C&quot;)#     return func_b# res = func_a()# res()#func_a()()# func_b()  在函数内部声明的内容 函数外部获取不到的# 作用域# 变量作用域：全局变量 和 局部变量a = 50 # 全局变量def func_a():    # global a    # a = 500 # 局部变量    num = 10    def func_b():        print(&quot;内部函数B&quot;)        nonlocal num        num = 100        print(&quot;内部函数B&quot;,num)    def func_c():        print(&quot;内部函数C&quot;)    func_b()    print(&quot;外部函数：&quot;,num)    return func_bres = func_a()print(res)# print(a)</span></span><br></pre></td></tr></table></figure>

<p>装饰器</p>
<p>装饰器的作用：为已经存在的函数添加新的功能  不会对原来功能增加影响</p>
<p>功能：</p>
<p>打印九九乘法表？</p>
<p>计算这个功能执行需要的时间？</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 打印九九乘法表def table():    for i in range(1,10):        for j in range(1,i+1):            print(j,&quot;*&quot;,i,&quot;=&quot;,i*j,end=&quot; \t&quot;)        print(&quot;&quot;)import time# start = time.time()# table()# end = time.time()# print(end-start)# 想计算每个功能执行的时间def get_time(func):    start = time.time()    func()    end = time.time()    print(&quot;耗时&quot;,end-start)def nums():    for s in range(1,1000000):        print(s)get_time(nums)</span></span><br></pre></td></tr></table></figure>

<p>装饰器的格式本身就是一个闭包</p>
<p>在不修改原来的功能的基础上增加新的功能【新的功能 可以增加 也可以不增加】</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">outter_name</span>(<span class="params">func</span>):</span>    <span class="function"><span class="keyword">def</span> <span class="title">inner_name</span>(<span class="params">*value,**argus</span>):</span>        <span class="comment"># 增加的功能        res = func(*value,**argus)        return res    return inner_name</span></span><br></pre></td></tr></table></figure>





<p>偏导函数</p>
<p>例子：将一个数据转换为整数</p>
<p>int()</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 偏函数&quot;&quot;&quot;int(x, base=10)--- 常用的状态十进制为基础&quot;&quot;&quot;res= int(&quot;10&quot;,base=2)print(res) # 0000 0000 # 2def int1(value):    return int(value,base=2)res = int1(&quot;0010&quot;)print(res)# 系统也提供了设置偏函数的功能import  functoolsint2 = functools.partial(int,base=2)res = int2(&quot;1001&quot;)print(res)</span></span><br></pre></td></tr></table></figure>

<p>匿名函数</p>
<p>声明函数时 都有函数名</p>
<p>带有函数名的函数是有一个弊端的</p>
<p>起函数名— 见名知意</p>
<p>求两个数的和？</p>
<p>def add(a,b):</p>
<p>​    return a+b</p>
<p>求三个数的和？</p>
<p>def add(a,b,c):</p>
<p>​    return a+b+c</p>
<p>在一个模块中 声明两个同名的函数 第二函数就会把原来的函数覆盖掉</p>
<p>简单的函数就可以使用匿名函数来完成</p>
<p>匿名函数的格式：</p>
<p>lambda 函数的参数:执行的语句</p>
<p>执行语句注意：只有一条语句  一般这条语句被视为返回语句</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># def add(a,b):#     return a+bf = lambda a,b:a+bprint(f)res = f(12,34)print(res)# def add(a,b,c):#     return a+b+cadd = lambda a,b,c:a+b+cprint(add(1,2,3))# res = add(1,2)# print(res) # 第二个会把第一个覆盖掉</span></span><br></pre></td></tr></table></figure>

<p>预习： </p>
<p>1.os模块</p>
<p>2.关于文件读写的操作（IO输入输出机制） </p>
<h2 id="re模块"><a href="#re模块" class="headerlink" title="re模块"></a>re模块</h2><p><img src="C:\Users\Administrator\Desktop\360截图20210615221355949.jpg" class="lazyload" data-srcset="C:\Users\Administrator\Desktop\360截图20210615221355949.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="360截图20210608203821802"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[re.sub(r&#x27;\xa0|\t|\n|\s&#x27;,&#x27;&#x27;,i)for i in sho] 替换 </span><br></pre></td></tr></table></figure>

<p>​            其中没填括号的代表不需要的比如空格什么的</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="os模块"><a href="#os模块" class="headerlink" title="os模块"></a>os模块</h2><p>提供了很多的方法来处理磁盘上的文件和目录</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os<span class="comment"># 1.获取当前的操作系统的名称name = os.nameprint(name) # nt -- windows posix--Liunx/Mac# 获取系统的信息# res = os.uname()  # windows 下是不支持 Mac/Liunx下才有结果# print(res)# 获取环境变量env =  os.environprint(env)# 获取某一个的环境变量对应的值res = os.environ.get(&quot;Path&quot;)print(res)&quot;&quot;&quot;绝对路径:从盘符开始 到目的的文件结束D:\Anaconda3\demo.txt相对路径：参照物    C:        test            a.txt            m.py            subtest                b.txt        test1            c.txt参照物是m.py文件需求：    想在m.py中获取a.txt这个路径（平级的直接就写文件名称即可） a.txt    想在m.py中获取b.txt这个路径 (subtest\b.txt)    想在m.py中获取c.txt这个路径 (..\test1\c.txt). --- 当前路径.. --- 上一级路径&quot;&quot;&quot;# 获得当前文件所在的当前路径path = os.curdir # 当前路径print(path) # .# 获得当前文件所在的目录path = os.getcwd()print(path)# D:\pythonobj\ch14\os_pack# 获得指定目录下的所有子目录或者子文件的名字path = r&quot;D:\pythonobj&quot;path_list = os.listdir(path)print(path_list)# 创建目录&quot;&quot;&quot;make directory 创建文件夹&quot;&quot;&quot;#os.mkdir(&quot;test_dir&quot;) # 相对路径# 多级目录 mkdir不行 创建一级#os.mkdir(r&quot;D:\pythonobj\ch14\os_pack\test&quot;)# 想多级目录#os.makedirs(r&quot;D:\pythonobj\ch14\os_pack\test1\test2\test3&quot;)# 删除目录#os.rmdir(&quot;test_dir&quot;)# 删除只能删除空目录（删除只会删除最后一级目录）#os.rmdir(r&quot;D:\pythonobj\ch14\os_pack\test1\test2\test3&quot;)# 创建文件  -- 注：后面文件的输入输出详细讲解# 打开一个文件 执行的写的操作  打开这个文件的时候 如果文件不存在 则创建#open(&quot;test.txt&quot;,&quot;w&quot;)# 删除文件#os.remove(&quot;test.txt&quot;)# 获取文件的信息#res = os.stat(&quot;os_demo.py&quot;)  # 存在问题   传入文件名  路径地址#print(res)# 重命名#os.rename(&quot;修改目录&quot;,&quot;原目录&quot;)# 重命名目录#os.rename(r&quot;D:\pythonobj\ch14\os_pack\test1&quot;,r&quot;D:\pythonobj\ch14\os_pack\test3&quot;)# 有些对文件的操作是存在os.path下# 文件的绝对路径ab_path = os.path.abspath(&quot;.&quot;)print(ab_path) # D:\pythonobj\ch14\os_pack# 拼接路径join_path = os.path.join(&quot;路径&quot;,&quot;文件名)print(join_path) # D:\pythonobj\ch14\os_pack\os_demo.py# 拆分路径 最后的返回结果1个元组 (“前半部分路径”，“最后一级的路径名”)res = os.path.split(ab_path)print(res)# 获取指定路径的扩展名分为两个路径(前半部分路径，文件的扩展名)# 注：如果指定的路径是一个目录的话 扩展名的部分就是空字符res = os.path.splitext(join_path)print(res)# 获取指定路径的 最后一级的名字file_name = os.path.basename(ab_path)print(file_name)# 获取指定路径的 最后一级前的所有路径dir_name = os.path.dirname(ab_path)print(dir_name)# 获取文件的大小file_size = os.path.getsize(join_path)print(file_size) # 字节 B -- KB -- MB -- GB -- TB -- PB -- EB -- ZB -- YB -- BB -- NB -- DB -- CB -- XB# 判断操作# 1.判断指定目录是否绝对路径res = os.path.isabs(join_path)print(res) # True# 2.判断指定路径是不是目录/文件夹res = os.path.isdir(ab_path)print(res)# 3.判断是否是文件res= os.path.isfile(join_path)print(res)# 判断指定路径在计算机中是否存在res = os.path.exists(&quot;w:\s&quot;)print(res)&quot;&quot;&quot;练习：获取指定目录下 后缀为.wmv的文件路径      扩展：想获取指定目录下所有的文件&quot;&quot;&quot;path = r&quot;C:\Users\Administrator\Desktop\数据分析5班\2021-4-6\video&quot;dir_list = os.listdir(path)for file_name in dir_list:    if file_name.endswith(&quot;.wmv&quot;):        print(os.path.join(path,file_name))# 想获取指定目录下所有的文件&quot;&quot;&quot;test    a.txt    b.txt    subtest        1.txt        2.txt        sub_tets            l.txt            m.txt&quot;&quot;&quot;# 目录中 所有的文件def get_file(path):    # 判断路径是否存在    if not os.path.exists(path):        return    if os.path.isfile(path):        print(&quot;只接受目录&quot;)        return    file_list = os.listdir(path)    for file_name in file_list:        # 判断路径下是否文件路径        join_path = os.path.join(path,file_name)        # 判断整个路径        if os.path.isfile(join_path):            print(join_path)        else:            get_file(join_path) # 在去找# get_file(r&quot;d:\\&quot;)&quot;&quot;&quot;删除指定目录&quot;&quot;&quot;def delete_file(path):    # 判断路径是否存在    if not os.path.exists(path):        return    if os.path.isfile(path):        print(&quot;只接受目录&quot;)        return    file_list = os.listdir(path)    for file_name in file_list:        # 判断路径下是否文件路径        join_path = os.path.join(path, file_name)        # 判断整个路径        if os.path.isfile(join_path):            os.remove(join_path)            print(join_path,&quot;已删除&quot;)        else:            delete_file(join_path)  # 在去找    # 遍历删除完成后 该目录成了空目录    os.rmdir(path)delete_file(r&quot;E:\pythonobj&quot;)</span></span><br></pre></td></tr></table></figure>



<h2 id="关于文件的读写操作（IO输入输出机制）"><a href="#关于文件的读写操作（IO输入输出机制）" class="headerlink" title="关于文件的读写操作（IO输入输出机制）"></a>关于文件的读写操作（IO输入输出机制）</h2><p><img src="C:\Users\Administrator\Desktop\360截图20210608204231109.jpg" class="lazyload" data-srcset="C:\Users\Administrator\Desktop\360截图20210608204231109.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="360截图20210608204231109"></p>
<p>​            当为字典时，想要写入，可以通过json直接写入  ，后面的传参代表不自动转换编码</p>
<p>输入输出是有参照物的</p>
<p>输入：将内容读取到程序的过程  — 输入过程</p>
<p>输出：将内容从程序中写出去的过程 – 输出过程</p>
<p>文件：存储在外部介质（磁盘文件、网络数据）上的数据和信息的集合</p>
<p>注：操作的数据流</p>
<p>首先 打开文件  – 编写数据</p>
<p>首先  打开文件 – 在程序中的通过介质关联文件  获得文件的手柄</p>
<p>格式：handle = open(“文件路径”,”打开方式”)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">打开模式：r  (read)   ---- 只读操作  要求文件必须存在w  (write)  ---- 只写模式  如果文件不存在 会创建文件  存在将文件原来的内容清空x  			---- 写入模式  要求文件是存在的a  (append) ---- 只写模式  如果文件不存在 会创建文件 如果文件存在会在原来的基础上进行拼接r+  w+ x+  a+ ----- 可以进行读和写带有b的模式    --- 以二进制的形式对文件进行读写操作   读出/写入的是数据的字节格式rb  wb  xb abrb+ wb+ xb+ ab+程序本身无法处理程序外部的垃圾【读和写的过程中产生垃圾 程序无法处理】当文件处理完毕后 记得关闭处理通道 防止产出通道垃圾（程序无法处理）handle.close()</span><br></pre></td></tr></table></figure>

<h3 id="对文件进行读取操作"><a href="#对文件进行读取操作" class="headerlink" title="对文件进行读取操作"></a>对文件进行读取操作</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">read([size]) 不写参数的话 一次性将文件中的内容全部读取出来传入size大小   一次性读取&lt;=size个字符的数据readline()将数据一行一行的进行读取readlines()读取所有的行  将每一行当做一个元素存放在列表中</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.打开文件获取文件的操作手柄# r 读取的是字符数据  记住可能存在编码问题  设置编辑集  utf-8handle = open(&quot;hello.txt&quot;,&quot;r&quot;,encoding=&quot;gbk&quot;)# 调用读取的函数 read# res = handle.read()# print(res)# 获取文件指针位置pos = handle.tell()print(pos)# 按字节读取&quot;&quot;&quot;r 按照字符个数读取rb  按照字节数读取&quot;&quot;&quot;res = handle.read(5)print(res) # 5个字# 获取文件指针位置pos = handle.tell()print(pos) # gbk 2字节 utf-8 3个字节# 如果还想在读取前面的数据 需要移动文件指针到指定的位置handle.seek(0)# res = handle.read(1)# print(res)# readline 一行一行的读取 读取的时候换行读取出来\n# line = handle.readline()# print(line)# line = handle.readline()# print(line)# # 循环遍历# readlines 读取多行 将每一行当做元素存储在列表中lines = handle.readlines()print(lines)# 关闭通道handle.close()</span></span><br></pre></td></tr></table></figure>

<h3 id="对文件进行写的操作"><a href="#对文件进行写的操作" class="headerlink" title="对文件进行写的操作"></a>对文件进行写的操作</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">write(<span class="built_in">str</span>/字节数据)将字符串写入到文件中 根据写入的模式来判定写入的内容 a/w  --字符串 ab/wb 写入就是字节数据writelines(序列)将序列中的内容写入到文件中</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 写的操作handle = open(&quot;hello.txt&quot;,&quot;a&quot;)handle.write(&quot;\n这首诗叫做静夜思&quot;)# 按序列写入内容list0 = [&quot;小乔流水人家\n&quot;,&quot;古道西风瘦马\n&quot;,&quot;夕阳西下\n&quot;,&quot;断肠人在天涯&quot;]# handle.writelines(list0)for item in list0:    handle.write(item)handle.close()</span></span><br></pre></td></tr></table></figure>

<h3 id="二进制写入"><a href="#二进制写入" class="headerlink" title="二进制写入"></a>二进制写入</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 二进制写入handle = open(&quot;hello.txt&quot;,&quot;wb&quot;)# 写进去的就是字节数据 如果是带b模式只能写入字节数据handle.write(&quot;\n离离原上草&quot;.encode(&#x27;gbk&#x27;))# 如果遇到写入不成功 可以执行刷新handle.flush()handle.close()</span></span><br></pre></td></tr></table></figure>

<h2 id="案例：学员管理系统"><a href="#案例：学员管理系统" class="headerlink" title="案例：学员管理系统"></a>案例：学员管理系统</h2><p>功能：1.添加学员    2.修改学员    3.查询学员    4.删除学员    0.退出程序</p>
<p>注：根据编号选择对应的功能</p>
<p>学员字段：序号、姓名、年龄、性别、手机号</p>
<p>查询学员：a.查询所有学员    b.姓名查询  </p>
<p>修改学员：选查询是否有这个学员存在，在进行修改</p>
<p>删除学员：选查询是否有这个学员存在 a.通过序号删除   b.删除全部学员  c.根据名字删除</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">例子：<span class="comment">#系统界面while 1:    print(&quot;**********************学员管理系统**********************&quot;)    print(&quot;**********************1.添加学员**********************&quot;)    print(&quot;**********************2.修改学员**********************&quot;)    print(&quot;**********************3.查询学员**********************&quot;)    print(&quot;**********************4.删除学员**********************&quot;)    print(&quot;**********************0.退出程序**********************&quot;)    num = int(input(&quot;请选择你的操作：&quot;))    if num == 1:        pass    elif num==2:        pass    elif num==3:        pass    elif num==4:        pass    else:        print(&quot;退出程序&quot;)        break</span></span><br></pre></td></tr></table></figure>

<h2 id="深拷贝，浅拷贝"><a href="#深拷贝，浅拷贝" class="headerlink" title="深拷贝，浅拷贝"></a>深拷贝，浅拷贝</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#深拷贝，包含对象里面的自对象的拷贝，所以原始对象的改变不会造成深拷贝里任何子元素的改变import copyalist=`[``1``,``2``,``3``,[``&quot;a&quot;``,``&quot;b&quot;``]]`d=copy.deepcopy(alist)#copy浅拷贝，没有拷贝子对象，所以原始数据改变，子对象会改变\&gt;&gt; b=alist\&gt;&gt;&gt; print b[1, 2, 3, [&#x27;a&#x27;, &#x27;b&#x27;]]\&gt;&gt;&gt; alist.append(5)\&gt;&gt;&gt; print alist;print b[1, 2, 3, [&#x27;a&#x27;, &#x27;b&#x27;], 5][1, 2, 3, [&#x27;a&#x27;, &#x27;b&#x27;], 5]</span></span><br></pre></td></tr></table></figure>



<h2 id="序列化"><a href="#序列化" class="headerlink" title="序列化"></a>序列化</h2><p>直接将对象存放与文件中  这个过程称之为序列化</p>
<p>在文件中读取对象的过程称之为反序列化</p>
<p>python提供了pickle模块实现序列化</p>
<h2 id="CSV操作读写"><a href="#CSV操作读写" class="headerlink" title="CSV操作读写"></a>CSV操作读写</h2><p>1.向csv文件中写入数据</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pa<span class="comment"># data = pa.DataFrame(dict(item))# data.to_csv(&#x27;医药.csv&#x27;,mode=&#x27;a&#x27;,header=False,index=False,sep=&#x27;|&#x27;)</span></span><br></pre></td></tr></table></figure>

<p>(1) 列表方式写入</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 列表方式写入csvimport csv# 当前上下文操作 with  自动关闭通道with open(&quot;data.csv&quot;,&quot;a+&quot;,encoding=&quot;utf-8&quot;,newline=&#x27;&#x27;) as csvfile:    # csv 写入操作对象    writer = csv.writer(csvfile)    # 写入一行    writer.writerow([&#x27;1&#x27;,&#x27;2&#x27;,&#x27;3&#x27;,&#x27;4&#x27;,&#x27;5&#x27;])    # 写入多行    writer.writerows([[0,1,3],[1,2,3],[2,3,4]]) # 以二维列表方式进行写入    </span></span><br></pre></td></tr></table></figure>



<p>(2)字典方式写入</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 字典方式的写入csvimport csvwith open(&quot;data2.csv&quot;,&quot;a+&quot;,encoding=&quot;gbk&quot;,newline=&quot;&quot;) as csvfile:    # 字典 name:张三 sex:男    filename = &#123;&#x27;name&#x27;,&#x27;sex&#x27;&#125;    # 写入标题    writer = csv.DictWriter(csvfile,fieldnames=filename)    writer.writeheader()    # 写入内容    writer.writerow(&#123;&#x27;name&#x27;:&#x27;开群&#x27;,&#x27;sex&#x27;:&#x27;男&#x27;&#125;)    writer.writerow(&#123;&#x27;name&#x27;: &#x27;嘉豪&#x27;, &#x27;sex&#x27;: &#x27;男&#x27;&#125;)    writer.writerow(&#123;&#x27;name&#x27;: &#x27;小东&#x27;, &#x27;sex&#x27;: &#x27;男&#x27;&#125;)   </span></span><br></pre></td></tr></table></figure>

<p>2.读取csv文件中的内容</p>
<p>(1).列表方式的读取</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 列表方式的读取import csvwith open(&#x27;data.csv&#x27;,&#x27;r&#x27;,encoding=&#x27;utf-8&#x27;) as csvfile:    # 读取的对象    reader = csv.reader(csvfile)    for row in reader:        print(row,row[0]) # 读取出来的内容是列表格式的  0</span></span><br></pre></td></tr></table></figure>

<p>(2).字典方式的读取</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 字典方式的读取import csvwith open(&#x27;data2.csv&#x27;,&#x27;r&#x27;,encoding=&#x27;gbk&#x27;) as csvfile:    reader = csv.DictReader(csvfile)    for row in reader:        print(row[&#x27;sex&#x27;]) # 可以直接通过键的名称取值</span></span><br></pre></td></tr></table></figure>

<h2 id="异常机制"><a href="#异常机制" class="headerlink" title="异常机制"></a>异常机制</h2><p>什么是异常？</p>
<p>在程序中异常是不期而遇的各种状态</p>
<p>NameError</p>
<p>ValueError</p>
<p>TypeError</p>
<p>FileNotFound</p>
<p>…</p>
<p>异常机制：</p>
<p>出现异常的时候Python解释器会自动在出现错误的地方生成一个异常对象，而Python解释器在出现异常的位置查看是否有处理异常的操作 如果没有异常抛出 由Python解释器捕获这个异常对象导致程序终止</p>
<p>在程序中手动捕获异常 避免程序异常终止</p>
<p>捕获方式：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">try:	可能出现的异常代码except 异常类型 as 变量:	变量就是用于接受 Python解释器抛出的异常对象except 异常类型n as 变量n:	passelse:	当try中没有异常的时候执行</span><br></pre></td></tr></table></figure>

<p>练习：</p>
<p>控制用户输入一个整数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 异常机制num = 0try:    num = int(input(&quot;请输入一个数字:&quot;))except ValueError as ve:    print(&quot;输入的格式不正确&quot;,ve)else:    print(&quot;else&quot;)</span></span><br></pre></td></tr></table></figure>

<p>如果不知道具体的异常类型，我们可以使用异常的祖宗（Exception）</p>
<p>在try中存在多个异常 出现第一个异常 将其捕获 try-except就结束了 不会去捕获其他异常</p>
<p>捕获异常只是辅助程序员修改程序中出现的问题</p>
<p>finally:  无论try中是否有异常 都会执行</p>
<h3 id="手动抛出异常"><a href="#手动抛出异常" class="headerlink" title="手动抛出异常"></a>手动抛出异常</h3><p>语句:raise 异常对象</p>
<p>抛出异常的语句是跟随在一条语句的后面的</p>
<p>只要在语句后面写上 手动抛出异常的语句 无论这句语句有没有异常 程序都会将异常抛出</p>
<p>raise后面不能直接跟随其他语句 因为这些代码无法执行</p>
<p>手动抛出异常的处理</p>
<p>1.可以当场把出现异常的代码使用try-except包含</p>
<p>2.如果不想执行第一种行为：函数体内有异常 只要调用函数机会出现异常  谁调用函数 谁去处理</p>
<h3 id="自定义异常–-涉及到面向对象的知识点"><a href="#自定义异常–-涉及到面向对象的知识点" class="headerlink" title="自定义异常– 涉及到面向对象的知识点"></a>自定义异常– 涉及到面向对象的知识点</h3><p>练习：</p>
<p>1.删除指定目录</p>
<p>2.在a文件中读取数据，写入到b文件中，如果b文件中有内容，拼接在原有内容的后面</p>
<p>注：内容自定义</p>
<p>预习：面向对象思想</p>
<h1 id="面向对象思想"><a href="#面向对象思想" class="headerlink" title="面向对象思想"></a>面向对象思想</h1><p>面向对象编程</p>
<p>OOP（Object Oriented Programming ）是程序的一种设计思想。</p>
<p>OOP把对象当做程序的基本单元，一个对象包含了数据和操作数据的功能</p>
<h2 id="常见的编程思想："><a href="#常见的编程思想：" class="headerlink" title="常见的编程思想："></a>常见的编程思想：</h2><h3 id="面向过程程序"><a href="#面向过程程序" class="headerlink" title="面向过程程序"></a>面向过程程序</h3><p>把程序视为一系列命令的集合 也就是一组函数的顺序执行</p>
<p>为了简化程序 把函数分为多个子函数 通过子函数的调用来完成程序的执行 降低程序的复杂度</p>
<h3 id="面向对象程序"><a href="#面向对象程序" class="headerlink" title="面向对象程序"></a>面向对象程序</h3><p>把程序做一组对象的集合 每个对象都可以调用其他对象发送过来的消息 并处理这些消息 其实就是一些消息在各个对象直接进行传递</p>
<p>例：在Python中 是面向对象的编程语言 所有的数据类型都可以视为对象</p>
<p>a = 10</p>
<p>例子：</p>
<p>想处理学生的成绩表  查询学生的成绩</p>
<p>student1 = {“name”:”开群”,”socre“:88}</p>
<p>student2 = {“name”:”小东”,”socre“:85}</p>
<p>具有相同特征的 – 归为一类事物</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>:</span>	<span class="comment"># 描述所有个体的特征	name = &quot;&quot;	score = 0</span></span><br></pre></td></tr></table></figure>

<h2 id="面向对象和面向过程的区别"><a href="#面向对象和面向过程的区别" class="headerlink" title="面向对象和面向过程的区别"></a>面向对象和面向过程的区别</h2><h3 id="面向过程："><a href="#面向过程：" class="headerlink" title="面向过程："></a>面向过程：</h3><p>在生活中出现面向过程：</p>
<p>一种看待问题的方式 在思考问题的时候着眼于问题是怎样一步一步解决的  亲力亲为的去解决问题</p>
<p>买电脑：查看电脑的资料 — 去电脑城买电脑 — 砍价</p>
<p>在程序中：</p>
<p>代码是从上向下执行的</p>
<p>各模块之间的关系尽量的简单 几乎各自独立状态 每一个模块的内部都是顺序 选择 循环结构来完成的</p>
<p>通过函数设置 在自己模块中一步一步调用完成功能的需求 </p>
<h3 id="面向对象：【更符合生活】"><a href="#面向对象：【更符合生活】" class="headerlink" title="面向对象：【更符合生活】"></a>面向对象：【更符合生活】</h3><p>在生活中：着眼于指定的功能的具体的个体 委托这个个体完成指定的功能 这个具体的个体就是对象</p>
<p>买电脑：委托身边对电脑特别熟悉的人 去帮自己买电脑</p>
<p>在程序中：</p>
<p>把数据和操作的方法放在一起 作为一个相互依存的整体  — 对象</p>
<p>对同类的整体（对象）进行抽象提取 形参类</p>
<p>类里面存在的是相同对象的共同特性和行为</p>
<p>类通过一个简单的外部方法与外界发生关系，创建对象 达到对象和对象直接交互的关系</p>
<h3 id="项目流程："><a href="#项目流程：" class="headerlink" title="项目流程："></a>项目流程：</h3><p>产品经理： 根据项目需求 指定项目功能 画出大致的功能流程图—- 原型图</p>
<p>开发人员–测试人员–UI设计人员  一起研究</p>
<p>后台开发人员： 设计数据库 设计接口    UI人员： 设计图 —–&gt;开发人员 会比照原型图 和 设计图做对比  不合理 打回去重做</p>
<p>前段开发人员： 根据UI设计图 进行界面设计</p>
<p>前段开发人员与后台开发人员 对照接口调试数据 测试/调试接口【本地接口】</p>
<p>后台接口上线 – 在与前段人员进行调试【正式接口也调用完了】</p>
<p>测试人员 ：根据功能/设计图  去看项目中的问题 – 提交问题 –改bug</p>
<p>程序正式上线</p>
<h3 id="面向对象和面向过程区别的总结"><a href="#面向对象和面向过程区别的总结" class="headerlink" title="面向对象和面向过程区别的总结"></a>面向对象和面向过程区别的总结</h3><p>这两个都是看待问题的一种思维方式 都能够解决问题</p>
<p>面向过程着眼于问题是一步一步解决的</p>
<p>面向对象着眼于对象：找到具体功能的对象 委托其完成指定功能</p>
<h2 id="类和对象"><a href="#类和对象" class="headerlink" title="类和对象"></a>类和对象</h2><p>在面向对象的语言中 类和对象是面向对象的核心</p>
<h3 id="类的概念："><a href="#类的概念：" class="headerlink" title="类的概念："></a>类的概念：</h3><p>一个具有特殊功能的实体的集合 类是Python语言的基本单位</p>
<p>对象的概念：</p>
<p>在一类事物中 具有特殊功能的实体 可以被委托完成任务 称之为对象 / 实例</p>
<p>两者之间的关系：</p>
<p>类是对象的抽象描述   对象是类的实例【对象是真实存在的具体一个事物】</p>
<p>例子：</p>
<p>类    对象</p>
<p>学生类     开群   小东</p>
<p>电脑  我正在使用的Windows</p>
<p> a =  “10“</p>
<h3 id="自定义类的格式"><a href="#自定义类的格式" class="headerlink" title="自定义类的格式"></a>自定义类的格式</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">声明一个类的关键字  <span class="class"><span class="keyword">class</span>对象的描述：	特征描述：名字			年龄	行为描述：			正在吃饭...			正在跑步...	这些描述映射到程序中：			特征描述  --- 变量（属性）			行为描述  --- 功能（方法）<span class="title">class</span> 自定义类的名字：	 <span class="title">def</span> <span class="title">__init__</span>(<span class="params">self,形参列表</span>)：	 	<span class="title">self</span>.特征描述的变量 = 创建对象传值的初始化数据	 <span class="title">def</span> 行为名字(<span class="params">self,参与行为的未知项</span>):</span>	 	行为的实现</span><br></pre></td></tr></table></figure>

<p>案例：</p>
<p>学生类 :</p>
<p>特征描述：姓名 年龄  性别</p>
<p>行为描述：</p>
<p>正在吃饭…</p>
<p>正在跑步…</p>
<h3 id="创建对象格式"><a href="#创建对象格式" class="headerlink" title="创建对象格式"></a>创建对象格式</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">变量 = 自定义的类名称(描述该对象的数据值)</span><br></pre></td></tr></table></figure>

<p>练习：</p>
<p>动物类</p>
<p>特性：品种  性别  年龄</p>
<p>行为：吃饭 睡觉</p>
<p>创建对象：</p>
<p>东北虎  雄  2</p>
<p>调用吃饭行为：东北虎在吃饭</p>
<p>长毛兔  雌  1</p>
<p>调用睡觉行为：长毛兔在睡觉</p>
<h2 id="对象和类的回顾"><a href="#对象和类的回顾" class="headerlink" title="对象和类的回顾"></a>对象和类的回顾</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>:</span>    <span class="string">&quot;&quot;&quot;    def __init__(self,name,age,sex,address):    初始化方法：来为新建的对象进行初始化特征值的    self  --- 表示你当前创建的对象         初始化方法需要明确为那个对象来进行初始化 -- 用self来接受的对象         这个self不需要手动进行赋值的 自动将你创建的对象赋予给self    动态为对象添加字段（属性） ：对象有哪些特征 直接通过self.特征名字 动态添加    注：self.name 和 init方法中的形参名name不是一个内容    self.name --- 表示是该对象的特征    形参name --- 接受初始化数据 为特征赋值的    &quot;&quot;&quot;</span>    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,name,age,sex,address</span>):</span>        self.name = name        self.age = age        self.sex = sex        self.address =address        <span class="built_in">print</span>(<span class="string">&quot;嘿嘿&quot;</span>)    <span class="comment"># 行为    def sleep(self):        print(self.name,&quot;在睡觉&quot;)    # 析构方法    def __del__(self):        print(self.name,&quot;在内存中消失了..&quot;)</span></span><br></pre></td></tr></table></figure>

<h2 id="面向对象语言的三大特性：封装-继承-多态"><a href="#面向对象语言的三大特性：封装-继承-多态" class="headerlink" title="面向对象语言的三大特性：封装  继承  多态"></a>面向对象语言的三大特性：封装  继承  多态</h2><h3 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h3><p>什么是封装？</p>
<p>在程序中 封装就是对具体对象的一种抽象  </p>
<p>简单的说：将某些部分隐藏起来  程序的其他位置是看不到的【没有办法直接调用】</p>
<p>隐藏起来 — 私有化</p>
<p>将类中的特征或者某些方法私有化  外部无法直接使用</p>
<p>封装的好处：</p>
<p>1.保护隐私   – 把不想让外界知道的部分隐藏起来</p>
<p>2.隔离复杂度 – 把程序中复杂的实现 隐藏起来  – 对外部提供一个简单的接口</p>
<p>3.提高代码的健壮性</p>
<p>代码中的封装如何实现：</p>
<p>一般就是将属性私有化 对属性提供对应的set和get方法</p>
<p>练习封装：昨天动物类</p>
<h3 id="属性化get和set方法"><a href="#属性化get和set方法" class="headerlink" title="属性化get和set方法"></a>属性化get和set方法</h3><p>方法的调用 </p>
<p>对象名.方法名()</p>
<p>将其属性化之后 — 调用的时候与直接调用属性的格式类似</p>
<p>直接调用属性  对象名.属性名</p>
<p>将方法属性化之后  对象名.方法名</p>
<p>将get方法属性化方式 - 系统提供一个装饰器  @property</p>
<p>将set方法属性化方法 – 在get方法属性化的基础创建一个setter装饰器  – 将set方法属性化  格式：@get方法名.setter</p>
<h3 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h3><p>在程序中：</p>
<p>有两个或者多个相关的类中提取共性 将共性存放于一个共通类中 通过指定方式有普通类与共通类关联起来 形成继承体系</p>
<p>共通类： 称为父类、超类、基类</p>
<p>普通类：子类</p>
<p>父类和子类的关系：子类继承自父类    父类派生出子类</p>
<p>案例：</p>
<p>学生类：</p>
<p>特征：学号 [姓名 年龄  性别]</p>
<p>行为：学习 [吃饭]</p>
<p>工人类：</p>
<p>特征：工号 [姓名 年龄  性别]]</p>
<p>行为：工作 [吃饭]</p>
<p>人类：</p>
<p>特征：姓名 年龄  性别</p>
<p>行为：吃饭</p>
<p>格式：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">父类的格式：	<span class="class"><span class="keyword">class</span> 父类的类名:</span>		<span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,形参列表</span>)			子类共同的特征(<span class="params">属性</span>)		子类中共同行为子类	<span class="title">class</span> 子类类名(<span class="params">父类类名</span>):</span>		<span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,共性属性列表,个性属性的列表</span>)			# 调用父类的共性属性进行初始化			# 在为个性属性进行赋值		个性方式</span></span><br></pre></td></tr></table></figure>

<h4 id="练习："><a href="#练习：" class="headerlink" title="练习："></a>练习：</h4><p>Dog:</p>
<p>特征：昵称    年龄     品种     性别</p>
<p>行为：啃骨头    看家</p>
<p>Cat:</p>
<p>特征：昵称    年龄    性别</p>
<p>行为：吃鱼    抓老鼠</p>
<p>抽象父类，完成继承关系，进行测试</p>
<p>要求：对属性进行封装</p>
<h3 id="继承中的概念"><a href="#继承中的概念" class="headerlink" title="继承中的概念"></a>继承中的概念</h3><p>单继承：一个类仅有一个父类</p>
<p>多重继承/多层继承：一个类可以间接继承多个父类 </p>
<p>子类–父类–爷爷类–祖宗类</p>
<p>虽然是间接继承 也可以直接使用共性的</p>
<p>多继承：一个类可以有多个父类【Python是支持多继承】</p>
<p>class 子类(父类1，父类2，…父类n)</p>
<p>案例：动物体系演示概念</p>
<p>狗：dog</p>
<p>蝙蝠：bat</p>
<p>鹦鹉：parrot</p>
<p>鸵鸟：ostrich</p>
<p>顶级类：动物   Animal</p>
<p>哺乳类Mammal和鸟类Brid </p>
<p>哺乳类：狗  蝙蝠</p>
<p>鸟类：鹦鹉 鸵鸟</p>
<p>能跑的runnable  能飞的flyable</p>
<h3 id="方法的重写"><a href="#方法的重写" class="headerlink" title="方法的重写"></a>方法的重写</h3><p>子类去重写父类中的方法</p>
<p>什么时候进行重写？</p>
<p>子类中的功能的实现 父类无法满足了 子类就可以对其进行重写</p>
<p>当子类重写了父类中的方法 子类在调用该方法是 调用的是子类重写的方法</p>
<h3 id="系统方法的重写"><a href="#系统方法的重写" class="headerlink" title="系统方法的重写"></a>系统方法的重写</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">__str__  应用于用户的 用户查看的信息 使用__str__显示出来__repr__ 类似__str__ 正对程序而言__slots__ 对象的特征是动态赋予</span><br></pre></td></tr></table></figure>



<h3 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h3><p>多态：事物的多种形态</p>
<p>静态语言  和 动态语言</p>
<p>静态语言 类型是明确的  Java </p>
<p>声明一个变量的时候 必须先指明该变量被赋值的类型 这个变量被赋值只能定义该类型的值  例如：int num = 0</p>
<p>如果赋予其他的值 就会报错</p>
<p>整数:byte short int long</p>
<p>浮点数：float double</p>
<p>….</p>
<p>动态语言：Python</p>
<p>变量的类型是根据赋值来决定</p>
<p>a = 10   a=”10”</p>
<p>主人  介绍宠物</p>
<p>宠物猫</p>
<p>宠物狗</p>
<h2 id="类属性和类方法"><a href="#类属性和类方法" class="headerlink" title="类属性和类方法"></a>类属性和类方法</h2><p>对象属性：在类中描述的对象特征  —- 对象属性</p>
<p>想获取/修改对象属性的值   只能借助对象去修改</p>
<p>stu = Student(“小东”,18)</p>
<p>name age</p>
<p>stu.name</p>
<p>每个对象都有类中描述的属性 但是又可能每个对象对应的特征值是不一样</p>
<p>类属性：</p>
<p>是属于类的  该类所有对象都是共享</p>
<p>无论该类那个对象来进行调用 值都是一样的</p>
<p>直接类中包含的变量 – 类属性</p>
<p>什么时候去使用类属性？</p>
<p>如果该类所有对象对应的某个属性（字段）的值都是一样的 就可以将这个字段提升为类属性</p>
<p>注;在使用类属性是 建议是通过类名来进行调用 也可以通过对象来调用</p>
<p>类方法需要对象类属性进行操作 将方法设置为类方法</p>
<p>将一个方法设置类方法的方法：需要在方法添加装饰器@classmethod </p>
<p>类方法第一个参数cls–用于接收类型</p>
<p>案例：参考代码</p>
<h2 id="深拷贝和浅拷贝"><a href="#深拷贝和浅拷贝" class="headerlink" title="深拷贝和浅拷贝"></a>深拷贝和浅拷贝</h2><p>浅拷贝：</p>
<p>只是拷贝了最外层对象本身 对象内部的其他对象只能拷贝地址引用</p>
<p>深拷贝：</p>
<p>外部和内部的对象都进行拷贝</p>
<p>引用拷贝：</p>
<p>声明一个对象的时候 声明一个变量来接受对象 这个变量只是对象的地址</p>
<h2 id="项目案例：银行管理系统（面向对象）"><a href="#项目案例：银行管理系统（面向对象）" class="headerlink" title="项目案例：银行管理系统（面向对象）"></a>项目案例：银行管理系统（面向对象）</h2><p>功能：1.开户    2. 查询    3.存款    4.取款    5.转账    6.该密    7.锁卡    8.解卡    9.销户    0.退出</p>
<p>需求: 根据上面的功能，进行模拟</p>
<p>创建的类：</p>
<p>账号类：姓名  身份证    所拥有的卡【一个账号对象一张卡】</p>
<p>卡类：卡号    密码    金额【默认10】 是否锁卡【默认没锁】</p>
<p>操作类：功能体现</p>
<p>测试类：导入操作类  进行测试</p>
<h1 id="爬虫"><a href="#爬虫" class="headerlink" title="爬虫"></a>爬虫</h1><h2 id="requests-获取网页对象模块"><a href="#requests-获取网页对象模块" class="headerlink" title="requests 获取网页对象模块"></a>requests 获取网页对象模块</h2><p>​    西次代理 {‘https’:代理地址：9999’}</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">req ==requests.get(访问地址,headers=&#123;请求头&#125;，proxies=&#123;传入代理地址&#125;，timeout=时间，auth=HTTPBasicAuth(&#x27;账户&#x27;, &#x27;密码&#x27;)，potion=potion,) req.text:输出返回的值，文本 req.content: 输出返回值，返回一个二进制值req.status_code:打印状态码 200为正常访问req.url: 返回请求路径requests.get(‘https://github.com/timeline.json’) #GET请求requests.post(“http://httpbin.org/post” ,data=表单参数,params=查询参数 ，headers=请求头) #POST请求，上传/添加数据requests.put(“http://httpbin.org/put”) #PUT请求，修改或更改数据 requests.delete(“http://httpbin.org/delete”) #DELETE请求删除数据requests.head(“http://httpbin.org/get”) #HEAD请求requests.options(“http://httpbin.org/get”) #OPTIONS请求chardet 转换编码模块req.encoding = chardet.detect(req.content)[&quot;ebconding&quot;](第一种方式)req.encoding = &quot;utf-8&quot;|&quot;gbk&quot;:转换编码(第二种方式)#案列import requests r = requests.get(url=&#x27;http://www.itwhy.org&#x27;)    # 最基本的GET请求print(r.status_code)    # 获取返回状态r = requests.get(url=&#x27;http://dict.baidu.com/s&#x27;, params=&#123;&#x27;wd&#x27;:&#x27;python&#x27;&#125;)   #带参数的GET请求print(r.url) #返回请求网址print(r.text)   #打印解码后的返回数据模块chardet 编码转换ss = chardet.detect(req.cintent)[encoding] #获取编码</span><br></pre></td></tr></table></figure>

<h2 id="warnings-模块-去除警告"><a href="#warnings-模块-去除警告" class="headerlink" title="warnings  模块 去除警告"></a>warnings  模块 去除警告</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">warnings.filterwarnings(&quot;ignore&quot;)</span><br></pre></td></tr></table></figure>

<h2 id=""><a href="#" class="headerlink" title=""></a></h2><h2 id="xpath-网页解析"><a href="#xpath-网页解析" class="headerlink" title="xpath 网页解析"></a>xpath 网页解析</h2><p>提取所有标签下的元素</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">//div</span><br></pre></td></tr></table></figure>

<p>当前节点</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/a</span><br></pre></td></tr></table></figure>

<h4 id="提取文本"><a href="#提取文本" class="headerlink" title=".提取文本"></a>.提取文本</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a/text()</span><br></pre></td></tr></table></figure>

<p>提取属性</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a/@href</span><br></pre></td></tr></table></figure>

<p>提取指定位置的元素</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;//div[1]/a/@hrfe&#x27;</span> <span class="comment">#获取第一个div标签下是a标签hrfe属性</span></span><br></pre></td></tr></table></figure>

<p>获取最后一个div标签下是a标签属性</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;//div[last()]/a/@hrfe&#x27;</span> </span><br></pre></td></tr></table></figure>

<p>获取倒数第二个div标签下是a标签属性</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;//div[last()-2]/a/@hrfe&#x27;</span> </span><br></pre></td></tr></table></figure>

<p>获取前n个</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">//div[postion()&lt;n]</span><br></pre></td></tr></table></figure>

<p>通过属性查找</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;//div[@class=&quot;shu&quot;]/a/@hrfe&#x27;</span> <span class="string">&#x27;//div[@id=&quot;shu&quot;]/a/@hrfe&#x27;</span> </span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xpath模块 解析网页<span class="comment">#模块导入from lxml import etree#首先要初始化网页后才能通过xpath#初始化html = etree.HTML（(req.text) 或 (req.content)传入请求对象）html.xpath(传入选取的节点)/	从根节点选取。//	从匹配选择的当前节点选择文档中的节点，而不考虑它们的位置。.	选取当前节点。..	选取当前节点的父节点。@	选取属性。|   或者元素child::book	选取所有属于当前节点的子元素的 book 节点。attribute::lang	选取当前节点的 lang 属性。child::*	选取当前节点的所有子元素。attribute::*	选取当前节点的所有属性。child::text()	选取当前节点的所有文本子节点。child::node()	选取当前节点的所有子节点。descendant::book	选取当前节点的所有 book 后代。ancestor::book	选择当前节点的所有 book 先辈。ancestor-or-self::book	选取当前节点的所有 book 先辈以及当前节点（如果此节点是 book 节点）child::*/child::price	选取当前节点的所有 price 孙节点案列html.xpath(r&#x27;//[@id=&quot;id选择器名字&quot;]/div/tr/a@herf&#x27;)#返回的是a标签里的路径 返回是列表案列2html.xpath(r&#x27;//[@id=&quot;id选择器名字&quot;]/div/tr/a/text()&#x27;)#返回的是a标签里的文本 返回是列表html.xpath(r&#x27;//[@id=&quot;id选择器名字&quot;]/div/tr/a/text() | //[@id=&quot;id选择器名字&quot;]/div/tr/a/text()&#x27;) 可以这种表示法</span></span><br></pre></td></tr></table></figure>

<h2 id="bs4模块"><a href="#bs4模块" class="headerlink" title="bs4模块"></a>bs4模块</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup <span class="comment">#包import requests req = requests.get()req.encoding =&quot;utf-8&quot;# 生成BeautifulSoup对象soup = BeautifulSoup(&#x27;req.text 或 text.content &#x27;,&#x27;lxml(固定模式)&#x27;)print(soup.prettify())  # 输出格式化print(&quot;hade标签内容&quot;,soup.head) # 获取hade标签print(soup.body.a.img)  # 获取到body的第一个a标签print(&quot;获取所有的img标签&quot;,soup.find_all(&#x27;img&#x27;)) # 获取所有的img标签 find_all()print(&quot;获取的第一个img的属性&quot;,url + soup.img[&#x27;src&#x27;]) # 获取src的属性print(&quot;a标签name&quot;,soup.a.name) # 获取a标签名name   a元素# 修改a标签为b标签tag = soup.a# 修改btag.name = &#x27;b&#x27; # 赋值print(&quot;a标签修改后的tag内容&quot;,tag)# 获取全部属性print(&quot;tag对象的全部属性&quot;,tag.attrs)# 获取属性的值  classprint(&quot;class的值&quot;,tag[&#x27;class&#x27;])# 修改class的值tag[&#x27;class&#x27;] = &quot;Logo&quot;# 输出修改后的内容print(tag.attrs)# 新增属性  idtag[&#x27;id&#x27;] = &quot;logo&quot;print(tag.attrs)# 输出标签print(&quot;tag标签&quot;,tag)# 删除属性del tag[&#x27;href&#x27;]print(&quot;tag标签&quot;,tag)# 针对内容操作# 获取title的内容tag = soup.titleprint(tag)# 获取标签中的字符串print(&quot;tag标签中的字符串&quot;,tag.string)# 替换标题内容tag.string.replace_with(&quot;重庆华信智原&quot;)print(tag)# 获取注释的内容# &lt;!-- 学科建设 --&gt;markup = &quot;&lt;b&gt;&lt;!-- 学科建设 --&gt;&lt;/c&gt;&quot; # &lt;b&gt;&lt;/c&gt;没有任何意义soup_comment = BeautifulSoup(markup,&#x27;lxml&#x27;)# 获取文本comment = soup_comment.b.stringprint(comment)# 获取某个元素的全部节点  titleprint(&quot;名为title的全部节点&quot;,soup.find_all(&#x27;title&#x27;))# 获取title的文本数据  string get_text()print(soup.title.string) (一)print(soup.title.get_text()) （二）# 查找ul元素标签 参数  属性  class  idtag = soup.find_all(&#x27;ul&#x27;,class_=&#x27;menu&#x27;) # 按照css类名进行完全匹配print(&quot;匹配ulclass名menu节点&quot;,tag)# 通过id匹配tag = soup.find_all(id=&#x27;menu&#x27;)print(&quot;通过id匹配节点&quot;,tag)# 通过ul名称下a标签的内容taga = soup.ul.find_all(&#x27;a&#x27;)print(&quot;ul下所有的a标签&quot;,taga)# 输出a标签的所有hreffor tag in  taga:    print(tag.get(&#x27;href&#x27;))# 获取整个页面的url地址 进行下载在本地tagimgs = soup.find_all(&#x27;img&#x27;)print(tagimgs)# 循环输出图片的地址for imgsrc in tagimgs:    print(url + imgsrc.get(&#x27;src&#x27;))      #ul的class属性pli 下的li 的标签  tu = soup.select(&#x27;&#x27;ul.pli &gt; li &gt; div &gt; a &gt; img&#x27;&#x27;) #返回为一个可迭代的#获取img里的所有src路径sq = [i[&quot;src&quot;] for i in tu] #列表生成式</span></span><br></pre></td></tr></table></figure>







<h2 id="selenium-动态网页爬取"><a href="#selenium-动态网页爬取" class="headerlink" title="selenium 动态网页爬取"></a>selenium 动态网页爬取</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">官方文档:https://selenium-python.readthedocs.io/api.html<span class="comment">#module-selenium.webdriver.common.action_chainschromedriver下载：http://chromedriver.storage.googleapis.com/index.htmlchromedriver与chrome的对应关系表：https://www.jb51.net/article/151629.htm    基本使用#安装: pip install selenium#导入模块from selenium import webdriverfrom selenium.webdriver.common.action_chains import ActionChains  # 鼠标操作模块#创建浏览器对象browser = webdriver.Chrome(executable_path=&#x27;chromedriver.exe&#x27;可不用填写)   # 声明一个浏览器对象   指定使用chromedriver.exe路径browser.get(&quot;https://www.baidu.com&quot;)  # 打开Chrome并导入路径input = browser.find_element_by_id(&quot;kw&quot;)  # 通过id定位到input框input.send_keys(&quot;python&quot;)   # 在输入框内输入pythonbrowser.implicitly_wait(2) # 设定等待时间browser.save_screenshot(&#x27;传入保存的名字&#x27;)#对当前页面进行截屏#得到需要鼠标移动位置的节点weizhi = find_elements_by_name(&quot;q&quot;)#把鼠标移上去#perform()立即执行鼠标事件ActionChains(&#x27;浏览器对象&#x27;).move_to_element(wenzhi).perform()#鼠标点击事件#鼠标点击长按指定的标签ActionChains(&#x27;浏览器对象&#x27;).click_and_hold(&#x27;q 定位节点 &#x27;)for i in range(5)：	#这一步显示为鼠标长按一个节点，并水平方向移动12个像素	ActionChains(&#x27;浏览器对象&#x27;).move_to_element(12，x轴，y轴).perform()#释放动作ActionChains(&#x27;浏览器对象&#x27;).release() browser.maximize_window() #窗口最大化     browser.minimize_window() #窗口最小化browser.execute_script(&quot;window.scrollTo(0,document.body.scrollHeight)&quot;) # 将进度条下拉到最底部（第一种）browser.execute_script(scroll(0,屏幕的高度))#（第二种）find_elements_by_id(&quot;q&quot;).get_attribute(&quot;src&quot;)  #获取标签里的src 属性#处理弹框页面，accept()确定  dismiss()取消browser.swith_to_alert().accept()#返回上一级页面browser.back()#返回下一级页面browser.forward()find_elements_by_id(&quot;q&quot;.text #获取文本send_keys()  #输入文字用clear()  #清空文字用click()  #点击按钮用browser.current_url  # 打印url路径browser.get_cookies()  # 打印Cookiesbrowser.page_source    # 打印整个网页源代码browser.close()        # 关闭浏览器                      #无头浏览器,也可称为不可视化  #导入模块 from selenium.webdriver.chrome.options import Options #实力化options = Options()options.add_argument(&#x27;--headless&#x27;)options.add_argument(&#x27;--disable-gpu&#x27;) #实力化浏览器时传入一个参数  webdriver.Chrome(url,chrome_options=options)                                            #不显示检测弹框#导入模块from selenium.webdriver import ChromeOptionsoption = ChromeOptions()   option.add_experimental_option(&#x27;excludeSwitches&#x27;,[&#x27;enable-automation&#x27;])  #实力化浏览器时传入一个参数                     webdriver.Chrome(options=option)                                         #嵌套iframe#如果定位的标签是存在于iframe标签中，则必须通过如下方法进行定位：div=  broeser.switch_to.frame(&#x27;定位于iframe节点&#x27;)div.find——element_by_....(&#x27;需要定位的节点&#x27;)#获取单节点# 通过属性查找单个节点，当在element后面增添一个“s”时就是查找多个browser.find_elements_by_css_selector(&quot;.service-bd li&quot;)  # 注意是elements多个s，输出为列表find_elements_by_id(&quot;q&quot;)find_elements_by_name(&quot;q&quot;)find_elements_by_css_selector(&quot;#q&quot;)find_elements_by_xpath(&#x27;//*[@id=&quot;q&quot;]&#x27;)find_elements_by_link_textfind_elements_by_partial_link_textfind_elements_by_tag_namefind_elements_by_class_name browser.find_element_by_id(&quot;id的名字&quot;)  # 通过id找     browser.find_element_by_name(&quot;name的名字&quot;)  # 通过name属性值找 web.find_element_by_class_name() #通过class查找     browser.find_element_by_css_selector(&quot; .classmingzi &gt; 下一级 &gt; ....&quot;) # 根据css选择器找#s_position_list &gt; ul &gt; li.con_list_item.first_row.default_list &gt; div.list_item_top &gt; div.position &gt; div.p_top &gt; a     # 根据css选择器找 注意 &gt; 两端要有一个空格  browser.find_element_by_xpath(&#x27;//*[@id=&quot;q&quot;]&#x27;) # 根据xpath找#//*[@id=&quot;s_position_list&quot;]/ul/li[1]/div[1]/div[1]/div[1]/a 根据xpath找#关闭浏览器 browser.close()# 其他获取单个节点方法find_element_by_link_textfind_element_by_partial_link_textfind_element_by_tag_namefind_element_by_class_name#案列获取输入框并输入关键字，点击搜索按钮import timefrom selenium import webdriverbrowser = webdriver.Chrome()browser.get(&quot;https://www.taobao.com&quot;)input = browser.find_element_by_id(&quot;q&quot;)input.send_keys(&quot;iPhone&quot;)   #在搜索框输入iPhoneinput.clear()  # 清空搜索框的文字time.sleep(2)input.send_keys(&quot;iPad&quot;)  # 在搜索框输入iPadbutton = browser.find_element_by_class_name(&quot;btn-search&quot;)  # 获取点击按钮button.click()  # 点击搜索#当需要进入二级页面时，所用方法#获取当前所有句柄（窗口） url = browser.window_handles #这回把所有路径都存在一个列表里，而且是  一级网页存放在前面，二级页面放在后面                #切换到二级网页里面，切换到新的页面  browser.switch_to_window(url[1])                   #案列from selenium import webdriverfrom selenium.webdriver import ActionChains   # 引入动作链browser = webdriver.Chrome()url = &quot;https://www.runoob.com/try/try.php?filename=jqueryui-api-droppable&quot;browser.get(url)browser.switch_to.frame(&quot;iframeResult&quot;)  # 切换到元素所在的frame[框架]&quot;&quot;&quot;可以传入id、name、index以及selenium的WebElement对象,index从0开始&quot;&quot;&quot;source = browser.find_element_by_css_selector(&quot;#draggable&quot;) # 找到被拖拽对象target = browser.find_element_by_css_selector(&quot;#droppable&quot;) # 找到目标actions = ActionChains(browser)       # 声明actions对象actions.drag_and_drop(source,target)  # 拖拽元素的起点和终点actions.perform()  # 执行动作action.click_and_hold()    # 点击且长按，更多方法查看官方文档#案列，下拉滚动条到最底部执 selenium import webdriverbrowser = webdriver.Chrome()url = &quot;https://www.zhihu.com/explore&quot;browser.get(url)browser.execute_script(&quot;window.scrollTo(0,document.body.scrollHeight)&quot;) # 将进度条下拉到最底部（第一种）browser.execute_script(scroll(0,屏幕的高度))#（第二种）browser.execute_script(&quot;alert(&#x27;hello word&#x27;)&quot;)  # 弹出alert提示窗#案列from selenium import webdriverbrowser = webdriver.Chrome()url = &quot;https://www.zhihu.com/explore&quot;browser.get(url)&quot;&quot;&quot;WebElement常用属性:    get_attribute 获取属性值    text          获取文本值    id            获取节点id    location      获取节点在页面中的相对位置    tag_name      获取标签名称    size          获取节点大小(宽和高)&quot;&quot;&quot;# 获取属性logo = browser.find_element_by_id(&quot;zh-top-link-logo&quot;)  # 获取logo节点print(logo)  # 返回值为WebElement对象logo_class = logo.get_attribute(&quot;class&quot;)   # 获取zh-top-link-logo节点的class属性值print(logo_class)# 获取文本值text_Ele = browser.find_element_by_css_selector(&quot;.question_link&quot;) # 通过css选择器获取文本内容所在的标签text = text_Ele.text  # 取出标签内的文本内容print(text)# 获取ID 位置 标签名和大小test = browser.find_element_by_class_name(&quot;zu-top-add-question&quot;)print(test.id)       # 0bfe7ae6-ebd9-499a-8f4e-35ae34776687print(test.location) # &#123;&#x27;x&#x27;: 759, &#x27;y&#x27;: 7&#125;print(test.tag_name) # buttonprint(test.size)     # &#123;&#x27;height&#x27;: 32, &#x27;width&#x27;: 66&#125;#案列获取子页面from selenium import webdriverbrowser = webdriver.Chrome()url = &quot;https://www.runoob.com/try/try.php?filename=jqueryui-api-droppable&quot;browser.get(url)&quot;&quot;&quot;网页中有一种节点叫做iframe，也就是子Frame，相当于页面的子页面，他的结构和外部网页的结构完全一致。selenium打开页面后,他默认是在父级Frame里面操作,而此时如果页面中还有子Frame，他是不能获取到子Frame里面的节点的，这时候就需要使用switch_to.frame()方法来切换Frame。&quot;&quot;&quot;browser.switch_to.frame(&quot;iframeResult&quot;)logo = browser.find_elements_by_class_name(&quot;logo&quot;)print(logo)# [&lt;selenium.webdriver.remote.webelement.WebElement (session=&quot;1ccb11403013c749ce9fceda50a00975&quot;, element=&quot;88e5924e-d655-44c3-a905-8af1947b9d86&quot;)&gt;]# 报错信息&quot;&quot;&quot; raise exception_class(message, screen, stacktrace)selenium.common.exceptions.NoSuchElementException: Message: no such element: Unable to locate element: &#123;&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;.aaa&quot;&#125;  (Session info: chrome=75.0.3770.142)#如果selenium没有在DOM中找到节点，将继续等待，超出设定事件后，则抛出找不到节点的异常。当查找节点而节点并没有立即出现的时候，隐式等待将等待一段时间在查找DOM，默认时间是0&quot;&quot;&quot;--------------------------显式等待------------------------# 显示等待from selenium import webdriverfrom selenium.webdriver.common.by import Byfrom selenium.webdriver.support.ui import WebDriverWaitfrom selenium.webdriver.support import expected_conditions as ECbrowser = webdriver.Chrome()browser.get(&quot;https://www.taobao.com/&quot;)wait = WebDriverWait(browser,2)input = wait.until(EC.presence_of_element_located((By.ID,&quot;q&quot;)))button = wait.until(EC.element_to_be_clickable((By.CSS_SELECTOR,&quot;.btn-search&quot;)))print(input,button)# 等待条件# EC.presence_of_element_located   节点出现# EC.element_to_be_clickable       可点击# 更多等待条件查看260页&quot;&quot;&quot;引入WebDriverWait对象指定最长等待时间,调用它的until方法,传入要等待的条件expected_conditions,比如这里传入例如presence_of_element_located这个条件,代表节点出现的意思,其参数是节点的定位元组,也就是ID为q的搜索框。这样可以做到的效果就是,在10秒内如果ID为q的节点(即搜索框)成功加载出来,就返回该节点,如果10秒还没有加载出来,就抛出异常。&quot;&quot;&quot;&quot;&quot;&quot;异常:TimeoutException&quot;&quot;&quot;&quot;&quot;&quot;指定要查找的节点,然后指定一个最长等待时间,如果在规定时间内加载出来了这个节点,就返回查找的节点,如果到了规定时间依然没有加载出该节点,则抛出【超时】异常&quot;&quot;&quot;#案例import timefrom selenium import webdriverbrowser = webdriver.Chrome()browser.get(&quot;https://www.baidu.com&quot;)browser.get(&quot;https://www.taobao.com&quot;)browser.get(&quot;https://www.jd.com&quot;)browser.back()  # 后退time.sleep(2)browser.forward() # 前进browser.close()  # 关闭浏览器# 连续访问三个页面from selenium import webdriverbrowser = webdriver.Chrome()browser.get(&quot;https://www.zhihu.com/explore&quot;)cookies = browser.get_cookies()  # 获取cookiesprint(cookies)browser.add_cookie(&#123;&quot;name&quot;:&quot;name&quot;,&quot;domain&quot;:&quot;www.zhihu.com&quot;,&quot;vlue&quot;:&quot;germey&quot;&#125;)browser.delete_all_cookies()  # 删除所有cookies#案例import timefrom selenium import webdriverbrowser = webdriver.Chrome()browser.get(&quot;https://www.baidu.com&quot;)browser.execute_script(&quot;window.open()&quot;)print(browser.window_handles)# [&#x27;CDwindow-7106D94FF002752ADF198B986343E31D&#x27;, &#x27;CDwindow-B669BA9559DBB78D8D6EC9C5AA699C40&#x27;]browser.switch_to.window(browser.window_handles[1])browser.get(&quot;https://www.taobao.com&quot;)time.sleep(1)browser.switch_to.window(browser.window_handles[0])browser.get(&quot;https://jd.com&quot;)&quot;&quot;&quot;1、打开百度网页2、新开一个选项卡,调用execute_script()方法传入JavaScript语法window.open()3、切换到新打开的选项卡,调用window_handles属性获取当前开启的所有选项卡,返回的是选项卡的代号列表,要想切换选项卡只需要调用switch_to.window()方法,这里我们将第二个选项卡代号传入,即跳转到第二个选项卡,在第二个选项卡里打开新页面https://www.taobao.com,然后切换回第一个选项卡打开jd页面&quot;&quot;&quot;复制代码异常处理#复制代码from selenium import webdriverbrowser = webdriver.Chrome()browser.get(&quot;https://www.baidu.com&quot;)try:    browser.find_element_by_id(&quot;hello&quot;)except Exception as e:    print(e)   # 打印错误信息 Exception捕获所有错误信息赋给efinally:    browser.close()&quot;&quot;&quot;在使用selenium的过程中,难免遇到一些异常,例如超时、节点未找到错误，一旦出现此类错误,程序便不会在继续运行了,这里我们使用try except语句来捕获各种异常&quot;&quot;&quot;#案列import timefrom selenium import webdriverfrom selenium.webdriver import ChromeOptionsoption = ChromeOptions()browser = webdriver.Chrome(executable_path=&#x27;D:\chromedriver.exe&#x27;,options=option)   # 声明一个浏览器对象   option.add_experimental_option(&#x27;excludeSwitches&#x27;, [&#x27;enable-automation&#x27;])browser.get(&quot;https://www.baidu.com&quot;)  # 打开Chromeinput = browser.find_element_by_id(&quot;kw&quot;)  # 通过id定位到input框input.send_keys(&quot;爱奇艺&quot;)   # 在输入框内输入pythonbrowser.find_element_by_id(&quot;su&quot;).click()time.sleep(3)browser.find_element_by_xpath(&#x27;//*[@id=&quot;1&quot;]/h3&#x27;).click()time.sleep(10)browser.switch_to_window(browser.window_handles[1])  # 切换到新打开的选项卡定位爱奇艺的搜索框search = browser.find_element_by_xpath(&quot;//input[@class=&#x27;search-box-input&#x27;]&quot;).send_keys(&quot;青春有你&quot;)browser.close()               # 关闭浏览器#案列from selenium import webdriverfrom selenium.webdriver.chrome.options import Options# 创建chrome参数对象opt = Options()# 把chrome设置成无界面模式，不论windows还是linux都可以，自动适配对应参数opt.add_argument(&#x27;--headless&#x27;)# 创建chrome无界面对象driver = webdriver.Chrome(options=opt)driver.get(&quot;http://www.baidu.com&quot;)print(driver.page_source)</span></span><br></pre></td></tr></table></figure>







<h2 id="回顾："><a href="#回顾：" class="headerlink" title="回顾："></a>回顾：</h2><p>采集静态网页和动态网页</p>
<h2 id="scrapy框架"><a href="#scrapy框架" class="headerlink" title="scrapy框架"></a>scrapy框架</h2><p>架构图</p>
<p><img src="https://upload-images.jianshu.io/upload_images/12983160-796fd5bfb38a39ec.png?imageMogr2/auto-orient/strip%7CimageView2/2/format/webp" class="lazyload" data-srcset="https://upload-images.jianshu.io/upload_images/12983160-796fd5bfb38a39ec.png?imageMogr2/auto-orient/strip%7CimageView2/2/format/webp" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="img"></p>
<p>了解框架的每个部分的功能：</p>
<h3 id="Scrapy-Engine（引擎）："><a href="#Scrapy-Engine（引擎）：" class="headerlink" title="Scrapy Engine（引擎）："></a>Scrapy Engine（引擎）：</h3><p>​        负责Spider、ItemPipeline、Downloader、Scheduler中间的通讯，信号、数据传递等。</p>
<h3 id="Scheduler-调度器"><a href="#Scheduler-调度器" class="headerlink" title="Scheduler(调度器):"></a>Scheduler(调度器):</h3><p>​        它负责接受引擎发送过来的Request请求，并按照一定的方式进行整理排列，入队，当引擎需要时，交还给引擎。</p>
<h3 id="Downloader（下载器）："><a href="#Downloader（下载器）：" class="headerlink" title="Downloader（下载器）："></a>Downloader（下载器）：</h3><p>​        负责下载Scrapy Engine(引擎)发送的所有Requests请求，并将其获取到的Responses交还给Scrapy Engine(引擎)，由引擎交给Spider来处理.</p>
<h3 id="Spider（爬虫）文件："><a href="#Spider（爬虫）文件：" class="headerlink" title="Spider（爬虫）文件："></a>Spider（爬虫）文件：</h3><p>​        它负责处理所有Responses,从中分析提取数据，获取Item字段需要的数据，并将需要跟进的URL提交给引擎，再次进入Scheduler(调度器).</p>
<h3 id="Item-Pipeline-管道-："><a href="#Item-Pipeline-管道-：" class="headerlink" title="Item Pipeline(管道)："></a>Item Pipeline(管道)：</h3><p>​        它负责处理Spider中获取到的Item，并进行进行后期处理（详细分析、过滤、存储等）的地方.</p>
<h3 id="Downloader-Middlewares（下载中间件）："><a href="#Downloader-Middlewares（下载中间件）：" class="headerlink" title="Downloader Middlewares（下载中间件）："></a>Downloader Middlewares（下载中间件）：</h3><p>​        你可以当作是一个可以自定义扩展下载功能的组件。</p>
<h3 id="Spider-Middlewares（Spider中间件）："><a href="#Spider-Middlewares（Spider中间件）：" class="headerlink" title="Spider Middlewares（Spider中间件）："></a>Spider Middlewares（Spider中间件）：</h3><p>​        你可以理解为是一个可以自定扩展和操作引擎和Spider中间通信的功能组件.</p>
<p><img src="https://upload-images.jianshu.io/upload_images/12983160-394d93c87390c455.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1110/format/webp" class="lazyload" data-srcset="https://upload-images.jianshu.io/upload_images/12983160-394d93c87390c455.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1110/format/webp" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="img"></p>
<h3 id="创建Scrapy项目"><a href="#创建Scrapy项目" class="headerlink" title="创建Scrapy项目"></a>创建Scrapy项目</h3><p>安装库：pip install scrapy  或者 conda install scrapy</p>
<p>进行项目创建：scrapy startproject demo 后面的demo是项目名称</p>
<h3 id="了解项目相关配置文件："><a href="#了解项目相关配置文件：" class="headerlink" title="了解项目相关配置文件："></a>了解项目相关配置文件：</h3><p>spiders文件夹：创建Scrapy项目自动创建一个文件夹，用于存放用户编写爬虫脚本</p>
<p>items.py：定义爬虫程序的数据模型 （数据的字段）</p>
<p>middlewares.py:定义数据模型中的中间件（自定义扩展的功能）</p>
<p>pipelines.py:管道文件 负责对爬虫返回数据的处理（分析 过滤 存储等）</p>
<p>settings.py:爬虫程序设置文件 主要是一些优先性设置，优先级越高值越小</p>
<p>scrapy.cfg:内容为scrapy的基础</p>
<h4 id="中间事件："><a href="#中间事件：" class="headerlink" title="中间事件："></a>中间事件：</h4><p>显示指定类型的日志信息</p>
<p>LOG_LEVEL =’ERROR’</p>
<p>只看到错误信息和打印的内容</p>
<p>LOG_LEVEL=’WARNING’ </p>
<p>response.xpath(‘’)返回的是一个列表对象，需要用extract()提取出来</p>
<p>当只有一个元素时，可以用extract_tirst(),直接返回一个字符串</p>
<p><img src="C:\Users\Administrator\Desktop\360截图20210608210912698.jpg" class="lazyload" data-srcset="C:\Users\Administrator\Desktop\360截图20210608210912698.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="360截图20210608210912698"></p>
<p>在一个函数里可以写多个回调yield 且可以回调给自己，一般用于翻页时</p>
<p>当不在一个函数调用item时，最好用到函数copy.deepcopy(item)深拷贝，避免重复</p>
<p>import copy</p>
<h4 id="请求传参，当需要的数据不在一个网页，需要在下一个网页时，就可以用请求传参"><a href="#请求传参，当需要的数据不在一个网页，需要在下一个网页时，就可以用请求传参" class="headerlink" title="请求传参，当需要的数据不在一个网页，需要在下一个网页时，就可以用请求传参"></a>请求传参，当需要的数据不在一个网页，需要在下一个网页时，就可以用请求传参</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> （<span class="title">BossSpiderlscrapy</span>.<span class="title">Spider</span>) :</span>    name = <span class="string">&#x27; boss&#x27;</span>    <span class="comment">#allowed_ domains = [ &quot; www. xxx. com &#x27; ]    start urls = [&#x27;https:/ /www. zhipin. com/ job_ detail/ ?que ry=python&amp;c ity=101010100&amp;indus                                 def parse(self, response) :    li_ list = response . xpath( &#x27; //* [@id=&quot;main&quot;]/div/div[3]/ul/li&#x27; )    for li in li_ list:    item = BossproItem( )    #一级页面需要的内容    item[&#x27;job_ name&#x27;] = li. xpath( &#x27;.//div [@class=&quot;info-prima ry&quot;]/h3/a/div[1]/text()&#x27;) .extract()     #item[&#x27;job_ name&#x27; ] = job_ name    # print( job_ name )      #二级页面路径                 detail_ url = &#x27; https:/ /www. zhipin. com &#x27;+li. xpath( &#x27; .//div [@class=&quot; info-prima ry#对详情页发请求		获取详情页的页面源码数据    #手动请求的发送    #进请求传参i meta=ften 可以将meta字典传递给请求对应的回调函数    yield scrapy.Reauest(detail_url,callback = self.parse_detail,meta= &#123;&#x27;item&#x27; : item&#125;)                                                               #回调函数接受itemdef parse_detail(self, response) :    item = response.meta[&#x27;item&#x27;]     #二级页面所需要的东西                                                          item[&#x27;job_ desc&#x27;] =&quot;&quot;.join(response.xpath(&#x27;//[@id=&quot;main&quot;]/div[3]/div/div[2]/div[2]/div[1]/div/)).extract()     #job_ desc =&#x27;&#x27;.join(job_ desc)	# print(job_ desc)	#item[&#x27;job_ desc&#x27;] = job_ desc     yield item	  </span></span><br></pre></td></tr></table></figure>

<h3 id="持久化存储："><a href="#持久化存储：" class="headerlink" title="持久化存储："></a>持久化存储：</h3><h4 id="1、基于终端指令："><a href="#1、基于终端指令：" class="headerlink" title="1、基于终端指令："></a>1、基于终端指令：</h4><p>​        特点：只可以将parse方法rerutn（返回）的值，存储在本地的文件中；一般是用列表套字典的形式存储。存储的方式在cmd面板中输入scrapy crawl  爬虫名 -o ./名字.csv(类型有：json、jsonlines,csv,xml,marshal,paickle)</p>
<h4 id="2、基于管道："><a href="#2、基于管道：" class="headerlink" title="2、基于管道："></a>2、基于管道：</h4><p>​        item中定义属性，然后在提交给管道持久化存储:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">QiubaiproPipe</span> <span class="title">Line</span> (<span class="params"><span class="built_in">object</span></span>):</span>    fp = <span class="literal">None</span>    并重写父类的一个方法:该方法只在开始爬虫的时候被调用一次    defm apen spider(selfaspiderli    <span class="comment">#print( &#x27;开始爬虫....... )    self.fp = open(&#x27; ./giubai. txt&#x27;。&#x27;w&#x27; zencoding=&#x27;utf-8&#x27; )    #专门用来处理item类型对象    #该方法可以接收爬虫文件提交过来的item对象进该方法没接收到-个item就会被调用一次    def process_ item(self, item, spider) :    authar = item [ &#x27; author&#x27; ]    content= item[ &#x27; content&#x27;]    self. fp. write( author+&#x27; : &#x27;+content+&#x27;\n&#x27; )    return item    def close_ spider(self,spider) :        #关闭文件       self.fp.close()#另一种import pandas as pd #模块class DiannaoPipeline:    def process_item(self, item, spider):        data = pd.DataFrame(dict(item))        data.to_csv(&#x27;电脑.csv&#x27;,mode=&#x27;a&#x27;,index=False,header=False,sep=&#x27;,&#x27;)</span></span><br></pre></td></tr></table></figure>

<p>当爬取图片时，第一个页面只需解析出图片路径，在管道内设置如下：，重新创建类，需要在配置里去启动；</p>
<p><img src="C:\Users\Administrator\Desktop\管道.jpg" class="lazyload" data-srcset="C:\Users\Administrator\Desktop\管道.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="管道"></p>
<p>然后在在配置文件里去设置保存路径：</p>
<p><img src="C:\Users\Administrator\Desktop\360截图20210617215642741.jpg" class="lazyload" data-srcset="C:\Users\Administrator\Desktop\360截图20210617215642741.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="360截图20210617215642741"></p>
<h3 id="Scrapy编写步骤："><a href="#Scrapy编写步骤：" class="headerlink" title="Scrapy编写步骤："></a>Scrapy编写步骤：</h3><h4 id="1-定义采集数据模型"><a href="#1-定义采集数据模型" class="headerlink" title="1.定义采集数据模型"></a>1.定义采集数据模型</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Define here the models for your scraped items## See documentation in:# https://docs.scrapy.org/en/latest/topics/items.htmlimport scrapyclass DemoItem(scrapy.Item):    # define the fields for your item here like:    # name = scrapy.Field()    # 标题    title = scrapy.Field()    # 时间    date = scrapy.Field()    # 作者    author = scrapy.Field()    # 浏览次数    view_count = scrapy.Field()</span></span><br></pre></td></tr></table></figure>

<h4 id="2-编写spider脚本"><a href="#2-编写spider脚本" class="headerlink" title="2.编写spider脚本"></a>2.编写spider脚本</h4><p>命令 进入编写脚本的文件夹中：cd 命令</p>
<p>输入创建命令：scrapy genspider [项目名]tipdm  [连接地址]<a target="_blank" rel="noopener" href="http://www.tipdm.com/">http://www.tipdm.com/</a></p>
<h4 id="3-启动框架命令"><a href="#3-启动框架命令" class="headerlink" title="3.启动框架命令"></a>3.启动框架命令</h4><p>scrapy crawl 项目名   ——- 项目运行</p>
<h4 id="4-保存数据（分析-清洗等）"><a href="#4-保存数据（分析-清洗等）" class="headerlink" title="4.保存数据（分析/清洗等）"></a>4.保存数据（分析/清洗等）</h4><h4 id="5-设置配置信息"><a href="#5-设置配置信息" class="headerlink" title="5.设置配置信息"></a>5.设置配置信息</h4><h3 id="定制中间件"><a href="#定制中间件" class="headerlink" title="定制中间件"></a>定制中间件</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">user_agent_list = [    <span class="string">&quot;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/535.1 (KHTML, like Gecko) Chrome/14.0.835.163 Safari/535.1&quot;</span>,    <span class="string">&quot;Mozilla/5.0 (Windows NT 6.1; WOW64; rv:6.0) Gecko/20100101 Firefox/6.0&quot;</span>,    <span class="string">&quot;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/534.50 (KHTML, like Gecko) Version/5.1 Safari/534.50&quot;</span>,    <span class="string">&quot;Opera/9.80 (Windows NT 6.1; U; zh-cn) Presto/2.9.168 Version/11.50&quot;</span>,    <span class="string">&quot;Mozilla/5.0 (Windows NT 6.1) AppleWebKit/535.1 (KHTML, like Gecko) Chrome/13.0.782.41 Safari/535.1 QQBrowser/6.9.11079.201&quot;</span>,    <span class="string">&quot;Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; InfoPath.3; .NET4.0C; .NET4.0E)&quot;</span>]</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">&#x27;ip_port&#x27;</span>: <span class="string">&#x27;111.8.60.9:8123&#x27;</span>, <span class="string">&#x27;user_passwd&#x27;</span>: <span class="string">&#x27;user1:pass1&#x27;</span>&#125;,&#123;<span class="string">&#x27;ip_port&#x27;</span>: <span class="string">&#x27;101.71.27.120:80&#x27;</span>, <span class="string">&#x27;user_passwd&#x27;</span>: <span class="string">&#x27;user2   :pass2&#x27;</span>&#125;,&#123;<span class="string">&#x27;ip_port&#x27;</span>: <span class="string">&#x27;122.96.59.104:80&#x27;</span>, <span class="string">&#x27;user_passwd&#x27;</span>: <span class="string">&#x27;user3:pass3&#x27;</span>&#125;,&#123;<span class="string">&#x27;ip_port&#x27;</span>: <span class="string">&#x27;122.224.249.122:8088&#x27;</span>, <span class="string">&#x27;user_passwd&#x27;</span>: <span class="string">&#x27;user4:pass4&#x27;</span>&#125;</span><br></pre></td></tr></table></figure>

<h5 id="思考：现在通过的scrapy框架采集的静态网页，那么我们要采集动态网页？-scrapy-selenium运用"><a href="#思考：现在通过的scrapy框架采集的静态网页，那么我们要采集动态网页？-scrapy-selenium运用" class="headerlink" title="思考：现在通过的scrapy框架采集的静态网页，那么我们要采集动态网页？ scrapy + selenium运用"></a>思考：现在通过的scrapy框架采集的静态网页，那么我们要采集动态网页？ scrapy + selenium运用</h5><p>作业：通过已学过的知</p>
<p>识去扩展，利用scrapy框架+selenium去采集动态网页数据。保存到csv、json、txt</p>
<h2 id="一、爬虫的反反爬虫方案"><a href="#一、爬虫的反反爬虫方案" class="headerlink" title="一、爬虫的反反爬虫方案"></a>一、爬虫的反反爬虫方案</h2><h3 id="1-通过浏览器的方式访问"><a href="#1-通过浏览器的方式访问" class="headerlink" title="1.通过浏览器的方式访问"></a>1.通过浏览器的方式访问</h3><p>解决方案：携带参数，模拟浏览器进行访问。需要注意的字段：User-Agent，属性值正常范围。</p>
<h3 id="2-ip限制"><a href="#2-ip限制" class="headerlink" title="2.ip限制"></a>2.ip限制</h3><p>如果一个固定的ip在短暂的时间，快速大量的访问一个网站，后台的管理员可以编写ip限制，不让修改ip就不能访问。</p>
<p>解决方案：IP代理池</p>
<h3 id="3-session访问限制"><a href="#3-session访问限制" class="headerlink" title="3.session访问限制"></a>3.session访问限制</h3><p>后台统计登录的操作，比如短时间的点击事件，请求数据事情，与正常进行对比，用于区分用户是否处理异常状态，如果是，则限制登录用户的权限，需要添加数据的操作，阈值设置不好，容易造成错误操作。</p>
<p>解决方案：注册多个账号，模拟多个ip，模拟正常的操作</p>
<h3 id="4-验证码限制"><a href="#4-验证码限制" class="headerlink" title="4.验证码限制"></a>4.验证码限制</h3><p>a) 图片验证码</p>
<p>复杂型：找出同类别的图片</p>
<p>解决方案：平台雇佣人力，专门帮人识别验证码，识别完后结果传回去。总共的操作几秒钟的时间。打码平台具有记忆功能。图片被识别后“鞋子”，那么下次这张图片再次出现的时候，就会自动判断它是”鞋子”。</p>
<p>b) 简单型：数字+字母</p>
<p>解决方案：可以直接使用OCR识别技术（利用第三方库pytesseract）来识别.</p>
<p>背景比较清晰，识别没有任何问题。如果背景比较模糊，那么需要进行灰度处理。</p>
<p>c) 短信验证码</p>
<p>用webbrowser技术，模拟用户打开短信的行为，最终获取验证码。</p>
<p>d） 滑动验证码</p>
<p>对于滑动验证码，可以利用图片的像素作为线索，确定好基本的属性值，查看位置的差值，对于差值超过基本的属性值，我们就能大概确定图片的位置。</p>
<p>e） 计算图片验证码</p>
<p>数据计算也有可能是汉字计算，保存为黑白图，把验证码按照字体颜色二值化，去出噪点，然后将所有图片异常进行像素对比，计算出相似的值，找出最像的那张图片。</p>
<p>f） 倒立文字验证码</p>
<p>有8个汉字，倒立，扭曲</p>
<p>方案：首先确定前两个倒立的文字，可以确定后面8个文字的左边，验证码中的8个文字的位置确定。只需要提出确定每个汉字所在的坐标将其存入列表中。然后交个人工确定倒立文字的序号，将列表中的序号对应到坐标可以实现。 接入第三方平台，实现破解网站的验证码</p>
<p>g） 文字的点击顺序</p>
<p>方案：确定坐标，根据提示的顺序进行点击</p>
<p>h）绘制图案验证码</p>
<p>每次拖动的顺序不一样，结果也不一样。</p>
<p>利用机器学习所有的拖动顺序，利用1万张图片进行训练，完成类似人的操作，最终识别。</p>
<p>也可以利用selenium技术来模拟人的操作顺序</p>
<h3 id="5-动态数据的加载"><a href="#5-动态数据的加载" class="headerlink" title="5.动态数据的加载"></a>5.动态数据的加载</h3><p>可以利用selenium、json文件</p>
<h3 id="6-数据加密–-使用加密的算法"><a href="#6-数据加密–-使用加密的算法" class="headerlink" title="6.数据加密– 使用加密的算法"></a>6.数据加密– 使用加密的算法</h3><p>前段加密：通过查询的参数、user-agent、验证码、cookie等前段数据进行加密生成一串加密的指令。将指令作为参数，再次进行服务器请求。该加密的参数为空或者错误，服务器就不响应数据。</p>
<p>服务器加密：在服务端同样有一段加密的逻辑，生成一串编码，与请求的编码进行匹配，匹配通过则返回数据。</p>
<p>解决方案：js加密破解方式，就是找到js的加密的代码，然后通过第三方库js2py在python中运行js代码，就能获取到相应的编码。</p>
<h2 id="二、简单的验证码识别-JS逆向"><a href="#二、简单的验证码识别-JS逆向" class="headerlink" title="二、简单的验证码识别+JS逆向"></a>二、简单的验证码识别+JS逆向</h2><h3 id="a-验证码识别"><a href="#a-验证码识别" class="headerlink" title="a) 验证码识别"></a>a) 验证码识别</h3><p>安装机器视觉的工具 Tesseract</p>
<p>tesseract是一套流行的OCT算法,专门做图片内容识别。我们只需要下载相应的训练数据就能使用teserract进行图片内容读取。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入库import pytesseractfrom PIL import Imageimage = Image.open(&#x27;code.jpg&#x27;)# res = pytesseract.image_to_string(image)# print(res)# 对图片进行灰度处理image = image.convert(&#x27;L&#x27;)# 加载图片data = image.load()w,h = image.size # ndarryfor i in range(w):    for j in range(h):        if data[i,j] &gt; 40:            data[i,j] = 255        else:            data[i,j] = 0image.show()res = pytesseract.image_to_string(image)print(res)</span></span><br></pre></td></tr></table></figure>

<p>b) JS逆向</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 目标地址：https://fanyi.youdao.com/# https://fanyi.youdao.com/translate_o?smartresult=dict&amp;smartresult=rule# e：输入翻译内容# ts:当前时间戳字符串# bv：将user-agent经过md5加密后的字符串# salt：时间戳字符串拼接随机数# sign：将&quot;fanyideskweb&quot; + e + i+ &quot;Tbh5E8=q6U3EXe+&amp;L[4c@&quot;import randomimport timeimport hashlibimport requestsclass Youdao(object):    def __init__(self, word):        # 初始化        self.url = &quot;https://fanyi.youdao.com/translate_o?smartresult=dict&amp;smartresult=rule&quot;        # 请求头信息        self.headers = &#123;            &quot;User-Agent&quot;: &quot;Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.77 Safari/537.36&quot;,            &quot;Cookie&quot;: &quot;OUTFOX_SEARCH_USER_ID=-1132106333@10.169.0.83; OUTFOX_SEARCH_USER_ID_NCOO=1946771786.421294; JSESSIONID=aaacAtoZRHi0Ud08zLvNx; ___rl__test__cookies=1622786844607&quot;,            &quot;Referer&quot;: &quot;https://fanyi.youdao.com /&quot;        &#125;        # 翻译内容        self.word = word        # 定义字典存储表单数据        self.post_boyd = &#123;&#125;    def genrator_post(self):        # 得到ts 拿到时间戳        ts = str(int(time.time()*1000))        # 得到salt 时间戳 + 一个随机的值        salt = ts + str(random.randint(0,10))        # 得到sign  字符串 + 陪翻译的值 + 盐值        sign_str = &quot;fanyideskweb&quot; + self.word + salt + 					                      &quot;Tbh5E8=q6U3EXe+&amp;L[4c@&quot;        # 将sign_str md5进行加密        md5 = hashlib.md5()        md5.update(sign_str.encode())        sign = md5.hexdigest()        # 生成数据信息        self.post_boyd = &#123;            &quot;i&quot;: self.word,            &quot;from&quot;: &quot;AUTO&quot;,            &quot;to&quot;: &quot;AUTO&quot;,            &quot;smartresult&quot;: &quot;dict&quot;,            &quot;client&quot;: &quot;fanyideskweb&quot;,            &quot;salt&quot;: salt,            &quot;sign&quot;: sign,            &quot;lts&quot;: ts,            &quot;bv&quot;: &quot;960780974768cef6d5005081d3d340f0&quot;,            &quot;doctype&quot;: &quot;json&quot;,            &quot;version&quot;: &quot;2.1&quot;,            &quot;keyfrom&quot;: &quot;fanyi.web&quot;,            &quot;action&quot;: &quot;FY_BY_REALTlME&quot;        &#125;    # 请求方法    def send_request(self):        # 发送请求        response =requests.post(self.url,headers=self.headers,data=self.post_boyd)        return response.json()    # 解析方法    def parser_response(self,ret_dict):        ret  = ret_dict[&quot;translateResult&quot;][0][0][&quot;tgt&quot;]        print(&quot;翻译的文本:&#123;&#125; 翻译后的结果:&#123;&#125;&quot;.format(self.word,ret))    # 操作方法    def run(self):        self.genrator_post()        ret_dict = self.send_request()        self.parser_response(ret_dict)if __name__ == &#x27;__main__&#x27;:    word = input(&quot;请输入要翻译的文本：&quot;)    yd = Youdao(word)    yd.run()</span></span><br></pre></td></tr></table></figure>





<h2 id="三、Scrapy框架分布式（reids）"><a href="#三、Scrapy框架分布式（reids）" class="headerlink" title="三、Scrapy框架分布式（reids）"></a>三、Scrapy框架分布式（reids）</h2><h3 id="a-reids-数据库"><a href="#a-reids-数据库" class="headerlink" title="a) reids 数据库"></a>a) reids 数据库</h3><p><img src="C:\Users\Administrator\Desktop\360截图20210608212329605.jpg" class="lazyload" data-srcset="C:\Users\Administrator\Desktop\360截图20210608212329605.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="360截图20210608212329605"> </p>
<p>1.redis安装和连接</p>
<p>reids:是一个数据库</p>
<p>2.数据库分为：</p>
<p>关系型数据库（数据在磁盘中存放）：mysql,sqlserver等   存放字段 id name</p>
<p>非关系型数据库（数据存放在内存中，提供了持久化保存的机制）:redis、mongodb等   存放的kv：key-value</p>
<p>3.redis安装:官网进行下载：redis.io</p>
<p>Redis官网是不支持windows的，只是开发一个msi格式安装文件</p>
<p>下载msi安装包:安装过程一路next,默认选择即可，需要添加到环境变量，设置内存的大小默认100M</p>
<p>4.启动redis</p>
<p>启动命令：redis-cli</p>
<p>5.键命令</p>
<p>0-15：redis默认有16个数据库，默认是在第0个数据库中</p>
<p>select num：切换数据库</p>
<p>keys * :所有键</p>
<p>6.五种数据类型：字符串（string）、哈希（字典）、列表（list）、集合（set）、有序集合（zset）</p>
<p>7.交互方式，三种 </p>
<p>7.1指令交互（cmd窗口化）</p>
<p>7.2客户端交互（可视化工具）</p>
<p>7.3代码交互（python操作redis）</p>
<h3 id="五种数据类型使用方式"><a href="#五种数据类型使用方式" class="headerlink" title="五种数据类型使用方式"></a>五种数据类型使用方式</h3><h4 id="字符串（string）："><a href="#字符串（string）：" class="headerlink" title="字符串（string）："></a>字符串（string）：</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> key value: <span class="comment">#设置key-valueget key: #获取key所对应的valuegetrange key start end: #字符串的提取，字符串从0开始，包含start和endgetset key value :#设置key的值，返回的是旧值，新值会设置成功setex key seconds value: #设置key的值 过期时间为seconds  如果存在  则替换之，时间为s为单位setnx key value:#该key不存在的时候才设置，存在不设置strlen key :#得到该key对应的值的长度mset key value[key value]:#同时设置多个键值对mget :#一次获取多个键的值incr key：#为key对应的值增加1 如果key不存在那么先创建key，值为0，然后再设置为1decr key:#为key对应的值减1incrby key number ：#在指定的key对应的值加number</span></span><br></pre></td></tr></table></figure>

<h4 id="redis-在python中的运用"><a href="#redis-在python中的运用" class="headerlink" title="redis 在python中的运用"></a>redis 在python中的运用</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> redisres = redis.StrictRedis(<span class="string">&#x27;localhost&#x27;</span>, <span class="number">6379</span>)<span class="comment"># sq = res.hkeys(&#x27;books&#x27;)## for i in sq:#     print(i.decode(&#x27;utf-8&#x27;))# print(res.hlen(&#x27;books&#x27;))# sq = (res.hmget(&#x27;books&#x27;,&#x27;僵尸管家2006&#x27;,&#x27;劫匪与僵尸&#x27;))# for i in sq:#     print(i.decode(&#x27;utf-8&#x27;))# sq = res.hgetall(&#x27;books&#x27;)# # print((sq.d).decode(&#x27;utf-8&#x27;))# print(res.hset(&#x27;books&#x27;,&#x27;劫匪与僵尸&#x27;).decode(&#x27;utf-8&#x27;))# sq = res.hvals(&#x27;books&#x27;)# for i in sq:#     print(i.decode(&#x27;utf-8&#x27;))# print(res.llen(&#x27;book&#x27;))# print(res.lindex(&#x27;book&#x27;,5).decode(&#x27;utf-8&#x27;))# sq = res.lrange(&#x27;book&#x27;,3,10)# for i in sq:#     print(i.decode(&#x27;utf-8&#x27;))#存：    red = redis.StrictRedis(&#x27;localhost&#x27;, 6379)    #哈希    red.hset(&#x27;安康&#x27;, str(item[&#x27;name&#x27;]), str(item))    #列表    red.lpush(&#x27;安康&#x27;,str(item))</span></span><br></pre></td></tr></table></figure>





<h4 id="哈希（hash）以字典的形式："><a href="#哈希（hash）以字典的形式：" class="headerlink" title="哈希（hash）以字典的形式："></a>哈希（hash）以字典的形式：</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">增：<span class="number">1</span>、hmset key（名字） field1（键） value1（值） [field2 value2 ]  <span class="comment">#同时将多个 field-value (域-值)对设置到哈希表 key 中。2、hsetnx key field value  #只有在字段 field 不存在时，设置哈希表字段的值。3、hincrby key field increment #为哈希表 key 中的指定字段的整数值加上增量 increment删：1、hdel key field1 [field2] #删除一个或多个哈希表字段查：1、hexists key field #查看哈希表 key 中，指定的字段是否存在 存在返回TRUE 否则返回false。2、hget key field  #获取存储在哈希表中指定字段的值。3、hgetall key #获取在哈希表中指定key的所有字段和值，返回值为字典4、hkeys key  #获取所有哈希表中的 key字段， 所有键的值5、hlen key  #获取哈希表中字段的数量 键的数量6、hmget key field1 [field2]  #获取多个给定字段的值7、hset key field value   #将哈希表key中的字段field的值设为value 。8、hvals key   #获取哈希表中所有值。 返回值为列表9、hscan key cursor [MATCH pattern] [COUNT count] #迭代哈希表中的键值对。</span></span><br></pre></td></tr></table></figure>



<h4 id="列表（list）"><a href="#列表（list）" class="headerlink" title="列表（list）:"></a>列表（list）:</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">增：<span class="number">1</span>、lpush key value1 [value2]  <span class="comment">#将一个或多个值插入到列表头部2、rpush key value1 [value2]  #在列表中添加一个或多个值3、rpushx key value  #为已存在的列表添加值4、lpushx key value  #将一个值插入到已存在的列表头部5、linsert key before|after pivot value  #在列表的元素前或者后插入元素删：1、blpop key1 [key2 ] timeout  #移出并获取列表的第一个元素， 如果列表没有元素会阻塞列表直到等待超时或发现可弹出元素为止。2、brpop key1 [key2 ] timeout  #移出并获取列表的最后一个元素， 如果列表没有元素会阻塞列表直到等待超时或发现可弹出元素为止。3、rpop key  #移除列表的最后一个元素，返回值为移除的元素。4、rpoplpush source destination  #移除列表的最后一个元素，并将该元素添加到另一个列表并返回5、lpop key  #移出并获取列表的第一个元素6、lrem key count value  #移除列表元素7、ltrim key start stop  #对一个列表进行修剪(trim)，就是说，让列表只保留指定区间内的元素，不在指定区间之内的元素都将被删除。查：1、lindex key index  #通过索引获取列表中的元素2、llen key  #获取列表长度3、lrange key start stop  #获取列表指定范围内的元素4、lset key index value  #通过索引设置列表元素的值5、brpoplpush source destination timeout  #从列表中弹出一个值，将弹出的元素插入到另外一个列表中并返回它； 如果列表没有元素会阻塞列表直到等待超时或发现可弹出元素为止。</span></span><br></pre></td></tr></table></figure>

<h4 id="集合（set）"><a href="#集合（set）" class="headerlink" title="集合（set）:"></a>集合（set）:</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sadd key member1 [member2]  <span class="comment">#向集合添加一个或多个成员scard key  #获取集合的成员数sdiff key1 [key2]  #返回第一个集合与其他集合之间的差异。sdiffstore destination key1 [key2]  #返回给定所有集合的差集并存储在 destination 中sinter key1 [key2]  #返回给定所有集合的交集sinterstore destination key1 [key2]  #返回给定所有集合的交集并存储在 destination 中 sismember key member  #判断 member 元素是否是集合 key 的成员smembers key  #返回集合中的所有成员smove source destination member  #将 member 元素从 source 集合移动到 destination 集合spop key  # 移除并返回集合中的一个随机元素srandmember key [count]  #返回集合中一个或多个随机数srem key member1 [member2]   #移除集合中一个或多个成员sunion key1 [key2]   #返回所有给定集合的并集sunionstore destination key1 [key2]  #所有给定集合的并集存储在 destination 集合中sscan key cursor [MATCH pattern] [COUNT count]  #迭代集合中的元素</span></span><br></pre></td></tr></table></figure>

<h4 id="有序集合（zset）"><a href="#有序集合（zset）" class="headerlink" title="有序集合（zset）:"></a>有序集合（zset）:</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">zadd key score1 member1 [score2 member2]  </span><br><span class="line"><span class="comment">#向有序集合添加一个或多个成员，或者更新已存在成员的分数zcard key  #获取有序集合的成员数zcount key min max  #计算在有序集合中指定区间分数的成员数zincrby  key increment member  #有序集合中对指定成员的分数加上增量 incrementzinterstore destination numkeys key [key ...]  #计算给定的一个或多个有序集的交集并将结果集存储在新的有序集合 destination 中zlexcount key min max  #在有序集合中计算指定字典区间内成员数量zrange key start stop [WITHSCORES]  #通过索引区间返回有序集合指定区间内的成员zrangebylex key min max [LIMIT offset count]  #通过字典区间返回有序集合的成员zrangebyscore key min max [WITHSCORES] [LIMIT] #通过分数返回有序集合指定区间内的成员zrank key member  #返回有序集合中指定成员的索引zrem key member [member ...]  #移除有序集合中的一个或多个成员zremrangebylex key min max  #移除有序集合中给定的字典区间的所有成员zremrangebyrank key start stop  #移除有序集合中给定的排名区间的所有成员zremrangebyscore key min max  #移除有序集合中给定的分数区间的所有成员zrevrange key start stop [WITHSCORES]  #返回有序集中指定区间内的成员，通过索引，分数从高到低zrevrangebyscore key max min [WITHSCORES]  #返回有序集中指定分数区间内的成员，分数从高到低排序zrevrank key member  #返回有序集合中指定成员的排名，有序集成员按分数值递减(从大到小)排序zscore key member  #返回有序集中，成员的分数值zunionstore destination numkeys key [key ...]  #计算给定的一个或多个有序集的并集，并存储在新的 key 中zscan key cursor [MATCH pattern] [COUNT count]  #迭代有序集合中的元素（包括元素成员和元素分值）</span></span><br></pre></td></tr></table></figure>









<h1 id="mysql讲解"><a href="#mysql讲解" class="headerlink" title="mysql讲解"></a>mysql讲解</h1><p>下载地址：<a target="_blank" rel="noopener" href="https://dev.mysql.com/downloads/mysql/">https://dev.mysql.com/downloads/mysql/</a></p>
<h2 id="一、mysql的基本操作"><a href="#一、mysql的基本操作" class="headerlink" title="一、mysql的基本操作"></a>一、mysql的基本操作</h2><h3 id="1-开启mysql数据库服务"><a href="#1-开启mysql数据库服务" class="headerlink" title="1.开启mysql数据库服务"></a>1.开启mysql数据库服务</h3><p>格式：net start mysql(服务名)  – mysql57</p>
<h3 id="2-关闭mysql数据服务"><a href="#2-关闭mysql数据服务" class="headerlink" title="2.关闭mysql数据服务"></a>2.关闭mysql数据服务</h3><p>格式：net stop mysql(服务名)  – mysql57</p>
<h3 id="3-登录mysql"><a href="#3-登录mysql" class="headerlink" title="3.登录mysql"></a>3.登录mysql</h3><p>格式：mysql -u root -p  输入密码</p>
<h3 id="4-查看当前数据库版本信息"><a href="#4-查看当前数据库版本信息" class="headerlink" title="4.查看当前数据库版本信息"></a>4.查看当前数据库版本信息</h3><p>格式：select version()；</p>
<h3 id="5-查看当前的时间"><a href="#5-查看当前的时间" class="headerlink" title="5.查看当前的时间"></a>5.查看当前的时间</h3><p>格式： select now();</p>
<h3 id="6-退出"><a href="#6-退出" class="headerlink" title="6.退出"></a>6.退出</h3><p>quit,exit</p>
<h2 id="二-数据库的database的操作"><a href="#二-数据库的database的操作" class="headerlink" title="二.数据库的database的操作"></a>二.数据库的database的操作</h2><h3 id="1-查看当前有哪些数据库"><a href="#1-查看当前有哪些数据库" class="headerlink" title="1.查看当前有哪些数据库"></a>1.查看当前有哪些数据库</h3><p>格式:show databases;</p>
<h3 id="2-创建数据库"><a href="#2-创建数据库" class="headerlink" title="2.创建数据库"></a>2.创建数据库</h3><p>格式：create database 数据库名 charset=’utf8’</p>
<h3 id="3-使用数据库"><a href="#3-使用数据库" class="headerlink" title="3.使用数据库"></a>3.使用数据库</h3><p>格式：use 数据名称</p>
<h3 id="4-查看当前使用的数据库"><a href="#4-查看当前使用的数据库" class="headerlink" title="4.查看当前使用的数据库"></a>4.查看当前使用的数据库</h3><p>格式;select database()</p>
<h3 id="5-删除数据库"><a href="#5-删除数据库" class="headerlink" title="5.删除数据库"></a>5.删除数据库</h3><p>格式：drop database db</p>
<h2 id="三、表table的操作"><a href="#三、表table的操作" class="headerlink" title="三、表table的操作"></a>三、表table的操作</h2><h3 id="1-查看当前数据库有哪些表"><a href="#1-查看当前数据库有哪些表" class="headerlink" title="1.查看当前数据库有哪些表"></a>1.查看当前数据库有哪些表</h3><p>格式：show tables;</p>
<h3 id="2-创建一个表"><a href="#2-创建一个表" class="headerlink" title="2.创建一个表"></a>2.创建一个表</h3><p>格式：create table 表名(字段名 及类型)</p>
<p>auto_increment  ：自动增加</p>
<p>例:</p>
<p>create table student(</p>
<p>id int auto_increment primary key,<br>name varchar(20) not null,<br>age int not null,<br>address varchar(50),<br>gender bit default 1);</p>
<h3 id="3-查看表的结构"><a href="#3-查看表的结构" class="headerlink" title="3.查看表的结构"></a>3.查看表的结构</h3><p>格式：desc 表名</p>
<h3 id="4-查看创建表的语句"><a href="#4-查看创建表的语句" class="headerlink" title="4.查看创建表的语句"></a>4.查看创建表的语句</h3><p>格式：show create table 表名</p>
<h3 id="5-修改表"><a href="#5-修改表" class="headerlink" title="5.修改表"></a>5.修改表</h3><p>5.1 修改表的名字</p>
<p>格式：rename table 旧表名 to 新表名</p>
<p>5.2 修改表的结构  modify|add|drop|change</p>
<p>格式：modify 修改表字段类型</p>
<p>alter table 表名 modify  字段名 varchar(30)</p>
<p>格式：add 添加新的字段</p>
<p>alter table 表名 add 字段名 类型</p>
<p>格式：change 修改 表格里面的标题</p>
<p>alter table 表名 change 旧字段名 新字段名 新字段数据类型 </p>
<p>格式：drop 删除</p>
<p>alter table 表名 drop 字段名</p>
<h3 id="6-删除表"><a href="#6-删除表" class="headerlink" title="6.删除表"></a>6.删除表</h3><p>格式：drop table 表名</p>
<h2 id="四、数据的操作"><a href="#四、数据的操作" class="headerlink" title="四、数据的操作"></a>四、数据的操作</h2><h3 id="1-插入数据"><a href="#1-插入数据" class="headerlink" title="1.插入数据"></a>1.插入数据</h3><p>格式：insert into 表名 values(值1,值2…) </p>
<p>注意;顺序需要与表的结构对应，主键可以写为0</p>
<h3 id="2-缺省值插入"><a href="#2-缺省值插入" class="headerlink" title="2.缺省值插入"></a>2.缺省值插入</h3><p>格式：insert into 表名(字段名1，字段名2..)  values(值1，值2…)</p>
<h3 id="3-插入多条数据"><a href="#3-插入多条数据" class="headerlink" title="3.插入多条数据"></a>3.插入多条数据</h3><p>格式：insert into 表名 values(值1，值2..),(值1，值2…),(值1，值2…)</p>
<p>例：insert into student values(0,’赵六’,24,’叙利亚’,1),(0,’黑七’,25,’火星’,1)</p>
<h3 id="4-修改数据"><a href="#4-修改数据" class="headerlink" title="4.修改数据"></a>4.修改数据</h3><p>格式：update 表名 set 字段名1=值，字段名2=值…   where 条件  （注意只要满足条件都会改变）</p>
<h3 id="5-删除数据"><a href="#5-删除数据" class="headerlink" title="5.删除数据"></a>5.删除数据</h3><p>格式：delete from 表名 where 条件</p>
<h3 id="6-查询数据"><a href="#6-查询数据" class="headerlink" title="6.查询数据"></a>6.查询数据</h3><p>格式：</p>
<h4 id="6-1-查询所有"><a href="#6-1-查询所有" class="headerlink" title="6.1  查询所有"></a>6.1  查询所有</h4><p>格式：select * from 表名</p>
<h4 id="6-2-按条件查询"><a href="#6-2-按条件查询" class="headerlink" title="6.2 按条件查询"></a>6.2 按条件查询</h4><p>格式：select 字段名1,字段名2.. from 表名  where 条件</p>
<p>注意：6.2.1 select 后跟的是查询结果需要显示的字段名</p>
<p>​           6.2.2 *表示所有的字段名都要显示</p>
<p>​           6.2.3 from 后面跟的是表名 表示从那个表查询</p>
<p>​           6.2.4 where 后面跟的是筛选的条件</p>
<p>​           6.2.5 可以使用别名  字段名 as 别名 </p>
<p>条件中：运算</p>
<p>a） 比较运算符    &gt; 大于 &lt;小于    &gt;=    &lt;=    =    != 等</p>
<p>格式：select 字段名1，字段名2… from 表名 where 字段名 比较运算符 值</p>
<p>b)   逻辑运算符   and 且  or 或者 not 非</p>
<p>格式：select 字段名1，字段名2… from 表名 where 字段名 比较运算符 值 逻辑运算符  字段名 比较运算符 值</p>
<h4 id="6-3-模糊查询-like"><a href="#6-3-模糊查询-like" class="headerlink" title="6.3 模糊查询   like"></a>6.3 模糊查询   like</h4><p>% 表示多个任意字符</p>
<p>_ 表示一个任意字符</p>
<p>格式： select * from 表名 where 字段名 like 查询值</p>
<h4 id="6-4-范围查询"><a href="#6-4-范围查询" class="headerlink" title="6.4 范围查询"></a>6.4 范围查询</h4><p>in (多个值)  判断一个值是否在多个值中的一个</p>
<p>between 值1(包含) and 值2(包含)  判断一个值是否在 值1 和 值2之间</p>
<p>格式：select 字段名1，字段名2… from 表名 where 字段名 范围运算符 值</p>
<h4 id="7-空判断"><a href="#7-空判断" class="headerlink" title="7.空判断"></a>7.空判断</h4><p>is null 为空</p>
<p>is not null 不为空</p>
<p>格式：select 字段名1，字段名2… from 表名 where 字段名 is null</p>
<h4 id="8-优先级"><a href="#8-优先级" class="headerlink" title="8.优先级   ()"></a>8.优先级   ()</h4><h4 id="9-去重复的值"><a href="#9-去重复的值" class="headerlink" title="9.去重复的值"></a>9.去重复的值</h4><p>格式：select distinct  字段名 from 表名 where 条件</p>
<h4 id="10-聚合函数"><a href="#10-聚合函数" class="headerlink" title="10.聚合函数"></a>10.聚合函数</h4><p>count(*)  求当前结果的共有多少条数据</p>
<p>sum(字段名)  求列名对应的和</p>
<p>avg(字段名)  求列名对应的平均值</p>
<p>max(字段名)  求列名对应的最大值</p>
<p>min(字段名)  求列名对应的最小值</p>
<p>…</p>
<p>例子：求当前表总共有多少条数据？</p>
<p>select count(*) from student；</p>
<p>求年龄最小的值？</p>
<p>select min(age) from student;</p>
<h4 id="11-分组-group-by"><a href="#11-分组-group-by" class="headerlink" title="11.分组 group by"></a>11.分组 group by</h4><p>格式： select 字段名…. from 表名 where 条件 group by 字段名</p>
<p>例子：1.查看当前数据表的性别 </p>
<p>select gender from student group by gender</p>
<p>2.统计男生和女生各有多少个？</p>
<p>select gender,count(*) from student group by gender</p>
<p>3.统计所有女生的个数？  男生代表1  女生代表0</p>
<p>select gender as 性别,count(*) as 个数 from student where gender=0 group by gender </p>
<p>select gender as 性别,count(*) as 个数 from student group by gender having gender=0</p>
<p>where 查询条件  是对select 数据结果的查询条件</p>
<p>having 查询条件  是对group by分组后的结果加的查询条件</p>
<h4 id="12-排序-order-by"><a href="#12-排序-order-by" class="headerlink" title="12.排序   order by"></a>12.排序   order by</h4><p>升序：  从小到大   asc</p>
<p>降序： 从大到小    desc</p>
<p>格式：select * from 表名 order by 字段名 asc;</p>
<h4 id="13-分页"><a href="#13-分页" class="headerlink" title="13.分页"></a>13.分页</h4><p>格式： select 字段名… from 表名 where 条件 limit 起始值,多少条数据</p>
<p>起始值可以从0开始</p>

  
  
    
    <div class='footer'>
      
      
        
  <div class="related_posts">
    <section class='header'>
      <i class="fas fa-bookmark fa-fw" aria-hidden="true"></i><span>相关文章</span>
    </section>
    <section class='body'>
      <div class="vlts-rps"><a class="item" href="\网址收藏" title="工具集" rel="bookmark "><img src="https://gss0.bdstatic.com/70cFsjip0QIZ8tyhnq/img/logo-80px.gif" class="lazyload" data-srcset="https://gss0.bdstatic.com/70cFsjip0QIZ8tyhnq/img/logo-80px.gif" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" /><span class="title">工具集</span></a><a class="item" href="\reading-list" title="reading-list" rel="bookmark "><img src="data:image/png;base64,666" /><span class="title">reading-list</span><span class="excerpt">下面是一些我读过的书</span></a><a class="item" href="\misfortune-intellectual" title="[记]《知识分子的不幸》-王小波" rel="bookmark "><img src="data:image/png;base64,666" /><span class="title">[记]《知识分子的不幸》-王小波</span></a><a class="item" href="\to-live" title="人们在一本叫《活着》的书中纷纷死去" rel="bookmark "><img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1556806574463&di=868e65579acfc800020db78de3c07ac4&imgtype=0&src=http://s1.sinaimg.cn/large/001Pe7mxzy76VARpXvdc3" class="lazyload" data-srcset="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1556806574463&di=868e65579acfc800020db78de3c07ac4&imgtype=0&src=http://s1.sinaimg.cn/large/001Pe7mxzy76VARpXvdc3" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" /><span class="title">人们在一本叫《活着》的书中纷纷死去</span></a></div></section></div>
      
      
      
    </div>
  
  
    


  <div class='article-meta' id="bottom">
    <div class='new-meta-box'>
      
        
          
<div class='new-meta-item author'>
  <a class='author' href="/about/" rel="nofollow">
    <img no-lazy src="/img/avatar.jpg">
    <p>杨晓东</p>
  </a>
</div>

        
      
        
          <div class="new-meta-item date">
  <a class='notlink'>
    <i class="fas fa-calendar-alt fa-fw" aria-hidden="true"></i>
    <p>发布于：2021年10月17日</p>
  </a>
</div>

        
      
        
          <div class="new-meta-item date" itemprop="dateUpdated" datetime="2021-10-17T22:00:33+08:00">
  <a class='notlink'>
    <i class="fas fa-edit fa-fw" aria-hidden="true"></i>
    <p>更新于：2021年10月17日</p>
  </a>
</div>

        
      
        
          
  <div class='new-meta-item category'>
    <a class='notlink'>
      <i class="fas fa-folder-open fa-fw" aria-hidden="true"></i>
      <a class="category-link" href="/categories/python/">python</a>
    </a>
  </div>


        
      
        
          
  <div class="new-meta-item browse busuanzi">
    <a class='notlink'>
      <i class="fas fa-eye fa-fw" aria-hidden="true"></i>
      <p>
        <span id="busuanzi_value_page_pv">
          <i class="fas fa-circle-notch fa-spin fa-fw" aria-hidden="true"></i>
        </span>
        次浏览
      </p>
    </a>
  </div>


        
      
        
          
<div class="new-meta-item comments-count">
  
  <a href="/2.python/python%20%E6%B1%87%E6%80%BB/#comments">
    <i class="fas fa-comment-dots fa-fw"></i>
    <span class="valine-comment-count" data-xid="/2.python/python%20%E6%B1%87%E6%80%BB/">0</span>
    <span class="leancloud-comments-count">&nbsp;</span>
  </a>
</div>


        
      
        
          
  <div class="new-meta-item wordcount">
    <a class='notlink'>
      <i class="fas fa-keyboard fa-fw" aria-hidden="true"></i>
      <p>字数：27.3k字</p>
    </a>
  </div>
  <div class="new-meta-item readtime">
    <a class='notlink'>
      <i class="fas fa-hourglass-half fa-fw" aria-hidden="true"></i>
      <p>时长：113分钟</p>
    </a>
  </div>


        
      
        
          
  
  <div class="new-meta-item meta-tags"><a class="tag" href="/tags/reading/" rel="nofollow"><i class="fas fa-hashtag fa-fw" aria-hidden="true"></i><p>reading</p></a></div>


        
      
        
          
  <div class="new-meta-item share -mob-share-list">
  <div class="-mob-share-list share-body">
    
      
        <a class="-mob-share-qq" title="" rel="external nofollow noopener noreferrer noopener"
          
          target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://www.demo443.com:9527/2.python/python%20%E6%B1%87%E6%80%BB/&title=python_汇总 - ☕憩息屋&summary="
          
          >
          
            <img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/qq.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/qq.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=">
          
        </a>
      
    
      
        <a class="-mob-share-qzone" title="" rel="external nofollow noopener noreferrer noopener"
          
          target="_blank" href="https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=http://www.demo443.com:9527/2.python/python%20%E6%B1%87%E6%80%BB/&title=python_汇总 - ☕憩息屋&summary="
          
          >
          
            <img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/qzone.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/qzone.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=">
          
        </a>
      
    
      
        <a class="-mob-share-weibo" title="" rel="external nofollow noopener noreferrer noopener"
          
          target="_blank" href="http://service.weibo.com/share/share.php?url=http://www.demo443.com:9527/2.python/python%20%E6%B1%87%E6%80%BB/&title=python_汇总 - ☕憩息屋&summary="
          
          >
          
            <img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/weibo.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/weibo.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=">
          
        </a>
      
    
      
        
        <div class='hoverbox'>
          <a class='share'><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/wechat.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/wechat.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></a>
          <div class='target'>
            <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATgAAAE4CAAAAADqFLC2AAADqUlEQVR42u3awVLrMAwF0P7/T8P+venEV1KICsc7aEmsYxZ3JL++rNJ6IQAHDhw4Cxy4JXCv4nr391e///fz6nPePfey8G694MCBAwcOHDhwy+DSF6cbOS2geyDp/uN6wYEDBw4cOHDglsKdFtQNnt1Cq/vs1gsOHDhw4MCBA/db4Kqw3eec/n36PXDgwIEDBw4cuL8C1x34pnDVgwEHDhw4cODAgfvtcN2B7tRBpECnjdI1k3xw4MCBAwcOHLghuLuC69afy/WCAwcOHDhw4MAtgeuuLnAaYKsN1bF6wYEDBw4cOHDglsClF/KmYK4Km7542B1UgwMHDhw4cODAbYXrbmyqoVh9X3fAffx8cODAgQMHDhy4ZXBpcE2DY/p5GsirDc8YGBw4cODAgQMHbincXQG3CtsNvmngBgcOHDhw4MCB+zS40w2nwbNa+PTAeqpOcODAgQMHDhy4LXDVgW46wO42NKfgTwHfPhccOHDgwIEDB+5D4H564JwG7erBVf8BwIEDBw4cOHDgtsB1B7Q/3bhMg2v1QOIOMDhw4MCBAwcO3ENwU4PeFLS6TqFOD/AYFBw4cODAgQMHbglc9UGnG60GzWrBp++r1g8OHDhw4MCBA7cFrhpo74ZPB8bdQfepAzhw4MCBAwcO3Ba4bqBMB9JTg+/0ILsHBg4cOHDgwIEDtx0uHSR3C6wG5enG5XEd4MCBAwcOHDhwS+CmBsZToNVGaAqTBmlw4MCBAwcOHLhPgUsDcPeiYfdi4XTj9LKRCQ4cOHDgwIEDtwTu7kFxd7CdNlyngvBlIxMcOHDgwIEDB+4huHTwO1XY1EF1nx8HdXDgwIEDBw4cuGVw1UCafm8aujrILjdswYEDBw4cOHDglsF1G4LVBuJpwK42VMcDPjhw4MCBAwcO3BK49IJgdXUv+KUFTr0XHDhw4MCBAwduK9zdAXIq6FYvLnYH68cdYHDgwIEDBw4cuIfhusG2ChQPhosD6O7n4MCBAwcOHDhwW+CmAmsaUKsN07jQ4j4uAzA4cODAgQMHDtwSuKnAmxZSBUobmLcFYHDgwIEDBw4cuCVw3YHxVMHVgN0NuMcDaXDgwIEDBw4cuA+Hmxo8pwPtqaD+WAAGBw4cOHDgwIFbAtdtJMZBtLjv9CD/2w84cODAgQMHDtxSuO6guDuwrh5I2qCsDszBgQMHDhw4cOC2waUrLXBq8N1tfLb3BQ4cOHDgwIEDtwTOyhY4cODAgbPAgXt4fQODZfpxlVaKKAAAAABJRU5ErkJggg==">
          </div>
        </div>
      
    
      
    
  </div>
</div>



        
      
    </div>
  </div>


  
  

  
    <div class="prev-next">
      
      
        <a class='next' href='/%E5%B8%B8%E8%A7%81%E7%BD%91%E9%A1%B5%E9%94%99%E8%AF%AF%E4%BB%A3%E7%A0%81%E8%A1%A8%E7%A4%BA%E7%9A%84%E5%90%AB%E4%B9%89'>
          <p class='title'>常见网页错误代码表示的含义<i class="fas fa-chevron-right" aria-hidden="true"></i></p>
          <p class='content'>常见网页错误400/401/403/404/500网页错误代码表示的含义HTTP 错误 400400 请求出错由于语法格式有误，服务器无法理解此请求。不作修改，客户程序就无法重复此请求。 
HT...</p>
        </a>
      
    </div>
  
</article>


  

  <article class="post white-box reveal shadow blur floatable" id="comments">
    <p ct><i class='fas fa-comments'></i> 评论</p>
    
      <p cst>测试阶段</p>
    
    <div id="valine_container" class="valine_thread">
  <i class="fas fa-cog fa-spin fa-fw fa-2x"></i>
</div>

  </article>






</div>
<aside class='l_side'>
  
  
    
    



  <section class="widget toc-wrapper shadow blur floatable desktop mobile" id="toc-div" >
    
  <header>
    
      <i class="fas fa-list fa-fw" aria-hidden="true"></i><span class='name'>本文目录</span>
    
  </header>


    <div class='content'>
        <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E9%87%8A"><span class="toc-number">1.</span> <span class="toc-text">注释</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%87%BA%E8%AF%AD%E5%8F%A5"><span class="toc-number">2.</span> <span class="toc-text">输出语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F"><span class="toc-number">3.</span> <span class="toc-text">变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%87%E8%AF%86%E7%AC%A6"><span class="toc-number">4.</span> <span class="toc-text">标识符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">5.</span> <span class="toc-text">数据类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E5%80%BC%E7%B1%BB%E5%9E%8B%EF%BC%9A"><span class="toc-number">6.</span> <span class="toc-text">数值类型：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B4%E5%9E%8B-%EF%BC%9A-int"><span class="toc-number">6.1.</span> <span class="toc-text">整型 ： int</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%AE%E7%82%B9%E5%9E%8B-float"><span class="toc-number">6.2.</span> <span class="toc-text">浮点型 : float</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%8D%E6%95%B0%E5%9E%8B-complex"><span class="toc-number">6.3.</span> <span class="toc-text">复数型 : complex</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%83%E5%B0%94%E7%B1%BB%E5%9E%8B-bool"><span class="toc-number">6.4.</span> <span class="toc-text">布尔类型 : bool</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E7%B1%BB%E5%9E%8B%EF%BC%9Astr"><span class="toc-number">6.5.</span> <span class="toc-text">字符类型：str</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%97%E8%A1%A8%E7%B1%BB%E5%9E%8B-%EF%BC%9A-list"><span class="toc-number">6.6.</span> <span class="toc-text">列表类型 ： list</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%83%E7%BB%84%E7%B1%BB%E5%9E%8B-tuple"><span class="toc-number">6.7.</span> <span class="toc-text">元组类型 : tuple</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E5%85%B8%E7%B1%BB%E5%9E%8B-dict"><span class="toc-number">6.8.</span> <span class="toc-text">字典类型 : dict</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B-set"><span class="toc-number">6.9.</span> <span class="toc-text">集合类型 : set</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A9%BA%E5%80%BC%E7%B1%BB%E5%9E%8B-%EF%BC%9ANone"><span class="toc-number">6.10.</span> <span class="toc-text">空值类型 ：None</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E8%BE%93%E5%85%A5"><span class="toc-number">7.</span> <span class="toc-text">用户输入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-number">8.</span> <span class="toc-text">类型转换</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number"></span> <span class="toc-text">运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%EF%BC%9A-%E6%8F%90%E9%AB%98%E4%BC%98%E5%85%88%E7%BA%A7"><span class="toc-number"></span> <span class="toc-text">注意：() 提高优先级</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.</span> <span class="toc-text">算术运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%8D%E5%90%88%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">2.</span> <span class="toc-text">复合运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">3.</span> <span class="toc-text">关系运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">4.</span> <span class="toc-text">逻辑运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%88%90%E5%91%98%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">5.</span> <span class="toc-text">成员运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BA%AB%E4%BB%BD%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">6.</span> <span class="toc-text">身份运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%8D%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">7.</span> <span class="toc-text">位运算符</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6"><span class="toc-number"></span> <span class="toc-text">流程控制</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E8%AF%AD%E5%8F%A5"><span class="toc-number">0.1.</span> <span class="toc-text">流程语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A4%E6%96%AD%E5%88%86%E6%94%AF"><span class="toc-number">0.2.</span> <span class="toc-text">判断分支</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E7%BB%93%E6%9E%84"><span class="toc-number">0.3.</span> <span class="toc-text">循环结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E7%BB%93%E6%9E%84%E8%AF%AD%E5%8F%A5"><span class="toc-number">0.4.</span> <span class="toc-text">循环结构语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%92%88%E5%AF%B9%E5%BE%AA%E7%8E%AF%E4%BD%9C%E7%94%A8%E6%9C%89%E4%B8%A4%E4%B8%AA%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">0.5.</span> <span class="toc-text">针对循环作用有两个关键字</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%95%B0%E6%8D%AE%E7%9A%84%E7%B1%BB%E5%9E%8B%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number"></span> <span class="toc-text">常用数据的类型的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%88%97%E8%A1%A8%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.</span> <span class="toc-text">3.列表类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%85%83%E7%BB%84%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.</span> <span class="toc-text">4.元组类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E5%AD%97%E5%85%B8-dict"><span class="toc-number">3.</span> <span class="toc-text">5.字典 dict</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E9%9B%86%E5%90%88"><span class="toc-number">4.</span> <span class="toc-text">6.集合</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-number"></span> <span class="toc-text">函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%87%BD%E6%95%B0%E7%9A%84%E6%A6%82%E8%BF%B0"><span class="toc-number">1.</span> <span class="toc-text">1.函数的概述</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#S-%CF%80-r-2"><span class="toc-number">1.0.1.</span> <span class="toc-text">S &#x3D;  π*r**2</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%87%BD%E6%95%B0%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-number">2.</span> <span class="toc-text">2.函数的分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%87%BD%E6%95%B0%E5%AE%9E%E6%88%98"><span class="toc-number">3.</span> <span class="toc-text">3.函数实战</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E4%BD%9C%E7%94%A8%E5%9F%9F%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">4.</span> <span class="toc-text">4.作用域的问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E9%BB%98%E8%AE%A4%E5%8F%82%E6%95%B0"><span class="toc-number">5.</span> <span class="toc-text">5.默认参数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97%E5%92%8C%E5%8C%85"><span class="toc-number"></span> <span class="toc-text">模块和包</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80-%E6%A8%A1%E5%9D%97%E5%92%8C%E5%8C%85"><span class="toc-number">1.</span> <span class="toc-text">一.模块和包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E6%96%B9%E6%A8%A1%E5%9D%97%E7%9A%84%E4%BD%BF%E7%94%A8-%E2%80%93-%E5%AE%89%E8%A3%85-pip-install-%E6%A8%A1%E5%9D%97%E5%90%8D"><span class="toc-number">2.</span> <span class="toc-text">第三方模块的使用  – 安装  pip install 模块名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%85"><span class="toc-number">3.</span> <span class="toc-text">包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9A%8F%E6%9C%BA%E6%95%B0%E6%A8%A1%E5%9D%97"><span class="toc-number">4.</span> <span class="toc-text">随机数模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%A8%A1%E5%9D%97"><span class="toc-number">5.</span> <span class="toc-text">常用模块</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%AD%E4%BB%A3%E5%AF%B9%E8%B1%A1"><span class="toc-number"></span> <span class="toc-text">迭代对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E5%8F%AF%E6%98%AF%E8%BF%AD%E4%BB%A3%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.</span> <span class="toc-text">判断是否可是迭代对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E5%BC%8F"><span class="toc-number">2.</span> <span class="toc-text">生成式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E5%99%A8-generator"><span class="toc-number">3.</span> <span class="toc-text">生成器  generator</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%AD%E4%BB%A3%E5%99%A8%EF%BC%88%E5%8F%A6%E5%A4%96%E7%9A%84%E9%81%8D%E5%8E%86%E6%96%B9%E5%BC%8F%EF%BC%89-Iterable"><span class="toc-number">4.</span> <span class="toc-text">迭代器（另外的遍历方式） Iterable</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%AB%98%E7%BA%A7%E5%87%BD%E6%95%B0"><span class="toc-number"></span> <span class="toc-text">高级函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#map-%E5%87%BD%E6%95%B0"><span class="toc-number">1.</span> <span class="toc-text">map()  函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#reduce"><span class="toc-number">2.</span> <span class="toc-text">reduce</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#filter"><span class="toc-number">3.</span> <span class="toc-text">filter</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sorted"><span class="toc-number">4.</span> <span class="toc-text">sorted</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E8%A1%A5%E5%85%85"><span class="toc-number"></span> <span class="toc-text">函数补充</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0"><span class="toc-number">1.</span> <span class="toc-text">可变参数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#re%E6%A8%A1%E5%9D%97"><span class="toc-number"></span> <span class="toc-text">re模块</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#os%E6%A8%A1%E5%9D%97"><span class="toc-number"></span> <span class="toc-text">os模块</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E%E6%96%87%E4%BB%B6%E7%9A%84%E8%AF%BB%E5%86%99%E6%93%8D%E4%BD%9C%EF%BC%88IO%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E6%9C%BA%E5%88%B6%EF%BC%89"><span class="toc-number"></span> <span class="toc-text">关于文件的读写操作（IO输入输出机制）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E6%96%87%E4%BB%B6%E8%BF%9B%E8%A1%8C%E8%AF%BB%E5%8F%96%E6%93%8D%E4%BD%9C"><span class="toc-number">1.</span> <span class="toc-text">对文件进行读取操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E6%96%87%E4%BB%B6%E8%BF%9B%E8%A1%8C%E5%86%99%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="toc-number">2.</span> <span class="toc-text">对文件进行写的操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%86%99%E5%85%A5"><span class="toc-number">3.</span> <span class="toc-text">二进制写入</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B%EF%BC%9A%E5%AD%A6%E5%91%98%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F"><span class="toc-number"></span> <span class="toc-text">案例：学员管理系统</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B7%B1%E6%8B%B7%E8%B4%9D%EF%BC%8C%E6%B5%85%E6%8B%B7%E8%B4%9D"><span class="toc-number"></span> <span class="toc-text">深拷贝，浅拷贝</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BA%8F%E5%88%97%E5%8C%96"><span class="toc-number"></span> <span class="toc-text">序列化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CSV%E6%93%8D%E4%BD%9C%E8%AF%BB%E5%86%99"><span class="toc-number"></span> <span class="toc-text">CSV操作读写</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%82%E5%B8%B8%E6%9C%BA%E5%88%B6"><span class="toc-number"></span> <span class="toc-text">异常机制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%8B%E5%8A%A8%E6%8A%9B%E5%87%BA%E5%BC%82%E5%B8%B8"><span class="toc-number">1.</span> <span class="toc-text">手动抛出异常</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8%E2%80%93-%E6%B6%89%E5%8F%8A%E5%88%B0%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">2.</span> <span class="toc-text">自定义异常– 涉及到面向对象的知识点</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E7%9A%84%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3%EF%BC%9A"><span class="toc-number"></span> <span class="toc-text">常见的编程思想：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E8%BF%87%E7%A8%8B%E7%A8%8B%E5%BA%8F"><span class="toc-number">1.</span> <span class="toc-text">面向过程程序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F"><span class="toc-number">2.</span> <span class="toc-text">面向对象程序</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%92%8C%E9%9D%A2%E5%90%91%E8%BF%87%E7%A8%8B%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number"></span> <span class="toc-text">面向对象和面向过程的区别</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E8%BF%87%E7%A8%8B%EF%BC%9A"><span class="toc-number">1.</span> <span class="toc-text">面向过程：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%EF%BC%9A%E3%80%90%E6%9B%B4%E7%AC%A6%E5%90%88%E7%94%9F%E6%B4%BB%E3%80%91"><span class="toc-number">2.</span> <span class="toc-text">面向对象：【更符合生活】</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E6%B5%81%E7%A8%8B%EF%BC%9A"><span class="toc-number">3.</span> <span class="toc-text">项目流程：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%92%8C%E9%9D%A2%E5%90%91%E8%BF%87%E7%A8%8B%E5%8C%BA%E5%88%AB%E7%9A%84%E6%80%BB%E7%BB%93"><span class="toc-number">4.</span> <span class="toc-text">面向对象和面向过程区别的总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%92%8C%E5%AF%B9%E8%B1%A1"><span class="toc-number"></span> <span class="toc-text">类和对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E7%9A%84%E6%A6%82%E5%BF%B5%EF%BC%9A"><span class="toc-number">1.</span> <span class="toc-text">类的概念：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E7%B1%BB%E7%9A%84%E6%A0%BC%E5%BC%8F"><span class="toc-number">2.</span> <span class="toc-text">自定义类的格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1%E6%A0%BC%E5%BC%8F"><span class="toc-number">3.</span> <span class="toc-text">创建对象格式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E5%92%8C%E7%B1%BB%E7%9A%84%E5%9B%9E%E9%A1%BE"><span class="toc-number"></span> <span class="toc-text">对象和类的回顾</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%AF%AD%E8%A8%80%E7%9A%84%E4%B8%89%E5%A4%A7%E7%89%B9%E6%80%A7%EF%BC%9A%E5%B0%81%E8%A3%85-%E7%BB%A7%E6%89%BF-%E5%A4%9A%E6%80%81"><span class="toc-number"></span> <span class="toc-text">面向对象语言的三大特性：封装  继承  多态</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%81%E8%A3%85"><span class="toc-number">1.</span> <span class="toc-text">封装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E5%8C%96get%E5%92%8Cset%E6%96%B9%E6%B3%95"><span class="toc-number">2.</span> <span class="toc-text">属性化get和set方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF"><span class="toc-number">3.</span> <span class="toc-text">继承</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%EF%BC%9A"><span class="toc-number">3.1.</span> <span class="toc-text">练习：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF%E4%B8%AD%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-number">4.</span> <span class="toc-text">继承中的概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E7%9A%84%E9%87%8D%E5%86%99"><span class="toc-number">5.</span> <span class="toc-text">方法的重写</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E6%96%B9%E6%B3%95%E7%9A%84%E9%87%8D%E5%86%99"><span class="toc-number">6.</span> <span class="toc-text">系统方法的重写</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E6%80%81"><span class="toc-number">7.</span> <span class="toc-text">多态</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%B1%9E%E6%80%A7%E5%92%8C%E7%B1%BB%E6%96%B9%E6%B3%95"><span class="toc-number"></span> <span class="toc-text">类属性和类方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B7%B1%E6%8B%B7%E8%B4%9D%E5%92%8C%E6%B5%85%E6%8B%B7%E8%B4%9D"><span class="toc-number"></span> <span class="toc-text">深拷贝和浅拷贝</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E6%A1%88%E4%BE%8B%EF%BC%9A%E9%93%B6%E8%A1%8C%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%EF%BC%88%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%EF%BC%89"><span class="toc-number"></span> <span class="toc-text">项目案例：银行管理系统（面向对象）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#requests-%E8%8E%B7%E5%8F%96%E7%BD%91%E9%A1%B5%E5%AF%B9%E8%B1%A1%E6%A8%A1%E5%9D%97"><span class="toc-number"></span> <span class="toc-text">requests 获取网页对象模块</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#warnings-%E6%A8%A1%E5%9D%97-%E5%8E%BB%E9%99%A4%E8%AD%A6%E5%91%8A"><span class="toc-number"></span> <span class="toc-text">warnings  模块 去除警告</span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-number"></span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#xpath-%E7%BD%91%E9%A1%B5%E8%A7%A3%E6%9E%90"><span class="toc-number"></span> <span class="toc-text">xpath 网页解析</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8F%90%E5%8F%96%E6%96%87%E6%9C%AC"><span class="toc-number">0.1.</span> <span class="toc-text">.提取文本</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#bs4%E6%A8%A1%E5%9D%97"><span class="toc-number"></span> <span class="toc-text">bs4模块</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#selenium-%E5%8A%A8%E6%80%81%E7%BD%91%E9%A1%B5%E7%88%AC%E5%8F%96"><span class="toc-number"></span> <span class="toc-text">selenium 动态网页爬取</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9E%E9%A1%BE%EF%BC%9A"><span class="toc-number"></span> <span class="toc-text">回顾：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#scrapy%E6%A1%86%E6%9E%B6"><span class="toc-number"></span> <span class="toc-text">scrapy框架</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Scrapy-Engine%EF%BC%88%E5%BC%95%E6%93%8E%EF%BC%89%EF%BC%9A"><span class="toc-number">1.</span> <span class="toc-text">Scrapy Engine（引擎）：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Scheduler-%E8%B0%83%E5%BA%A6%E5%99%A8"><span class="toc-number">2.</span> <span class="toc-text">Scheduler(调度器):</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Downloader%EF%BC%88%E4%B8%8B%E8%BD%BD%E5%99%A8%EF%BC%89%EF%BC%9A"><span class="toc-number">3.</span> <span class="toc-text">Downloader（下载器）：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Spider%EF%BC%88%E7%88%AC%E8%99%AB%EF%BC%89%E6%96%87%E4%BB%B6%EF%BC%9A"><span class="toc-number">4.</span> <span class="toc-text">Spider（爬虫）文件：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Item-Pipeline-%E7%AE%A1%E9%81%93-%EF%BC%9A"><span class="toc-number">5.</span> <span class="toc-text">Item Pipeline(管道)：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Downloader-Middlewares%EF%BC%88%E4%B8%8B%E8%BD%BD%E4%B8%AD%E9%97%B4%E4%BB%B6%EF%BC%89%EF%BC%9A"><span class="toc-number">6.</span> <span class="toc-text">Downloader Middlewares（下载中间件）：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Spider-Middlewares%EF%BC%88Spider%E4%B8%AD%E9%97%B4%E4%BB%B6%EF%BC%89%EF%BC%9A"><span class="toc-number">7.</span> <span class="toc-text">Spider Middlewares（Spider中间件）：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BAScrapy%E9%A1%B9%E7%9B%AE"><span class="toc-number">8.</span> <span class="toc-text">创建Scrapy项目</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%86%E8%A7%A3%E9%A1%B9%E7%9B%AE%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%EF%BC%9A"><span class="toc-number">9.</span> <span class="toc-text">了解项目相关配置文件：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%AD%E9%97%B4%E4%BA%8B%E4%BB%B6%EF%BC%9A"><span class="toc-number">9.1.</span> <span class="toc-text">中间事件：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E4%BC%A0%E5%8F%82%EF%BC%8C%E5%BD%93%E9%9C%80%E8%A6%81%E7%9A%84%E6%95%B0%E6%8D%AE%E4%B8%8D%E5%9C%A8%E4%B8%80%E4%B8%AA%E7%BD%91%E9%A1%B5%EF%BC%8C%E9%9C%80%E8%A6%81%E5%9C%A8%E4%B8%8B%E4%B8%80%E4%B8%AA%E7%BD%91%E9%A1%B5%E6%97%B6%EF%BC%8C%E5%B0%B1%E5%8F%AF%E4%BB%A5%E7%94%A8%E8%AF%B7%E6%B1%82%E4%BC%A0%E5%8F%82"><span class="toc-number">9.2.</span> <span class="toc-text">请求传参，当需要的数据不在一个网页，需要在下一个网页时，就可以用请求传参</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%81%E4%B9%85%E5%8C%96%E5%AD%98%E5%82%A8%EF%BC%9A"><span class="toc-number">10.</span> <span class="toc-text">持久化存储：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E3%80%81%E5%9F%BA%E4%BA%8E%E7%BB%88%E7%AB%AF%E6%8C%87%E4%BB%A4%EF%BC%9A"><span class="toc-number">10.1.</span> <span class="toc-text">1、基于终端指令：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E3%80%81%E5%9F%BA%E4%BA%8E%E7%AE%A1%E9%81%93%EF%BC%9A"><span class="toc-number">10.2.</span> <span class="toc-text">2、基于管道：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Scrapy%E7%BC%96%E5%86%99%E6%AD%A5%E9%AA%A4%EF%BC%9A"><span class="toc-number">11.</span> <span class="toc-text">Scrapy编写步骤：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%AE%9A%E4%B9%89%E9%87%87%E9%9B%86%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B"><span class="toc-number">11.1.</span> <span class="toc-text">1.定义采集数据模型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E7%BC%96%E5%86%99spider%E8%84%9A%E6%9C%AC"><span class="toc-number">11.2.</span> <span class="toc-text">2.编写spider脚本</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%90%AF%E5%8A%A8%E6%A1%86%E6%9E%B6%E5%91%BD%E4%BB%A4"><span class="toc-number">11.3.</span> <span class="toc-text">3.启动框架命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E4%BF%9D%E5%AD%98%E6%95%B0%E6%8D%AE%EF%BC%88%E5%88%86%E6%9E%90-%E6%B8%85%E6%B4%97%E7%AD%89%EF%BC%89"><span class="toc-number">11.4.</span> <span class="toc-text">4.保存数据（分析&#x2F;清洗等）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E8%AE%BE%E7%BD%AE%E9%85%8D%E7%BD%AE%E4%BF%A1%E6%81%AF"><span class="toc-number">11.5.</span> <span class="toc-text">5.设置配置信息</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E5%88%B6%E4%B8%AD%E9%97%B4%E4%BB%B6"><span class="toc-number">12.</span> <span class="toc-text">定制中间件</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%80%9D%E8%80%83%EF%BC%9A%E7%8E%B0%E5%9C%A8%E9%80%9A%E8%BF%87%E7%9A%84scrapy%E6%A1%86%E6%9E%B6%E9%87%87%E9%9B%86%E7%9A%84%E9%9D%99%E6%80%81%E7%BD%91%E9%A1%B5%EF%BC%8C%E9%82%A3%E4%B9%88%E6%88%91%E4%BB%AC%E8%A6%81%E9%87%87%E9%9B%86%E5%8A%A8%E6%80%81%E7%BD%91%E9%A1%B5%EF%BC%9F-scrapy-selenium%E8%BF%90%E7%94%A8"><span class="toc-number">12.0.1.</span> <span class="toc-text">思考：现在通过的scrapy框架采集的静态网页，那么我们要采集动态网页？ scrapy + selenium运用</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E7%88%AC%E8%99%AB%E7%9A%84%E5%8F%8D%E5%8F%8D%E7%88%AC%E8%99%AB%E6%96%B9%E6%A1%88"><span class="toc-number"></span> <span class="toc-text">一、爬虫的反反爬虫方案</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E9%80%9A%E8%BF%87%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E6%96%B9%E5%BC%8F%E8%AE%BF%E9%97%AE"><span class="toc-number">1.</span> <span class="toc-text">1.通过浏览器的方式访问</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-ip%E9%99%90%E5%88%B6"><span class="toc-number">2.</span> <span class="toc-text">2.ip限制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-session%E8%AE%BF%E9%97%AE%E9%99%90%E5%88%B6"><span class="toc-number">3.</span> <span class="toc-text">3.session访问限制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E9%AA%8C%E8%AF%81%E7%A0%81%E9%99%90%E5%88%B6"><span class="toc-number">4.</span> <span class="toc-text">4.验证码限制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E5%8A%A8%E6%80%81%E6%95%B0%E6%8D%AE%E7%9A%84%E5%8A%A0%E8%BD%BD"><span class="toc-number">5.</span> <span class="toc-text">5.动态数据的加载</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E6%95%B0%E6%8D%AE%E5%8A%A0%E5%AF%86%E2%80%93-%E4%BD%BF%E7%94%A8%E5%8A%A0%E5%AF%86%E7%9A%84%E7%AE%97%E6%B3%95"><span class="toc-number">6.</span> <span class="toc-text">6.数据加密– 使用加密的算法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E7%AE%80%E5%8D%95%E7%9A%84%E9%AA%8C%E8%AF%81%E7%A0%81%E8%AF%86%E5%88%AB-JS%E9%80%86%E5%90%91"><span class="toc-number"></span> <span class="toc-text">二、简单的验证码识别+JS逆向</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#a-%E9%AA%8C%E8%AF%81%E7%A0%81%E8%AF%86%E5%88%AB"><span class="toc-number">1.</span> <span class="toc-text">a) 验证码识别</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81Scrapy%E6%A1%86%E6%9E%B6%E5%88%86%E5%B8%83%E5%BC%8F%EF%BC%88reids%EF%BC%89"><span class="toc-number"></span> <span class="toc-text">三、Scrapy框架分布式（reids）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#a-reids-%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">1.</span> <span class="toc-text">a) reids 数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%94%E7%A7%8D%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%BD%BF%E7%94%A8%E6%96%B9%E5%BC%8F"><span class="toc-number">2.</span> <span class="toc-text">五种数据类型使用方式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%EF%BC%88string%EF%BC%89%EF%BC%9A"><span class="toc-number">2.1.</span> <span class="toc-text">字符串（string）：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#redis-%E5%9C%A8python%E4%B8%AD%E7%9A%84%E8%BF%90%E7%94%A8"><span class="toc-number">2.2.</span> <span class="toc-text">redis 在python中的运用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%93%88%E5%B8%8C%EF%BC%88hash%EF%BC%89%E4%BB%A5%E5%AD%97%E5%85%B8%E7%9A%84%E5%BD%A2%E5%BC%8F%EF%BC%9A"><span class="toc-number">2.3.</span> <span class="toc-text">哈希（hash）以字典的形式：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%97%E8%A1%A8%EF%BC%88list%EF%BC%89"><span class="toc-number">2.4.</span> <span class="toc-text">列表（list）:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9B%86%E5%90%88%EF%BC%88set%EF%BC%89"><span class="toc-number">2.5.</span> <span class="toc-text">集合（set）:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%EF%BC%88zset%EF%BC%89"><span class="toc-number">2.6.</span> <span class="toc-text">有序集合（zset）:</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81mysql%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C"><span class="toc-number"></span> <span class="toc-text">一、mysql的基本操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%BC%80%E5%90%AFmysql%E6%95%B0%E6%8D%AE%E5%BA%93%E6%9C%8D%E5%8A%A1"><span class="toc-number">1.</span> <span class="toc-text">1.开启mysql数据库服务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%85%B3%E9%97%ADmysql%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1"><span class="toc-number">2.</span> <span class="toc-text">2.关闭mysql数据服务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E7%99%BB%E5%BD%95mysql"><span class="toc-number">3.</span> <span class="toc-text">3.登录mysql</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8D%E6%95%B0%E6%8D%AE%E5%BA%93%E7%89%88%E6%9C%AC%E4%BF%A1%E6%81%AF"><span class="toc-number">4.</span> <span class="toc-text">4.查看当前数据库版本信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8D%E7%9A%84%E6%97%B6%E9%97%B4"><span class="toc-number">5.</span> <span class="toc-text">5.查看当前的时间</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E9%80%80%E5%87%BA"><span class="toc-number">6.</span> <span class="toc-text">6.退出</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84database%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="toc-number"></span> <span class="toc-text">二.数据库的database的操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8D%E6%9C%89%E5%93%AA%E4%BA%9B%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">1.</span> <span class="toc-text">1.查看当前有哪些数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">2.</span> <span class="toc-text">2.创建数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E4%BD%BF%E7%94%A8%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">3.</span> <span class="toc-text">3.使用数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8D%E4%BD%BF%E7%94%A8%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">4.</span> <span class="toc-text">4.查看当前使用的数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">5.</span> <span class="toc-text">5.删除数据库</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E8%A1%A8table%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="toc-number"></span> <span class="toc-text">三、表table的操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8D%E6%95%B0%E6%8D%AE%E5%BA%93%E6%9C%89%E5%93%AA%E4%BA%9B%E8%A1%A8"><span class="toc-number">1.</span> <span class="toc-text">1.查看当前数据库有哪些表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E8%A1%A8"><span class="toc-number">2.</span> <span class="toc-text">2.创建一个表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%9F%A5%E7%9C%8B%E8%A1%A8%E7%9A%84%E7%BB%93%E6%9E%84"><span class="toc-number">3.</span> <span class="toc-text">3.查看表的结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%9F%A5%E7%9C%8B%E5%88%9B%E5%BB%BA%E8%A1%A8%E7%9A%84%E8%AF%AD%E5%8F%A5"><span class="toc-number">4.</span> <span class="toc-text">4.查看创建表的语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E4%BF%AE%E6%94%B9%E8%A1%A8"><span class="toc-number">5.</span> <span class="toc-text">5.修改表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E5%88%A0%E9%99%A4%E8%A1%A8"><span class="toc-number">6.</span> <span class="toc-text">6.删除表</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E6%95%B0%E6%8D%AE%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="toc-number"></span> <span class="toc-text">四、数据的操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE"><span class="toc-number">1.</span> <span class="toc-text">1.插入数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E7%BC%BA%E7%9C%81%E5%80%BC%E6%8F%92%E5%85%A5"><span class="toc-number">2.</span> <span class="toc-text">2.缺省值插入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%8F%92%E5%85%A5%E5%A4%9A%E6%9D%A1%E6%95%B0%E6%8D%AE"><span class="toc-number">3.</span> <span class="toc-text">3.插入多条数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE"><span class="toc-number">4.</span> <span class="toc-text">4.修改数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE"><span class="toc-number">5.</span> <span class="toc-text">5.删除数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE"><span class="toc-number">6.</span> <span class="toc-text">6.查询数据</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#6-1-%E6%9F%A5%E8%AF%A2%E6%89%80%E6%9C%89"><span class="toc-number">6.1.</span> <span class="toc-text">6.1  查询所有</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-2-%E6%8C%89%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2"><span class="toc-number">6.2.</span> <span class="toc-text">6.2 按条件查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-3-%E6%A8%A1%E7%B3%8A%E6%9F%A5%E8%AF%A2-like"><span class="toc-number">6.3.</span> <span class="toc-text">6.3 模糊查询   like</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-4-%E8%8C%83%E5%9B%B4%E6%9F%A5%E8%AF%A2"><span class="toc-number">6.4.</span> <span class="toc-text">6.4 范围查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-%E7%A9%BA%E5%88%A4%E6%96%AD"><span class="toc-number">6.5.</span> <span class="toc-text">7.空判断</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-%E4%BC%98%E5%85%88%E7%BA%A7"><span class="toc-number">6.6.</span> <span class="toc-text">8.优先级   ()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-%E5%8E%BB%E9%87%8D%E5%A4%8D%E7%9A%84%E5%80%BC"><span class="toc-number">6.7.</span> <span class="toc-text">9.去重复的值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#10-%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0"><span class="toc-number">6.8.</span> <span class="toc-text">10.聚合函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#11-%E5%88%86%E7%BB%84-group-by"><span class="toc-number">6.9.</span> <span class="toc-text">11.分组 group by</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#12-%E6%8E%92%E5%BA%8F-order-by"><span class="toc-number">6.10.</span> <span class="toc-text">12.排序   order by</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#13-%E5%88%86%E9%A1%B5"><span class="toc-number">6.11.</span> <span class="toc-text">13.分页</span></a></li></ol></li></ol>
    </div>
  </section>


  

  
    
    

<section class="widget blogger shadow blur floatable desktop mobile">
  <div class='content'>
    
      
        <a class='avatar flat-box circle' href='/about/'>
          <img no-lazy src='/img/avatar.jpg'/>
        </a>
      
    
    
      <div class='text'>
        
          <h2>杨晓东</h2>
        
        
          <p>过去无法挽回，<br>未来可以改变！</p>

        
        
      </div>
    
    
      <div class="social-wrapper">
        
          
            <a href="http://wpa.qq.com/msgrd?v=3&amp;uin=3458888444&amp;site=qq&amp;menu=yes"
              class="social fab fa-qq flat-btn"
              target="_blank"
              rel="external nofollow noopener noreferrer">
              
            </a>
          
        
          
            <a href="mailto:3458888444@qq.com"
              class="social fas fa-envelope flat-btn"
              target="_blank"
              rel="external nofollow noopener noreferrer">
              
            </a>
          
        
          
            <a href="http://www.demo443.com"
              class="social fas fa-wrench flat-btn"
              target="_blank"
              rel="external nofollow noopener noreferrer">
              
            </a>
          
        
          
            <a href="https://music.163.com/"
              class="social fas fa-music flat-btn"
              target="_blank"
              rel="external nofollow noopener noreferrer">
              
            </a>
          
        
      </div>
    
  </div>
</section>

  

  
    
    

<section class="widget shadow blur floatable desktop">
  
  <header>
    
      <i class="fas fa-award fa-fw" aria-hidden="true"></i><span class='name'>站点信息</span>
    
  </header>


  <div class='content'>
    <div class="webinfo">
      
        <div class="webinfo-item">
          <div>文章数目：</div>
          <div>146 篇</div>
        </div>
      

      
        <div class="webinfo-item">
          <div>已运行时间：</div>
          <div id="webinfo-runtime-count" publish_date="03/24/2020 21:34:09"></div>
        </div>
        <script>
          var BirthDay = new Date(new Date('2021/08/23'));
          var today = new Date();
          var timeold = (today.getTime() - BirthDay.getTime());
          var daysold = Math.floor(timeold / (24 * 60 * 60 * 1000));
          document.getElementById('webinfo-runtime-count').innerHTML = daysold + ' 天';
        </script>
      


      
        <div class="webinfo-item">
          <div>本站总字数：</div>
          <div>167.4k 字</div>
        </div>
      

      
        <div class="webinfo-item">
          <div>本站访客数：</div>
          
          <div><span id="busuanzi_value_site_uv"><i class="fas fa-fan fa-spin fa-fw" aria-hidden="true"></i></span> 人</div>
          
        </div>
      

      
        <div class="webinfo-item">
          <div>本站总访问量：</div>
          
          <div><span id="busuanzi_value_site_pv"><i class="fas fa-fan fa-spin fa-fw" aria-hidden="true"></i></span> 次</div>
          
        </div>
      

      
        <div class="webinfo-item">
          <div>最后活动时间：</div>
          
            <div id="last-update" style="display: none;">Fri Dec 24 2021 18:44:41 GMT+0800 (中国标准时间)</div>
            <div id="last-update-show">2021-12-24 日</div>
          
        </div>
        
        <script>
          function timeago(dateTimeStamp) {
              var minute = 1000 * 60; //把分，时，天，周，半个月，一个月用毫秒表示
              var hour = minute * 60;
              var day = hour * 24;
              var week = day * 7;
              var month = day * 30;
              var now = new Date().getTime(); //获取当前时间毫秒
              var diffValue = now - dateTimeStamp; //时间差
              if (diffValue < 0) {
                  return;
              }
              var minC = diffValue / minute; //计算时间差的分，时，天，周，月
              var hourC = diffValue / hour;
              var dayC = diffValue / day;
              var weekC = diffValue / week;
              var monthC = diffValue / month;
              if (monthC >= 1 && monthC <= 3) {
                  result = " " + parseInt(monthC) + " 月前"
              } else if (weekC >= 1 && weekC <= 3) {
                  result = " " + parseInt(weekC) + " 周前"
              } else if (dayC >= 1 && dayC <= 6) {
                  result = " " + parseInt(dayC) + " 天前"
              } else if (hourC >= 1 && hourC <= 23) {
                  result = " " + parseInt(hourC) + " 小时前"
              } else if (minC >= 1 && minC <= 59) {
                  result = " " + parseInt(minC) + " 分钟前"
              } else if (diffValue >= 0 && diffValue <= minute) {
                  result = "刚刚"
              } else {
                  var datetime = new Date();
                  datetime.setTime(dateTimeStamp);
                  var Nyear = datetime.getFullYear();
                  var Nmonth = datetime.getMonth() + 1 < 10 ? "0" + (datetime.getMonth() + 1) : datetime.getMonth() + 1;
                  var Ndate = datetime.getDate() < 10 ? "0" + datetime.getDate() : datetime.getDate();
                  var Nhour = datetime.getHours() < 10 ? "0" + datetime.getHours() : datetime.getHours();
                  var Nminute = datetime.getMinutes() < 10 ? "0" + datetime.getMinutes() : datetime.getMinutes();
                  var Nsecond = datetime.getSeconds() < 10 ? "0" + datetime.getSeconds() : datetime.getSeconds();
                  result = Nyear + "-" + Nmonth + "-" + Ndate
              }
              return result;
          }
          var lastUpDate = document.getElementById('last-update').innerHTML;
          try {
            document.getElementById('last-update-show').innerHTML = timeago(new Date(lastUpDate));
          } catch (error) {
            document.getElementById('last-update-show').innerHTML = '2021-12-24 日';
          }
        </script>
        
      
    </div>
  </div>
</section>

  


</aside>



		  
		  <!--此文件用来存放一些不方便取值的变量-->
<!--思路大概是将值藏到重加载的区域内-->

<script>
  window.pdata={}
  pdata.ispage=true;
  pdata.postTitle="python_汇总";
  pdata.commentPath="";
  pdata.commentPlaceholder="";
  // header 这里无论是否开启pjax都需要
  var l_header=document.getElementById("l_header");
  
  l_header.classList.add("show");
  
  
    // cover
    var cover_wrapper=document.querySelector('.cover-wrapper');
    
    cover_wrapper.id="none";
    cover_wrapper.style.display="none";
    
  
</script>

        </div>
        
  
  <footer class="footer clearfix">
    <br><br>
    
      
        <div class="aplayer-container">
          

  
    <meting-js
      theme='#1BCDFC'
      autoplay='false'
      volume='0.7'
      loop='all'
      order='random'
      fixed='false'
      list-max-height='320px'
      server='netease'
      type='playlist'
      id='6929517097'
      list-folded='true'>
    </meting-js>
  


        </div>
      
    
      
        <div class='copyright'>
        <p><a href="/">Copyright © 2021 yangkaiqun</a></p>

        </div>
      
    
      
        
          <div><p><a target="_blank" rel="noopener" href="https://beian.miit.gov.cn/">黔ICP备2021004952号</a></p>
</div>
        
      
    
      
        
          <div><p><img src="/img/gov.png" class="lazyload" data-srcset="/img/gov.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="> <a target="_blank" rel="noopener" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=52032102000646/">公安备案号52032102000646</a></p>
</div>
        
      
    
  </footer>


        <a id="s-top" class="fas fa-arrow-up fa-fw" href="javascript:void(0)"></a>
      </div>
    </div>
    <div>
      <script>
/************这个文件存放不需要重载的全局变量和全局函数*********/
window.volantis={};
window.volantis.loadcss=document.getElementById("loadcss");
/******************** Pjax ********************************/
function VPjax(){
	this.list=[] // 存放回调函数
	this.start=()=>{
	  for(var i=0;i<this.list.length;i++){
		this.list[i].run();
	  }
	}
	this.push=(fn,name)=>{
		var f=new PjaxItem(fn,name);
		this.list.push(f);
	}
	// 构造一个可以run的对象
	function PjaxItem(fn,name){
		// 函数名称
		this.name = name || fn.name
		// run方法
		this.run=()=>{
			fn()
		}
	}
}
volantis.pjax={}
volantis.pjax.method={
	complete: new VPjax(),
	error: new VPjax(),
	send: new VPjax()
}
volantis.pjax={
	...volantis.pjax,
	push: volantis.pjax.method.complete.push,
	error: volantis.pjax.method.error.push,
	send: volantis.pjax.method.send.push
}
/********************脚本懒加载函数********************************/
// 已经加入了setTimeout
function loadScript(src, cb) {
	setTimeout(function() {
		var HEAD = document.getElementsByTagName('head')[0] || document.documentElement;
		var script = document.createElement('script');
		script.setAttribute('type','text/javascript');
		if (cb) script.onload = cb;
		script.setAttribute('src', src);
		HEAD.appendChild(script);
	});
}
//https://github.com/filamentgroup/loadCSS
var loadCSS = function( href, before, media, attributes ){
	var doc = window.document;
	var ss = doc.createElement( "link" );
	var ref;
	if( before ){
		ref = before;
	}
	else {
		var refs = ( doc.body || doc.getElementsByTagName( "head" )[ 0 ] ).childNodes;
		ref = refs[ refs.length - 1];
	}
	var sheets = doc.styleSheets;
	if( attributes ){
		for( var attributeName in attributes ){
			if( attributes.hasOwnProperty( attributeName ) ){
				ss.setAttribute( attributeName, attributes[attributeName] );
			}
		}
	}
	ss.rel = "stylesheet";
	ss.href = href;
	ss.media = "only x";
	function ready( cb ){
		if( doc.body ){
			return cb();
		}
		setTimeout(function(){
			ready( cb );
		});
	}
	ready( function(){
		ref.parentNode.insertBefore( ss, ( before ? ref : ref.nextSibling ) );
	});
	var onloadcssdefined = function( cb ){
		var resolvedHref = ss.href;
		var i = sheets.length;
		while( i-- ){
			if( sheets[ i ].href === resolvedHref ){
				return cb();
			}
		}
		setTimeout(function() {
			onloadcssdefined( cb );
		});
	};
	function loadCB(){
		if( ss.addEventListener ){
			ss.removeEventListener( "load", loadCB );
		}
		ss.media = media || "all";
	}
	if( ss.addEventListener ){
		ss.addEventListener( "load", loadCB);
	}
	ss.onloadcssdefined = onloadcssdefined;
	onloadcssdefined( loadCB );
	return ss;
};
</script>
<script>
  
  loadCSS("https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14/css/all.min.css", window.volantis.loadcss);
  
  
  loadCSS("https://cdn.jsdelivr.net/gh/l-lin/font-awesome-animation/dist/font-awesome-animation.min.css", window.volantis.loadcss);
  
  
  loadCSS("https://cdn.jsdelivr.net/npm/node-waves@0.7.6/dist/waves.min.css", window.volantis.loadcss);
  
  
  loadCSS("https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10/build/styles/solarized-light.min.css", window.volantis.loadcss);
  
</script>
<!-- required -->

<script src="https://cdn.jsdelivr.net/npm/jquery@3.5/dist/jquery.min.js"></script>

<script>
  function pjax_fancybox() {
    $(".md .gallery").find("img").each(function () { //渲染 fancybox
      var element = document.createElement("a"); // a 标签
      $(element).attr("class", "fancybox");
      $(element).attr("pjax-fancybox", "");  // 过滤 pjax
      $(element).attr("href", $(this).attr("src"));
      if ($(this).attr("data-original")) {
        $(element).attr("href", $(this).attr("data-original"));
      }
      $(element).attr("data-fancybox", "images");
      var caption = "";   // 描述信息
      if ($(this).attr('alt')) {  // 判断当前页面是否存在描述信息
        $(element).attr('data-caption', $(this).attr('alt'));
        caption = $(this).attr('alt');
      }
      var div = document.createElement("div");
      $(div).addClass("fancybox");
      $(this).wrap(div); // 最外层套 div ，其实主要作用还是 class 样式
      var span = document.createElement("span");
      $(span).addClass("image-caption");
      $(span).text(caption); // 加描述
      $(this).after(span);  // 再套一层描述
      $(this).wrap(element);  // 最后套 a 标签
    })
    $(".md .gallery").find("img").fancybox({
      selector: '[data-fancybox="images"]',
      hash: false,
      loop: false,
      closeClick: true,
      helpers: {
        overlay: {closeClick: true}
      },
      buttons: [
        "zoom",
        "close"
      ]
    });
  };
  function SCload_fancybox() {
    if ($(".md .gallery").find("img").length == 0) return;
    loadCSS("https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css", document.getElementById("loadcss"));
    loadScript('https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js', pjax_fancybox)
  };
  $(function () {
    SCload_fancybox();
  });
  function Pjax_SCload_fancybox(){
	if (typeof $.fancybox == "undefined") {
	 SCload_fancybox();
    } else {
	 pjax_fancybox();
    }
  }
  volantis.pjax.push(Pjax_SCload_fancybox)
  volantis.pjax.send(()=>{
      if (typeof $.fancybox != "undefined") {
        $.fancybox.close();    // 关闭弹窗
      }
  },'fancybox')
</script>


<!-- internal -->



  
  

  <div id="rightmenu-wrapper">
    <ul class="list-v rightmenu" id="rightmenu-content">
      <li class='option'>
        <a class='vlts-menu opt fix-cursor-default' id='menu-copy-text' onclick="document.execCommand('copy')"><i class='fa fa-copy fa-fw'></i>复制文本</a>
        <hr id='hr-text'>
        <a class='vlts-menu opt fix-cursor-default' id='menu-copy-href'><i class='fa fa-link fa-fw'></i>复制链接</a>
        <a class='vlts-menu opt fix-cursor-default' id='menu-open-href'><i class='fa fa-external-link-square-alt fa-fw'></i>在新标签页打开</a>
        <hr id='hr-href'>
        <a class='vlts-menu opt fix-cursor-default' id='menu-copy-src'><i class='fa fa-image fa-fw'></i>复制图片地址</a>
        <hr id='hr-src'>
      </li>
      
        <li class='navigation'>
          <a class='nav icon-only fix-cursor-default' onclick='history.back()'><i class='fa fa-arrow-left fa-fw'></i></a>
          <a class='nav icon-only fix-cursor-default' onclick='history.forward()'><i class='fa fa-arrow-right fa-fw'></i></a>
          <a class='nav icon-only fix-cursor-default' onclick='window.location.reload()'><i class='fa fa-redo fa-fw'></i></a>
          <a class='nav icon-only fix-cursor-default' href='/'><i class='fa fa-home fa-fw'></i></a>
        </li>
      
      <hr>
      
        
      
        
          <hr>
        
      
        
          
    <li>
      <a class='vlts-menu fix-cursor-default ' href=http://www.demo443.com
        
        
        
        
          id="http:wwwdemo443com"
        >
        <i class='fa fa-fan fa-spin fa-fw'></i> 工具箱
      </a>
    </li>
  
        
      
        
          
    <li>
      <a class='vlts-menu fix-cursor-default ' 
        
        
        
          onclick="document.execCommand('print')"
        
        >
        <i class='fa fa-print fa-fw'></i> 打印页面
      </a>
    </li>
  
        
      
        
          <li class='music name'>
            <p class='nav music-title fix-cursor-default'></p>
          </li>
          <li class='music ctrl'>
            <a class='nav icon-only backward fix-cursor-default' onclick='aplayerBackward()'><i class='fa fa-step-backward fa-fw'></i></a>
            <a class='nav icon-only toggle fix-cursor-default' onclick='aplayerToggle()'><i class='fa fa-play fa-fw'></i></a>
            <a class='nav icon-only forward fix-cursor-default' onclick='aplayerForward()'><i class='fa fa-step-forward fa-fw'></i></a>
          </li>
          <li class='music volume'>
            <a class='nav volume'>
              <div class="aplayer-volume-bar-wrap">
                <div class="aplayer-volume-bar fix-cursor-pointer">
                  <div class="aplayer-volume"></div>
                  <i class='left fa fa-volume-off fa-fw'></i>
                  <i class='right fa fa-volume-up fa-fw'></i>
                </div>
              </div>
            </a>
          </li>
        
      
    </ul>
  </div>

  <script>
    window.document.oncontextmenu = function (event) {
      if (event.ctrlKey) return true;
      if (/Android|webOS|BlackBerry/i.test(navigator.userAgent)) return true;
      return popMenu(event);
    };
    document.addEventListener("click", function (event) {
      var mymenu = document.getElementById('rightmenu-wrapper');
      mymenu.style.display = "none";
    });
    function popMenu(event) {
      var mymenu = document.getElementById('rightmenu-wrapper');
      var menuContent = document.getElementById('rightmenu-content');
      var screenWidth = document.documentElement.clientWidth || document.body.clientWidth;
      var screenHeight = document.documentElement.clientHeight || document.body.clientHeight;
      mymenu.style.left = event.clientX + "px"; // 获取鼠标位置
      mymenu.style.top = event.clientY + "px";
      mymenu.style.display = 'block';
      if (event.clientX * 2 > screenWidth) {
        menuContent.classList.add('left');
      } else {
        menuContent.classList.remove('left');
      }
      if (event.clientY * 2 > screenHeight) {
        menuContent.classList.add('top');
      } else {
        menuContent.classList.remove('top');
      }

      let hrText = document.getElementById('hr-text');
      let hrSrc = document.getElementById('hr-src');
      let hrHref = document.getElementById('hr-href');

      // 选中图片
      let copySrc = document.getElementById('menu-copy-src');
      if (copySrc != undefined) {
        if (event.target.currentSrc) {
          copySrc.style.display = 'block';
          copySrc.addEventListener("click", function (e) {
            copyString(event.target.currentSrc);
          },{once: true});
          hrSrc.style.display = 'block';
        } else {
          copySrc.style.display = 'none';
          hrSrc.style.display = 'none';
        }
      }

      // 选中按钮
      // 判断是不是按钮
      let href = '';
      if (event.path) {
        for (i = 0; i < event.path.length; i++) {
          if (event.path[i].href != undefined && event.path[i].href.length > 0) {
            href = event.path[i].href;
          }
        }
      }

      let copyText = document.getElementById('menu-copy-text');
      copyText.style.display = 'none';
      hrText.style.display = 'none';
      if (href.length == 0) {
        // 选中文本
        if (window.getSelection().toString()) {
          if ('true' == 'true') {
            copyText.style.display = 'block';
            hrText.style.display = 'block';
          }
        }
      }

      // 在新标签页打开
      let openHref = document.getElementById('menu-open-href');
      if (openHref != undefined) {
        if (href.length > 0) {
          openHref.style.display = 'block';
          openHref.addEventListener("click", function (e) {
            window.open(href);
          },{once: true});
          hrHref.style.display = 'block';
        } else {
          openHref.style.display = 'none';
          hrHref.style.display = 'none';
        }
      }
      // 复制链接
      let copyHref = document.getElementById('menu-copy-href');
      if (copyHref != undefined) {
        if (href.length > 0) {
          copyHref.style.display = 'block';
          copyHref.addEventListener("click", function (e) {
            copyString(href);
          },{once: true});
        } else {
          copyHref.style.display = 'none';
        }
      }
      // 有音乐播放器 see: layout/_third-party/aplayer/script.ejs
      
      if(volantis.APlayerLoaded){ // APlayer加载完成？
        // 如果有aplayer，初始化一下
        checkAPlayer();
      }
      
      return false; // 该行代码确保系统自带的右键菜单不会被调出
    }
    function hideMenu() {
      document.getElementById('rightmenu-wrapper').style.display = 'none';
    }
    function copyString(str) {
      const input = document.createElement('input');
      input.setAttribute('readonly', 'readonly');
      document.body.appendChild(input);
      input.setAttribute('value', str);
      input.select();
      document.execCommand('copy');
      document.body.removeChild(input);
    }
    document.execCommand('click');
  </script>




<script>
  function loadIssuesJS() {
    if ($(".md").find(".issues-api").length == 0) return;
	
	  loadScript('/js/issues.js');
	
  };
  $(function () {
    loadIssuesJS();
  });
  volantis.pjax.push(()=>{
	if (typeof IssuesAPI == "undefined") {
	  loadIssuesJS();
	}
  },"IssuesJS")
</script>



  <script defer src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.1.0/dist/lazyload.min.js"></script>
<script>
  // https://www.npmjs.com/package/vanilla-lazyload
  // Set the options globally
  // to make LazyLoad self-initialize
  window.lazyLoadOptions = {
    elements_selector: ".lazyload",
    threshold: 0
  };
  // Listen to the initialization event
  // and get the instance of LazyLoad
  window.addEventListener(
    "LazyLoad::Initialized",
    function (event) {
      window.lazyLoadInstance = event.detail.instance;
    },
    false
  );
  document.addEventListener('DOMContentLoaded', function () {
    lazyLoadInstance.update();
  });
  document.addEventListener('pjax:complete', function () {
    lazyLoadInstance.update();
  });
</script>




  

<script async src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-volantis@2/js/instant_page.js" type="module" defer integrity="sha384-OeDn4XE77tdHo8pGtE1apMPmAipjoxUQ++eeJa6EtJCfHlvijigWiJpD7VDPWXV1"></script>





  <script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script>
    var clipboard = new ClipboardJS('.btn-copy', {
        target: function (trigger) {
            return trigger.nextElementSibling
        }
    });
    function wait(callback, seconds) {
        var timelag = null;
        timelag = window.setTimeout(callback, seconds)
    }
    function pjax_initCopyCode() {
		if($(".highlight .code pre").length+$(".article pre code").length==0)return;
        var copyHtml = '';
        copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
        copyHtml += '<i class="fas fa-copy"></i><span>COPY</span>';
        copyHtml += '</button>';
        $(".highlight .code pre").before(copyHtml);
        $(".article pre code").before(copyHtml);
        clipboard.off('success').on('success', function (e) {
            let $btn = $(e.trigger);
            $btn.addClass('copied');
            let $icon = $($btn.find('i'));
            $icon.removeClass('fa-copy');
            $icon.addClass('fa-check-circle');
            let $span = $($btn.find('span'));
            $span[0].innerText = 'COPIED';
            wait(function () {
                $icon.removeClass('fa-check-circle');
                $icon.addClass('fa-copy');
                $span[0].innerText = 'COPY'
            }, 2000)
        });
        clipboard.off('error').on('error', function (e) {
            e.clearSelection();
            let $btn = $(e.trigger);
            $btn.addClass('copy-failed');
            let $icon = $($btn.find('i'));
            $icon.removeClass('fa-copy');
            $icon.addClass('fa-times-circle');
            let $span = $($btn.find('span'));
            $span[0].innerText = 'COPY FAILED';
            wait(function () {
                $icon.removeClass('fa-times-circle');
                $icon.addClass('fa-copy');
                $span[0].innerText = 'COPY'
            }, 2000)
        })
    }
    $(function () {
        pjax_initCopyCode()
    });
	volantis.pjax.push(pjax_initCopyCode)
</script>




   <script type="text/javascript">
  loadScript("https://cdn.jsdelivr.net/npm/scrollreveal@4.0.6/dist/scrollreveal.min.js")
  function pjax_scrollrebeal() {
    ScrollReveal().reveal('.l_main .reveal', {
      distance: '32px',
      duration: '800',
      interval: '20',
      scale: '1',
      easing: 'ease-out'
    });
  }
  $(function () {
  var checkScrollReveal = setInterval(function () {
    if ($("#safearea").css("display")!="block") return
    if (typeof ScrollReveal=="undefined") return
    clearInterval(checkScrollReveal)
	pjax_scrollrebeal();
  }, 100)
  });
  volantis.pjax.push(pjax_scrollrebeal)
</script>




  <script>
  let APlayerController = new Object();
  APlayerController.id = '6929517097';  // 设定全局音乐播放ID
  APlayerController.volume = '0.7';
  loadCSS("https://cdn.jsdelivr.net/npm/aplayer@1.10/dist/APlayer.min.css", window.volantis.loadcss);
  // APlayer 需要在  MetingJS 之前加载
  loadScript("https://cdn.jsdelivr.net/npm/aplayer@1.10/dist/APlayer.min.js")
  window.volantis.APlayerLoaded=0 // APlayer加载完成状态
  var checkAPlayer = setInterval(function () {
    if (!window.APlayer) return // APlayer加载完成？
	  if ($("#safearea").css("display")!="block") return // 文章内容加载完成？ see: source/css/first.styl
    clearInterval(checkAPlayer)
	  if (!window.volantis.APlayerLoaded&&!window.MetingJSElement){ // APlayer只能加载一次
      window.volantis.APlayerLoaded=1 // APlayer加载完成
      loadScript("https://cdn.jsdelivr.net/npm/meting@2.0/dist/Meting.min.js") // 加载 MetingJS
	  }
  }, 2500) // 按照网速调节差分2.5s
  // rightmenu see: layout/_partial/rightmenu.ejs

  
    loadScript("/js/aplayer.js")
  

</script>




  
  
<script src="https://cdn.jsdelivr.net/npm/valine@1.4/dist/Valine.min.js"></script>


<script>
  function emoji(path, idx, ext) {
    return path + "/" + path + "-" + idx + "." + ext;
  }
  var emojiMaps = {};
  for (var i = 1; i <= 54; i++) {
    emojiMaps['tieba-' + i] = emoji('tieba', i, 'png');
  }
  for (var i = 1; i <= 101; i++) {
    emojiMaps['qq-' + i] = emoji('qq', i, 'gif');
  }
  for (var i = 1; i <= 116; i++) {
    emojiMaps['aru-' + i] = emoji('aru', i, 'gif');
  }
  for (var i = 1; i <= 125; i++) {
    emojiMaps['twemoji-' + i] = emoji('twemoji', i, 'png');
  }
  for (var i = 1; i <= 4; i++) {
    emojiMaps['weibo-' + i] = emoji('weibo', i, 'png');
  }
  function pjax_valine() {
    if(!document.querySelectorAll("#valine_container")[0])return;
    let pagePlaceholder = pdata.commentPlaceholder || "快来评论吧~";
    let path = pdata.commentPath;
    if (path.length == 0) {
      let defaultPath = '';
      path = defaultPath || decodeURI(window.location.pathname);
    }
    var valine = new Valine();
    valine.init(Object.assign({"path":null,"placeholder":"快来评论吧~","appId":"0tm20G2zAnSoNq82yF7TCkjp-gzGzoHsz","appKey":"gdthrGg8z8Gw8swEWqKfwMli","meta":["nick","mail","link"],"requiredFields":["nick","mail"],"enableQQ":true,"recordIP":true,"avatar":"robohash","pageSize":10,"lang":"zh-cn","highlight":true,"mathJax":false,"js":"https://cdn.jsdelivr.net/npm/valine@1.4/dist/Valine.min.js","visitor":true}, {
      el: '#valine_container',
      path: path,
      placeholder: pagePlaceholder,
      emojiCDN: 'https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/valine/',
      emojiMaps: emojiMaps,
    }))
  }
  $(function () {
    pjax_valine();
  });
  volantis.pjax.push(pjax_valine);
</script>




  <script defer src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-busuanzi@2.3/js/busuanzi.pure.mini.js" data-pjax></script>



  
<script src="/js/app.js"></script>



<!-- optional -->

  <script>
const SearchServiceimagePath="https://cdn.jsdelivr.net/gh/volantis-x/cdn-volantis@master/img/";
const ROOT =  ("/" || "/").endsWith('/') ? ("/" || "/") : ("//" || "/" );

$('.input.u-search-input').one('focus',function(){
	
		loadScript('https://cdn.jsdelivr.net/gh/volantis-x/cdn-volantis@2.6.4/js/search.js',setSearchService);
	
})

function listenSearch(){
  
    customSearch = new HexoSearch({
      imagePath: SearchServiceimagePath
    });
  
}
function setSearchService() {
	listenSearch();
	
		document.addEventListener("pjax:success", listenSearch);
	
}
</script>





  
<script src="https://cdn.jsdelivr.net/npm/node-waves@0.7.6/dist/waves.min.js"></script>

<script type="text/javascript">
$(function () {
  Waves.attach('.flat-btn', ['waves-button']);
  Waves.attach('.float-btn', ['waves-button', 'waves-float']);
  Waves.attach('.float-btn-light', ['waves-button', 'waves-float', 'waves-light']);
  Waves.attach('.flat-box', ['waves-block']);
  Waves.attach('.float-box', ['waves-block', 'waves-float']);
  Waves.attach('.waves-image');
  Waves.init();
});
</script>



  
<script src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-volantis@2/js/comment_typing.js"></script>




  

<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10/build/highlight.min.js"></script>

<script>hljs.initHighlightingOnLoad();</script>

<script>
volantis.pjax.push(()=>{
	document.querySelectorAll('pre code').forEach((block) => {
	  hljs.highlightBlock(block);
	});
},"highlightjs")
</script>





  <script>
const rootElement = document.documentElement;
const darkModeStorageKey = "user-color-scheme";
const rootElementDarkModeAttributeName = "data-user-color-scheme";

const setLS = (k, v) => {
    localStorage.setItem(k, v);
};

const removeLS = (k) => {
    localStorage.removeItem(k);
};

const getLS = (k) => {
    return localStorage.getItem(k);
};

const getModeFromCSSMediaQuery = () => {
  return window.matchMedia("(prefers-color-scheme: dark)").matches
    ? "dark"
    : "light";
};

const resetRootDarkModeAttributeAndLS = () => {
  rootElement.removeAttribute(rootElementDarkModeAttributeName);
  removeLS(darkModeStorageKey);
};

const validColorModeKeys = {
  dark: true,
  light: true,
};

const applyCustomDarkModeSettings = (mode) => {
  const currentSetting = mode || getLS(darkModeStorageKey);

  if (currentSetting === getModeFromCSSMediaQuery()) {
    resetRootDarkModeAttributeAndLS();
  } else if (validColorModeKeys[currentSetting]) {
    rootElement.setAttribute(rootElementDarkModeAttributeName, currentSetting);
  } else {
    resetRootDarkModeAttributeAndLS();
  }
};

const invertDarkModeObj = {
  dark: "light",
  light: "dark",
};

/**
 * get target mode
 */
const toggleCustomDarkMode = () => {
  let currentSetting = getLS(darkModeStorageKey);

  if (validColorModeKeys[currentSetting]) {
    currentSetting = invertDarkModeObj[currentSetting];
  } else if (currentSetting === null) {
    currentSetting = invertDarkModeObj[getModeFromCSSMediaQuery()];
  } else {
    return;
  }
  setLS(darkModeStorageKey, currentSetting);
  return currentSetting;
};

/**
 * bind click event for toggle button
 */
var btn=$("#wrapper .toggle-mode-btn,#rightmenu-wrapper .toggle-mode-btn");
function bindToggleButton() {
    btn.on('click',(e) => {
      const mode = toggleCustomDarkMode();
      applyCustomDarkModeSettings(mode);
    });
}

applyCustomDarkModeSettings();
document.addEventListener("DOMContentLoaded", bindToggleButton);
volantis.pjax.push(bindToggleButton);
volantis.pjax.send(()=>{
	btn.unbind('click');
},'toggle-mode-btn-unbind');
</script>





<!-- baidu Analytics -->
<script>
var _hmt = _hmt || [];
(function() {
  setTimeout(function() {
    loadScript("https://hm.baidu.com/hm.js?VnXOrCA4S07hLqXKYg8UjNVb")
  }, 5000);
})();
// 关于百度统计对 SPA 页面的处理：
// 方案一：百度统计>管理>单页应用设置中，打开开启按钮即可对SPA进行统计。 https://tongji.baidu.com/web/help/article?id=324
// 方案二：取消注释下列代码。 https://tongji.baidu.com/web/help/article?id=235
volantis.pjax.push(()=>{_hmt.push(['_trackPageview', document.location.pathname]);},'baidu_analytics')
</script>




<script>
function listennSidebarTOC() {
  const navItems = document.querySelectorAll(".toc li");
  if (!navItems.length) return;
  const sections = [...navItems].map((element) => {
    const link = element.querySelector(".toc-link");
    const target = document.getElementById(
      decodeURI(link.getAttribute("href")).replace("#", "")
    );
    link.addEventListener("click", (event) => {
      event.preventDefault();
      window.scrollTo({
		top: target.offsetTop + 100,
		
		behavior: "smooth"
		
	  });
    });
    return target;
  });

  function activateNavByIndex(target) {
    if (target.classList.contains("active-current")) return;

    document.querySelectorAll(".toc .active").forEach((element) => {
      element.classList.remove("active", "active-current");
    });
    target.classList.add("active", "active-current");
    let parent = target.parentNode;
    while (!parent.matches(".toc")) {
      if (parent.matches("li")) parent.classList.add("active");
      parent = parent.parentNode;
    }
  }

  function findIndex(entries) {
    let index = 0;
    let entry = entries[index];
    if (entry.boundingClientRect.top > 0) {
      index = sections.indexOf(entry.target);
      return index === 0 ? 0 : index - 1;
    }
    for (; index < entries.length; index++) {
      if (entries[index].boundingClientRect.top <= 0) {
        entry = entries[index];
      } else {
        return sections.indexOf(entry.target);
      }
    }
    return sections.indexOf(entry.target);
  }

  function createIntersectionObserver(marginTop) {
    marginTop = Math.floor(marginTop + 10000);
    let intersectionObserver = new IntersectionObserver(
      (entries, observe) => {
        let scrollHeight = document.documentElement.scrollHeight + 100;
        if (scrollHeight > marginTop) {
          observe.disconnect();
          createIntersectionObserver(scrollHeight);
          return;
        }
        let index = findIndex(entries);
        activateNavByIndex(navItems[index]);
      },
      {
        rootMargin: marginTop + "px 0px -100% 0px",
        threshold: 0,
      }
    );
    sections.forEach((element) => {
      element && intersectionObserver.observe(element);
    });
  }
  createIntersectionObserver(document.documentElement.scrollHeight);
}

document.addEventListener("DOMContentLoaded", listennSidebarTOC);
document.addEventListener("pjax:success", listennSidebarTOC);
</script>

<!-- more -->

 
	   
	    


<script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js"></script>


<script>
    var pjax;
    document.addEventListener('DOMContentLoaded', function () {
      pjax = new Pjax({
        elements: 'a[href]:not([href^="#"]):not([href="javascript:void(0)"]):not([pjax-fancybox])',
        selectors: [
          "title",
          
          "#pjax-container",
          "#pjax-header-nav-list"
        ],
        cacheBust: false,   // url 地址追加时间戳，用以避免浏览器缓存
        timeout: 5000
      });
    });

    document.addEventListener('pjax:send', function (e) {
      //window.stop(); // 相当于点击了浏览器的停止按钮

      try {
        var currentUrl = window.location.pathname;
        var targetUrl = e.triggerElement.href;
        var banUrl = [""];
        if (banUrl[0] != "") {
          banUrl.forEach(item => {
            if(currentUrl.indexOf(item) != -1 || targetUrl.indexOf(item) != -1) {
              window.location.href = targetUrl;
            }
          });
        }
      } catch (error) {}

      window.subData = null; // 移除标题（用于一二级导航栏切换处）

      volantis.$switcher.removeClass('active'); // 关闭移动端激活的搜索框
      volantis.$header.removeClass('z_search-open'); // 关闭移动端激活的搜索框
      volantis.$wrapper.removeClass('sub'); // 跳转页面时关闭二级导航

      // 解绑事件 避免重复监听
      volantis.$topBtn.unbind('click');
      $('.menu a').unbind('click');
      $(window).unbind('resize');
      $(window).unbind('scroll');
      $(document).unbind('scroll');
      $(document).unbind('click');
      $('body').unbind('click');
	  // 使用 volantis.pjax.send 方法传入pjax:send回调函数 参见layout/_partial/scripts/global.ejs
	  volantis.pjax.method.send.start();
    });

    document.addEventListener('pjax:complete', function () {
      $('.nav-main').find('.list-v').not('.menu-phone').removeAttr("style",""); // 移除小尾巴的移除
      $('.menu-phone.list-v').removeAttr("style",""); // 移除小尾巴的移除
      $('script[data-pjax], .pjax-reload script').each(function () {
        $(this).parent().append($(this).remove());
      });
      try{
		// 使用 volantis.pjax.push 方法传入重载函数 参见layout/_partial/scripts/global.ejs
		volantis.pjax.method.complete.start();
      } catch (e) {
        console.log(e);
      }
    });

    document.addEventListener('pjax:error', function (e) {
	  // 使用 volantis.pjax.error 方法传入pjax:error回调函数 参见layout/_partial/scripts/global.ejs
	  volantis.pjax.method.error.start();
      window.location.href = e.triggerElement.href;
    });
</script>
 
	  
    </div>
  </body>
</html>
